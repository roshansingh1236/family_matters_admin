(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(i){if(i.ep)return;i.ep=!0;const c=t(i);fetch(i.href,c)}})();function s1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tg={exports:{}},ic={};var Rv;function a1(){if(Rv)return ic;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,i,c){var d=null;if(c!==void 0&&(d=""+c),i.key!==void 0&&(d=""+i.key),"key"in i){c={};for(var m in i)m!=="key"&&(c[m]=i[m])}else c=i;return i=c.ref,{$$typeof:r,type:a,key:d,ref:i!==void 0?i:null,props:c}}return ic.Fragment=e,ic.jsx=t,ic.jsxs=t,ic}var Iv;function i1(){return Iv||(Iv=1,tg.exports=a1()),tg.exports}var o=i1(),ng={exports:{}},Ae={};var Dv;function l1(){if(Dv)return Ae;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function R(V){return V===null||typeof V!="object"?null:(V=N&&V[N]||V["@@iterator"],typeof V=="function"?V:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,B={};function F(V,Z,ie){this.props=V,this.context=Z,this.refs=B,this.updater=ie||M}F.prototype.isReactComponent={},F.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function D(){}D.prototype=F.prototype;function U(V,Z,ie){this.props=V,this.context=Z,this.refs=B,this.updater=ie||M}var X=U.prototype=new D;X.constructor=U,q(X,F.prototype),X.isPureReactComponent=!0;var ce=Array.isArray;function ue(){}var O={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function E(V,Z,ie){var fe=ie.ref;return{$$typeof:r,type:V,key:Z,ref:fe!==void 0?fe:null,props:ie}}function T(V,Z){return E(V.type,Z,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return Z[ie]})}var C=/\/+/g;function xe(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):Z.toString(36)}function Je(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ue,ue):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Y(V,Z,ie,fe,Te){var De=typeof V;(De==="undefined"||De==="boolean")&&(V=null);var qe=!1;if(V===null)qe=!0;else switch(De){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(V.$$typeof){case r:case e:qe=!0;break;case v:return qe=V._init,Y(qe(V._payload),Z,ie,fe,Te)}}if(qe)return Te=Te(V),qe=fe===""?"."+xe(V,0):fe,ce(Te)?(ie="",qe!=null&&(ie=qe.replace(C,"$&/")+"/"),Y(Te,Z,ie,"",function(yr){return yr})):Te!=null&&(A(Te)&&(Te=T(Te,ie+(Te.key==null||V&&V.key===Te.key?"":(""+Te.key).replace(C,"$&/")+"/")+qe)),Z.push(Te)),1;qe=0;var Bt=fe===""?".":fe+":";if(ce(V))for(var dt=0;dt<V.length;dt++)fe=V[dt],De=Bt+xe(fe,dt),qe+=Y(fe,Z,ie,De,Te);else if(dt=R(V),typeof dt=="function")for(V=dt.call(V),dt=0;!(fe=V.next()).done;)fe=fe.value,De=Bt+xe(fe,dt++),qe+=Y(fe,Z,ie,De,Te);else if(De==="object"){if(typeof V.then=="function")return Y(Je(V),Z,ie,fe,Te);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return qe}function ae(V,Z,ie){if(V==null)return V;var fe=[],Te=0;return Y(V,fe,"","",function(De){return Z.call(ie,De,Te++)}),fe}function ye(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var Ie=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Oe={map:ae,forEach:function(V,Z,ie){ae(V,function(){Z.apply(this,arguments)},ie)},count:function(V){var Z=0;return ae(V,function(){Z++}),Z},toArray:function(V){return ae(V,function(Z){return Z})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Ae.Activity=b,Ae.Children=Oe,Ae.Component=F,Ae.Fragment=t,Ae.Profiler=i,Ae.PureComponent=U,Ae.StrictMode=a,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(V){return O.H.useMemoCache(V)}},Ae.cache=function(V){return function(){return V.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(V,Z,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var fe=q({},V.props),Te=V.key;if(Z!=null)for(De in Z.key!==void 0&&(Te=""+Z.key),Z)!k.call(Z,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Z.ref===void 0||(fe[De]=Z[De]);var De=arguments.length-2;if(De===1)fe.children=ie;else if(1<De){for(var qe=Array(De),Bt=0;Bt<De;Bt++)qe[Bt]=arguments[Bt+2];fe.children=qe}return E(V.type,Te,fe)},Ae.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Ae.createElement=function(V,Z,ie){var fe,Te={},De=null;if(Z!=null)for(fe in Z.key!==void 0&&(De=""+Z.key),Z)k.call(Z,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Te[fe]=Z[fe]);var qe=arguments.length-2;if(qe===1)Te.children=ie;else if(1<qe){for(var Bt=Array(qe),dt=0;dt<qe;dt++)Bt[dt]=arguments[dt+2];Te.children=Bt}if(V&&V.defaultProps)for(fe in qe=V.defaultProps,qe)Te[fe]===void 0&&(Te[fe]=qe[fe]);return E(V,De,Te)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(V){return{$$typeof:m,render:V}},Ae.isValidElement=A,Ae.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ye}},Ae.memo=function(V,Z){return{$$typeof:y,type:V,compare:Z===void 0?null:Z}},Ae.startTransition=function(V){var Z=O.T,ie={};O.T=ie;try{var fe=V(),Te=O.S;Te!==null&&Te(ie,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ue,Ie)}catch(De){Ie(De)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),O.T=Z}},Ae.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},Ae.use=function(V){return O.H.use(V)},Ae.useActionState=function(V,Z,ie){return O.H.useActionState(V,Z,ie)},Ae.useCallback=function(V,Z){return O.H.useCallback(V,Z)},Ae.useContext=function(V){return O.H.useContext(V)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(V,Z){return O.H.useDeferredValue(V,Z)},Ae.useEffect=function(V,Z){return O.H.useEffect(V,Z)},Ae.useEffectEvent=function(V){return O.H.useEffectEvent(V)},Ae.useId=function(){return O.H.useId()},Ae.useImperativeHandle=function(V,Z,ie){return O.H.useImperativeHandle(V,Z,ie)},Ae.useInsertionEffect=function(V,Z){return O.H.useInsertionEffect(V,Z)},Ae.useLayoutEffect=function(V,Z){return O.H.useLayoutEffect(V,Z)},Ae.useMemo=function(V,Z){return O.H.useMemo(V,Z)},Ae.useOptimistic=function(V,Z){return O.H.useOptimistic(V,Z)},Ae.useReducer=function(V,Z,ie){return O.H.useReducer(V,Z,ie)},Ae.useRef=function(V){return O.H.useRef(V)},Ae.useState=function(V){return O.H.useState(V)},Ae.useSyncExternalStore=function(V,Z,ie){return O.H.useSyncExternalStore(V,Z,ie)},Ae.useTransition=function(){return O.H.useTransition()},Ae.version="19.2.0",Ae}var Mv;function ip(){return Mv||(Mv=1,ng.exports=l1()),ng.exports}var I=ip();const Ov=s1(I),Se=r=>typeof r=="string",lc=()=>{let r,e;const t=new Promise((a,i)=>{r=a,e=i});return t.resolve=r,t.reject=e,t},Pv=r=>r==null?"":""+r,o1=(r,e,t)=>{r.forEach(a=>{e[a]&&(t[a]=e[a])})},c1=/###/g,Lv=r=>r&&r.indexOf("###")>-1?r.replace(c1,"."):r,Vv=r=>!r||Se(r),yc=(r,e,t)=>{const a=Se(e)?e.split("."):e;let i=0;for(;i<a.length-1;){if(Vv(r))return{};const c=Lv(a[i]);!r[c]&&t&&(r[c]=new t),Object.prototype.hasOwnProperty.call(r,c)?r=r[c]:r={},++i}return Vv(r)?{}:{obj:r,k:Lv(a[i])}},Uv=(r,e,t)=>{const{obj:a,k:i}=yc(r,e,Object);if(a!==void 0||e.length===1){a[i]=t;return}let c=e[e.length-1],d=e.slice(0,e.length-1),m=yc(r,d,Object);for(;m.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),m=yc(r,d,Object),m?.obj&&typeof m.obj[`${m.k}.${c}`]<"u"&&(m.obj=void 0);m.obj[`${m.k}.${c}`]=t},u1=(r,e,t,a)=>{const{obj:i,k:c}=yc(r,e,Object);i[c]=i[c]||[],i[c].push(t)},Xd=(r,e)=>{const{obj:t,k:a}=yc(r,e);if(t&&Object.prototype.hasOwnProperty.call(t,a))return t[a]},d1=(r,e,t)=>{const a=Xd(r,t);return a!==void 0?a:Xd(e,t)},ow=(r,e,t)=>{for(const a in e)a!=="__proto__"&&a!=="constructor"&&(a in r?Se(r[a])||r[a]instanceof String||Se(e[a])||e[a]instanceof String?t&&(r[a]=e[a]):ow(r[a],e[a],t):r[a]=e[a]);return r},jl=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var h1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const f1=r=>Se(r)?r.replace(/[&<>"'\/]/g,e=>h1[e]):r;class m1{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const a=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,a),this.regExpQueue.push(e),a}}const g1=[" ",",","?","!",";"],p1=new m1(20),y1=(r,e,t)=>{e=e||"",t=t||"";const a=g1.filter(d=>e.indexOf(d)<0&&t.indexOf(d)<0);if(a.length===0)return!0;const i=p1.getRegExp(`(${a.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!i.test(r);if(!c){const d=r.indexOf(t);d>0&&!i.test(r.substring(0,d))&&(c=!0)}return c},Ag=(r,e,t=".")=>{if(!r)return;if(r[e])return Object.prototype.hasOwnProperty.call(r,e)?r[e]:void 0;const a=e.split(t);let i=r;for(let c=0;c<a.length;){if(!i||typeof i!="object")return;let d,m="";for(let p=c;p<a.length;++p)if(p!==c&&(m+=t),m+=a[p],d=i[m],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&p<a.length-1)continue;c+=p-c+1;break}i=d}return i},Sc=r=>r?.replace("_","-"),x1={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console?.[r]?.apply?.(console,e)}};let v1=class kg{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||x1,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,a,i){return i&&!this.debug?null:(Se(e[0])&&(e[0]=`${a}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new kg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new kg(this.logger,e)}};var Rr=new v1;class vh{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const i=this.observers[a].get(t)||0;this.observers[a].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,c])=>{for(let d=0;d<c;d++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,c])=>{for(let d=0;d<c;d++)i.apply(i,[e,...t])})}}class zv extends vh{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,a,i={}){const c=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,d=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let m;e.indexOf(".")>-1?m=e.split("."):(m=[e,t],a&&(Array.isArray(a)?m.push(...a):Se(a)&&c?m.push(...a.split(c)):m.push(a)));const p=Xd(this.data,m);return!p&&!t&&!a&&e.indexOf(".")>-1&&(e=m[0],t=m[1],a=m.slice(2).join(".")),p||!d||!Se(a)?p:Ag(this.data?.[e]?.[t],a,c)}addResource(e,t,a,i,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let m=[e,t];a&&(m=m.concat(d?a.split(d):a)),e.indexOf(".")>-1&&(m=e.split("."),i=t,t=m[1]),this.addNamespaces(t),Uv(this.data,m,i),c.silent||this.emit("added",e,t,a,i)}addResources(e,t,a,i={silent:!1}){for(const c in a)(Se(a[c])||Array.isArray(a[c]))&&this.addResource(e,t,c,a[c],{silent:!0});i.silent||this.emit("added",e,t,a)}addResourceBundle(e,t,a,i,c,d={silent:!1,skipCopy:!1}){let m=[e,t];e.indexOf(".")>-1&&(m=e.split("."),i=a,a=t,t=m[1]),this.addNamespaces(t);let p=Xd(this.data,m)||{};d.skipCopy||(a=JSON.parse(JSON.stringify(a))),i?ow(p,a,c):p={...p,...a},Uv(this.data,m,p),d.silent||this.emit("added",e,t,a)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var cw={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,a,i){return r.forEach(c=>{e=this.processors[c]?.process(e,t,a,i)??e}),e}};const uw=Symbol("i18next/PATH_KEY");function b1(){const r=[],e=Object.create(null);let t;return e.get=(a,i)=>(t?.revoke?.(),i===uw?r:(r.push(i),t=Proxy.revocable(a,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Cg(r,e){const{[uw]:t}=r(b1());return t.join(e?.keySeparator??".")}const Fv={},rg=r=>!Se(r)&&typeof r!="boolean"&&typeof r!="number";class Jd extends vh{constructor(e,t={}){super(),o1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Rr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const a={...t};if(e==null)return!1;const i=this.resolve(e,a);if(i?.res===void 0)return!1;const c=rg(i.res);return!(a.returnObjects===!1&&c)}extractFromKey(e,t){let a=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let c=t.ns||this.options.defaultNS||[];const d=a&&e.indexOf(a)>-1,m=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!y1(e,a,i);if(d&&!m){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Se(c)?[c]:c};const y=e.split(a);(a!==i||a===i&&this.options.ns.indexOf(y[0])>-1)&&(c=y.shift()),e=y.join(i)}return{key:e,namespaces:Se(c)?[c]:c}}translate(e,t,a){let i=typeof t=="object"?{...t}:t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Cg(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const c=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,d=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:m,namespaces:p}=this.extractFromKey(e[e.length-1],i),y=p[p.length-1];let v=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const b=i.lng||this.language,N=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(b?.toLowerCase()==="cimode")return N?c?{res:`${y}${v}${m}`,usedKey:m,exactUsedKey:m,usedLng:b,usedNS:y,usedParams:this.getUsedParamsDetails(i)}:`${y}${v}${m}`:c?{res:m,usedKey:m,exactUsedKey:m,usedLng:b,usedNS:y,usedParams:this.getUsedParamsDetails(i)}:m;const R=this.resolve(e,i);let M=R?.res;const q=R?.usedKey||m,B=R?.exactUsedKey||m,F=["[object Number]","[object Function]","[object RegExp]"],D=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,U=!this.i18nFormat||this.i18nFormat.handleAsObject,X=i.count!==void 0&&!Se(i.count),ce=Jd.hasDefaultValue(i),ue=X?this.pluralResolver.getSuffix(b,i.count,i):"",O=i.ordinal&&X?this.pluralResolver.getSuffix(b,i.count,{ordinal:!1}):"",k=X&&!i.ordinal&&i.count===0,E=k&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${ue}`]||i[`defaultValue${O}`]||i.defaultValue;let T=M;U&&!M&&ce&&(T=E);const A=rg(T),P=Object.prototype.toString.apply(T);if(U&&T&&A&&F.indexOf(P)<0&&!(Se(D)&&Array.isArray(T))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(q,T,{...i,ns:p}):`key '${m} (${this.language})' returned an object instead of string.`;return c?(R.res=C,R.usedParams=this.getUsedParamsDetails(i),R):C}if(d){const C=Array.isArray(T),xe=C?[]:{},Je=C?B:q;for(const Y in T)if(Object.prototype.hasOwnProperty.call(T,Y)){const ae=`${Je}${d}${Y}`;ce&&!M?xe[Y]=this.translate(ae,{...i,defaultValue:rg(E)?E[Y]:void 0,joinArrays:!1,ns:p}):xe[Y]=this.translate(ae,{...i,joinArrays:!1,ns:p}),xe[Y]===ae&&(xe[Y]=T[Y])}M=xe}}else if(U&&Se(D)&&Array.isArray(M))M=M.join(D),M&&(M=this.extendTranslation(M,e,i,a));else{let C=!1,xe=!1;!this.isValidLookup(M)&&ce&&(C=!0,M=E),this.isValidLookup(M)||(xe=!0,M=m);const Y=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&xe?void 0:M,ae=ce&&E!==M&&this.options.updateMissing;if(xe||C||ae){if(this.logger.log(ae?"updateKey":"missingKey",b,y,m,ae?E:M),d){const V=this.resolve(m,{...i,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Ie=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ie&&Ie[0])for(let V=0;V<Ie.length;V++)ye.push(Ie[V]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(i.lng||this.language):ye.push(i.lng||this.language);const Oe=(V,Z,ie)=>{const fe=ce&&ie!==M?ie:Y;this.options.missingKeyHandler?this.options.missingKeyHandler(V,y,Z,fe,ae,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(V,y,Z,fe,ae,i),this.emit("missingKey",V,y,Z,M)};this.options.saveMissing&&(this.options.saveMissingPlurals&&X?ye.forEach(V=>{const Z=this.pluralResolver.getSuffixes(V,i);k&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(ie=>{Oe([V],m+ie,i[`defaultValue${ie}`]||E)})}):Oe(ye,m,E))}M=this.extendTranslation(M,e,i,R,a),xe&&M===m&&this.options.appendNamespaceToMissingKey&&(M=`${y}${v}${m}`),(xe||C)&&this.options.parseMissingKeyHandler&&(M=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${y}${v}${m}`:m,C?M:void 0,i))}return c?(R.res=M,R.usedParams=this.getUsedParamsDetails(i),R):M}extendTranslation(e,t,a,i,c){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const p=Se(e)&&(a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(p){const b=e.match(this.interpolator.nestingRegexp);y=b&&b.length}let v=a.replace&&!Se(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(v={...this.options.interpolation.defaultVariables,...v}),e=this.interpolator.interpolate(e,v,a.lng||this.language||i.usedLng,a),p){const b=e.match(this.interpolator.nestingRegexp),N=b&&b.length;y<N&&(a.nest=!1)}!a.lng&&i&&i.res&&(a.lng=this.language||i.usedLng),a.nest!==!1&&(e=this.interpolator.nest(e,(...b)=>c?.[0]===b[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${t[0]}`),null):this.translate(...b,t),a)),a.interpolation&&this.interpolator.reset()}const d=a.postProcess||this.options.postProcess,m=Se(d)?[d]:d;return e!=null&&m?.length&&a.applyPostProcessor!==!1&&(e=cw.handle(m,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),e}resolve(e,t={}){let a,i,c,d,m;return Se(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(a))return;const y=this.extractFromKey(p,t),v=y.key;i=v;let b=y.namespaces;this.options.fallbackNS&&(b=b.concat(this.options.fallbackNS));const N=t.count!==void 0&&!Se(t.count),R=N&&!t.ordinal&&t.count===0,M=t.context!==void 0&&(Se(t.context)||typeof t.context=="number")&&t.context!=="",q=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);b.forEach(B=>{this.isValidLookup(a)||(m=B,!Fv[`${q[0]}-${B}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(m)&&(Fv[`${q[0]}-${B}`]=!0,this.logger.warn(`key "${i}" for languages "${q.join(", ")}" won't get resolved as namespace "${m}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),q.forEach(F=>{if(this.isValidLookup(a))return;d=F;const D=[v];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(D,v,F,B,t);else{let X;N&&(X=this.pluralResolver.getSuffix(F,t.count,t));const ce=`${this.options.pluralSeparator}zero`,ue=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(N&&(t.ordinal&&X.indexOf(ue)===0&&D.push(v+X.replace(ue,this.options.pluralSeparator)),D.push(v+X),R&&D.push(v+ce)),M){const O=`${v}${this.options.contextSeparator||"_"}${t.context}`;D.push(O),N&&(t.ordinal&&X.indexOf(ue)===0&&D.push(O+X.replace(ue,this.options.pluralSeparator)),D.push(O+X),R&&D.push(O+ce))}}let U;for(;U=D.pop();)this.isValidLookup(a)||(c=U,a=this.getResource(F,B,U,t))}))})}),{res:a,usedKey:i,exactUsedKey:c,usedLng:d,usedNS:m}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,a,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,a,i):this.resourceStore.getResource(e,t,a,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=e.replace&&!Se(e.replace);let i=a?e.replace:e;if(a&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!a){i={...i};for(const c of t)delete i[c]}return i}static hasDefaultValue(e){const t="defaultValue";for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t===a.substring(0,t.length)&&e[a]!==void 0)return!0;return!1}}class Bv{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Rr.create("languageUtils")}getScriptPartFromCode(e){if(e=Sc(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Sc(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Se(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(a=>{if(t)return;const i=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(a=>{if(t)return;const i=this.getScriptPartFromCode(a);if(this.isSupportedCode(i))return t=i;const c=this.getLanguagePartFromCode(a);if(this.isSupportedCode(c))return t=c;t=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Se(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let a=e[t];return a||(a=e[this.getScriptPartFromCode(t)]),a||(a=e[this.formatLanguageCode(t)]),a||(a=e[this.getLanguagePartFromCode(t)]),a||(a=e.default),a||[]}toResolveHierarchy(e,t){const a=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],c=d=>{d&&(this.isSupportedCode(d)?i.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return Se(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):Se(e)&&c(this.formatLanguageCode(e)),a.forEach(d=>{i.indexOf(d)<0&&c(this.formatLanguageCode(d))}),i}}const qv={zero:0,one:1,two:2,few:3,many:4,other:5},Hv={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class _1{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Rr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const a=Sc(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:a,type:i});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(a,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Hv;if(!e.match(/-|_/))return Hv;const p=this.languageUtils.getLanguagePartFromCode(e);d=this.getRule(p,t)}return this.pluralRulesCache[c]=d,d}needsPlural(e,t={}){let a=this.getRule(e,t);return a||(a=this.getRule("dev",t)),a?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,a={}){return this.getSuffixes(e,a).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let a=this.getRule(e,t);return a||(a=this.getRule("dev",t)),a?a.resolvedOptions().pluralCategories.sort((i,c)=>qv[i]-qv[c]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,a={}){const i=this.getRule(e,a);return i?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,a))}}const $v=(r,e,t,a=".",i=!0)=>{let c=d1(r,e,t);return!c&&i&&Se(t)&&(c=Ag(r,t,a),c===void 0&&(c=Ag(e,t,a))),c},sg=r=>r.replace(/\$/g,"$$$$");class w1{constructor(e={}){this.logger=Rr.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:a,useRawValueToEscape:i,prefix:c,prefixEscaped:d,suffix:m,suffixEscaped:p,formatSeparator:y,unescapeSuffix:v,unescapePrefix:b,nestingPrefix:N,nestingPrefixEscaped:R,nestingSuffix:M,nestingSuffixEscaped:q,nestingOptionsSeparator:B,maxReplaces:F,alwaysFormat:D}=e.interpolation;this.escape=t!==void 0?t:f1,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=c?jl(c):d||"{{",this.suffix=m?jl(m):p||"}}",this.formatSeparator=y||",",this.unescapePrefix=v?"":b||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=N?jl(N):R||jl("$t("),this.nestingSuffix=M?jl(M):q||jl(")"),this.nestingOptionsSeparator=B||",",this.maxReplaces=F||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,a)=>t?.source===a?(t.lastIndex=0,t):new RegExp(a,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,a,i){let c,d,m;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},y=R=>{if(R.indexOf(this.formatSeparator)<0){const F=$v(t,p,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,a,{...i,...t,interpolationkey:R}):F}const M=R.split(this.formatSeparator),q=M.shift().trim(),B=M.join(this.formatSeparator).trim();return this.format($v(t,p,q,this.options.keySeparator,this.options.ignoreJSONStructure),B,a,{...i,...t,interpolationkey:q})};this.resetRegExp();const v=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,b=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>sg(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?sg(this.escape(R)):sg(R)}].forEach(R=>{for(m=0;c=R.regex.exec(e);){const M=c[1].trim();if(d=y(M),d===void 0)if(typeof v=="function"){const B=v(e,c,i);d=Se(B)?B:""}else if(i&&Object.prototype.hasOwnProperty.call(i,M))d="";else if(b){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${e}`),d="";else!Se(d)&&!this.useRawValueToEscape&&(d=Pv(d));const q=R.safeValue(d);if(e=e.replace(c[0],q),b?(R.regex.lastIndex+=d.length,R.regex.lastIndex-=c[0].length):R.regex.lastIndex=0,m++,m>=this.maxReplaces)break}}),e}nest(e,t,a={}){let i,c,d;const m=(p,y)=>{const v=this.nestingOptionsSeparator;if(p.indexOf(v)<0)return p;const b=p.split(new RegExp(`${v}[ ]*{`));let N=`{${b[1]}`;p=b[0],N=this.interpolate(N,d);const R=N.match(/'/g),M=N.match(/"/g);((R?.length??0)%2===0&&!M||M.length%2!==0)&&(N=N.replace(/'/g,'"'));try{d=JSON.parse(N),y&&(d={...y,...d})}catch(q){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,q),`${p}${v}${N}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,p};for(;i=this.nestingRegexp.exec(e);){let p=[];d={...a},d=d.replace&&!Se(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const y=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(y!==-1&&(p=i[1].slice(y).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),i[1]=i[1].slice(0,y)),c=t(m.call(this,i[1].trim(),d),d),c&&i[0]===e&&!Se(c))return c;Se(c)||(c=Pv(c)),c||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),c=""),p.length&&(c=p.reduce((v,b)=>this.format(v,b,a.lng,{...a,interpolationkey:i[1].trim()}),c.trim())),e=e.replace(i[0],c),this.regexp.lastIndex=0}return e}}const N1=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const a=r.split("(");e=a[0].toLowerCase().trim();const i=a[1].substring(0,a[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(d=>{if(d){const[m,...p]=d.split(":"),y=p.join(":").trim().replace(/^'+|'+$/g,""),v=m.trim();t[v]||(t[v]=y),y==="false"&&(t[v]=!1),y==="true"&&(t[v]=!0),isNaN(y)||(t[v]=parseInt(y,10))}})}return{formatName:e,formatOptions:t}},Gv=r=>{const e={};return(t,a,i)=>{let c=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(c={...c,[i.interpolationkey]:void 0});const d=a+JSON.stringify(c);let m=e[d];return m||(m=r(Sc(a),i),e[d]=m),m(t)}},E1=r=>(e,t,a)=>r(Sc(t),a)(e);class T1{constructor(e={}){this.logger=Rr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const a=t.cacheInBuiltFormats?Gv:E1;this.formats={number:a((i,c)=>{const d=new Intl.NumberFormat(i,{...c});return m=>d.format(m)}),currency:a((i,c)=>{const d=new Intl.NumberFormat(i,{...c,style:"currency"});return m=>d.format(m)}),datetime:a((i,c)=>{const d=new Intl.DateTimeFormat(i,{...c});return m=>d.format(m)}),relativetime:a((i,c)=>{const d=new Intl.RelativeTimeFormat(i,{...c});return m=>d.format(m,c.range||"day")}),list:a((i,c)=>{const d=new Intl.ListFormat(i,{...c});return m=>d.format(m)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Gv(t)}format(e,t,a,i={}){const c=t.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(m=>m.indexOf(")")>-1)){const m=c.findIndex(p=>p.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,m)].join(this.formatSeparator)}return c.reduce((m,p)=>{const{formatName:y,formatOptions:v}=N1(p);if(this.formats[y]){let b=m;try{const N=i?.formatParams?.[i.interpolationkey]||{},R=N.locale||N.lng||i.locale||i.lng||a;b=this.formats[y](m,R,{...v,...i,...N})}catch(N){this.logger.warn(N)}return b}else this.logger.warn(`there was no format function for ${y}`);return m},e)}}const S1=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class j1 extends vh{constructor(e,t,a,i={}){super(),this.backend=e,this.store=t,this.services=a,this.languageUtils=a.languageUtils,this.options=i,this.logger=Rr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(a,i.backend,i)}queueLoad(e,t,a,i){const c={},d={},m={},p={};return e.forEach(y=>{let v=!0;t.forEach(b=>{const N=`${y}|${b}`;!a.reload&&this.store.hasResourceBundle(y,b)?this.state[N]=2:this.state[N]<0||(this.state[N]===1?d[N]===void 0&&(d[N]=!0):(this.state[N]=1,v=!1,d[N]===void 0&&(d[N]=!0),c[N]===void 0&&(c[N]=!0),p[b]===void 0&&(p[b]=!0)))}),v||(m[y]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(m),toLoadNamespaces:Object.keys(p)}}loaded(e,t,a){const i=e.split("|"),c=i[0],d=i[1];t&&this.emit("failedLoading",c,d,t),!t&&a&&this.store.addResourceBundle(c,d,a,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&a&&(this.state[e]=0);const m={};this.queue.forEach(p=>{u1(p.loaded,[c],d),S1(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(y=>{m[y]||(m[y]={});const v=p.loaded[y];v.length&&v.forEach(b=>{m[y][b]===void 0&&(m[y][b]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",m),this.queue=this.queue.filter(p=>!p.done)}read(e,t,a,i=0,c=this.retryTimeout,d){if(!e.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:a,tried:i,wait:c,callback:d});return}this.readingCalls++;const m=(y,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const b=this.waitingReads.shift();this.read(b.lng,b.ns,b.fcName,b.tried,b.wait,b.callback)}if(y&&v&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,a,i+1,c*2,d)},c);return}d(y,v)},p=this.backend[a].bind(this.backend);if(p.length===2){try{const y=p(e,t);y&&typeof y.then=="function"?y.then(v=>m(null,v)).catch(m):m(null,y)}catch(y){m(y)}return}return p(e,t,m)}prepareLoading(e,t,a={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Se(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Se(t)&&(t=[t]);const c=this.queueLoad(e,t,a,i);if(!c.toLoad.length)return c.pending.length||i(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(e,t,a){this.prepareLoading(e,t,{},a)}reload(e,t,a){this.prepareLoading(e,t,{reload:!0},a)}loadOne(e,t=""){const a=e.split("|"),i=a[0],c=a[1];this.read(i,c,"read",void 0,void 0,(d,m)=>{d&&this.logger.warn(`${t}loading namespace ${c} for language ${i} failed`,d),!d&&m&&this.logger.log(`${t}loaded namespace ${c} for language ${i}`,m),this.loaded(e,d,m)})}saveMissing(e,t,a,i,c,d={},m=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${a}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend?.create){const p={...d,isUpdate:c},y=this.backend.create.bind(this.backend);if(y.length<6)try{let v;y.length===5?v=y(e,t,a,i,p):v=y(e,t,a,i),v&&typeof v.then=="function"?v.then(b=>m(null,b)).catch(m):m(null,v)}catch(v){m(v)}else y(e,t,a,i,m,p)}!e||!e[0]||this.store.addResource(e[0],t,a,i)}}}const Kv=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),Se(r[1])&&(e.defaultValue=r[1]),Se(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(a=>{e[a]=t[a]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Yv=r=>(Se(r.ns)&&(r.ns=[r.ns]),Se(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),Se(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),Ad=()=>{},A1=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class xc extends vh{constructor(e={},t){if(super(),this.options=Yv(e),this.services={},this.logger=Rr,this.modules={external:[]},A1(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Se(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const a=Kv();this.options={...a,...this.options,...Yv(e)},this.options.interpolation={...a.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?Rr.init(i(this.modules.logger),this.options):Rr.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:y=T1;const v=new Bv(this.options);this.store=new zv(this.options.resources,this.options);const b=this.services;b.logger=Rr,b.resourceStore=this.store,b.languageUtils=v,b.pluralResolver=new _1(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),y&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(b.formatter=i(y),b.formatter.init&&b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new w1(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new j1(i(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",(R,...M)=>{this.emit(R,...M)}),this.modules.languageDetector&&(b.languageDetector=i(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=i(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Jd(this.services,this.options),this.translator.on("*",(R,...M)=>{this.emit(R,...M)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Ad),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=(...v)=>this.store[y](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=(...v)=>(this.store[y](...v),this)});const m=lc(),p=()=>{const y=(v,b)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(b),t(v,b)};if(this.languages&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),m}loadResources(e,t=Ad){let a=t;const i=Se(e)?e:this.language;if(typeof e=="function"&&(a=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const c=[],d=m=>{if(!m||m==="cimode")return;this.services.languageUtils.toResolveHierarchy(m).forEach(y=>{y!=="cimode"&&c.indexOf(y)<0&&c.push(y)})};i?d(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>d(p)),this.options.preload?.forEach?.(m=>d(m)),this.services.backendConnector.load(c,this.options.ns,m=>{!m&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(m)})}else a(null)}reloadResources(e,t,a){const i=lc();return typeof e=="function"&&(a=e,e=void 0),typeof t=="function"&&(a=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),a||(a=Ad),this.services.backendConnector.reload(e,t,c=>{i.resolve(),a(c)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cw.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const a=this.languages[t];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const a=lc();this.emit("languageChanging",e);const i=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},c=(m,p)=>{p?this.isLanguageChangingTo===e&&(i(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,a.resolve((...y)=>this.t(...y)),t&&t(m,(...y)=>this.t(...y))},d=m=>{!e&&!m&&this.services.languageDetector&&(m=[]);const p=Se(m)?m:m&&m[0],y=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Se(m)?[m]:m);y&&(this.language||i(y),this.translator.language||this.translator.changeLanguage(y),this.services.languageDetector?.cacheUserLanguage?.(y)),this.loadResources(y,v=>{c(v,y)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),a}getFixedT(e,t,a){const i=(c,d,...m)=>{let p;typeof d!="object"?p=this.options.overloadTranslationOptionHandler([c,d].concat(m)):p={...d},p.lng=p.lng||i.lng,p.lngs=p.lngs||i.lngs,p.ns=p.ns||i.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||a||i.keyPrefix);const y=this.options.keySeparator||".";let v;return p.keyPrefix&&Array.isArray(c)?v=c.map(b=>(typeof b=="function"&&(b=Cg(b,{...this.options,...d})),`${p.keyPrefix}${y}${b}`)):(typeof c=="function"&&(c=Cg(c,{...this.options,...d})),v=p.keyPrefix?`${p.keyPrefix}${y}${c}`:c),this.t(v,p)};return Se(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=a,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const d=(m,p)=>{const y=this.services.backendConnector.state[`${m}|${p}`];return y===-1||y===0||y===2};if(t.precheck){const m=t.precheck(this,d);if(m!==void 0)return m}return!!(this.hasResourceBundle(a,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(a,e)&&(!i||d(c,e)))}loadNamespaces(e,t){const a=lc();return this.options.ns?(Se(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{a.resolve(),t&&t(i)}),a):(t&&t(),Promise.resolve())}loadLanguages(e,t){const a=lc();Se(e)&&(e=[e]);const i=this.options.preload||[],c=e.filter(d=>i.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=i.concat(c),this.loadResources(d=>{a.resolve(),t&&t(d)}),a):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const c=i.getTextInfo();if(c&&c.direction)return c.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services?.languageUtils||new Bv(Kv());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(a.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const a=new xc(e,t);return a.createInstance=xc.createInstance,a}cloneInstance(e={},t=Ad){const a=e.forkResourceStore;a&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},c=new xc(i);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(m=>{c[m]=this[m]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},a){const m=Object.keys(this.store.data).reduce((p,y)=>(p[y]={...this.store.data[y]},p[y]=Object.keys(p[y]).reduce((v,b)=>(v[b]={...p[y][b]},v),p[y]),p),{});c.store=new zv(m,i),c.services.resourceStore=c.store}return c.translator=new Jd(c.services,i),c.translator.on("*",(m,...p)=>{c.emit(m,...p)}),c.init(i,t),c.translator.options=i,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=xc.createInstance();gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const k1=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,C1={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},R1=r=>C1[r],I1=r=>r.replace(k1,R1);let Qv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:I1};const D1=(r={})=>{Qv={...Qv,...r}},M1={type:"3rdParty",init(r){D1(r.options.react)}},{slice:O1,forEach:P1}=[];function L1(r){return P1.call(O1.call(arguments,1),e=>{if(e)for(const t in e)r[t]===void 0&&(r[t]=e[t])}),r}function V1(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(r))}const Xv=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,U1=function(r,e){const a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let c=`${r}=${i}`;if(a.maxAge>0){const d=a.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(a.domain){if(!Xv.test(a.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${a.domain}`}if(a.path){if(!Xv.test(a.path))throw new TypeError("option path is invalid");c+=`; Path=${a.path}`}if(a.expires){if(typeof a.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${a.expires.toUTCString()}`}if(a.httpOnly&&(c+="; HttpOnly"),a.secure&&(c+="; Secure"),a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(c+="; Partitioned"),c},Jv={create(r,e,t,a){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),a&&(i.domain=a),document.cookie=U1(r,e,i)},read(r){const e=`${r}=`,t=document.cookie.split(";");for(let a=0;a<t.length;a++){let i=t[a];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(r,e){this.create(r,"",-1,e)}};var z1={name:"cookie",lookup(r){let{lookupCookie:e}=r;if(e&&typeof document<"u")return Jv.read(e)||void 0},cacheUserLanguage(r,e){let{lookupCookie:t,cookieMinutes:a,cookieDomain:i,cookieOptions:c}=e;t&&typeof document<"u"&&Jv.create(t,r,a,i,c)}},F1={name:"querystring",lookup(r){let{lookupQuerystring:e}=r,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const c=a.substring(1).split("&");for(let d=0;d<c.length;d++){const m=c[d].indexOf("=");m>0&&c[d].substring(0,m)===e&&(t=c[d].substring(m+1))}}return t}},B1={name:"hash",lookup(r){let{lookupHash:e,lookupFromHashIndex:t}=r,a;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const c=i.substring(1);if(e){const d=c.split("&");for(let m=0;m<d.length;m++){const p=d[m].indexOf("=");p>0&&d[m].substring(0,p)===e&&(a=d[m].substring(p+1))}}if(a)return a;if(!a&&t>-1){const d=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?d[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return a}};let Al=null;const Wv=()=>{if(Al!==null)return Al;try{if(Al=typeof window<"u"&&window.localStorage!==null,!Al)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{Al=!1}return Al};var q1={name:"localStorage",lookup(r){let{lookupLocalStorage:e}=r;if(e&&Wv())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupLocalStorage:t}=e;t&&Wv()&&window.localStorage.setItem(t,r)}};let kl=null;const Zv=()=>{if(kl!==null)return kl;try{if(kl=typeof window<"u"&&window.sessionStorage!==null,!kl)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{kl=!1}return kl};var H1={name:"sessionStorage",lookup(r){let{lookupSessionStorage:e}=r;if(e&&Zv())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(r,e){let{lookupSessionStorage:t}=e;t&&Zv()&&window.sessionStorage.setItem(t,r)}},$1={name:"navigator",lookup(r){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:a,language:i}=navigator;if(t)for(let c=0;c<t.length;c++)e.push(t[c]);a&&e.push(a),i&&e.push(i)}return e.length>0?e:void 0}},G1={name:"htmlTag",lookup(r){let{htmlTag:e}=r,t;const a=e||(typeof document<"u"?document.documentElement:null);return a&&typeof a.getAttribute=="function"&&(t=a.getAttribute("lang")),t}},K1={name:"path",lookup(r){let{lookupFromPathIndex:e}=r;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},Y1={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:e}=r;const t=typeof e=="number"?e+1:1,a=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(a)return a[t]}};let dw=!1;try{document.cookie,dw=!0}catch{}const hw=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];dw||hw.splice(1,1);const Q1=()=>({order:hw,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class fw{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=L1(t,this.options||{},Q1()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=a,this.addDetector(z1),this.addDetector(F1),this.addDetector(q1),this.addDetector(H1),this.addDetector($1),this.addDetector(G1),this.addDetector(K1),this.addDetector(Y1),this.addDetector(B1)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(a=>{if(this.detectors[a]){let i=this.detectors[a].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(a=>a!=null&&!V1(a)).map(a=>this.options.convertDetectedLanguage(a)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(a=>{this.detectors[a]&&this.detectors[a].cacheUserLanguage(e,this.options)}))}}fw.type="languageDetector";const eb=Object.assign({}),uc={};Object.keys(eb).forEach(r=>{const e=r.match(/\.\/([^/]+)\/([^/]+)\.ts$/);if(e){const[,t]=e,a=eb[r];uc[t]||(uc[t]={translation:{}}),a.default&&(uc[t].translation={...uc[t].translation,...a.default})}});gn.use(fw).use(M1).init({lng:"en",fallbackLng:"en",debug:!1,resources:uc,interpolation:{escapeValue:!1}});var ag={exports:{}},oc={},ig={exports:{}},lg={};var tb;function X1(){return tb||(tb=1,(function(r){function e(Y,ae){var ye=Y.length;Y.push(ae);e:for(;0<ye;){var Ie=ye-1>>>1,Oe=Y[Ie];if(0<i(Oe,ae))Y[Ie]=ae,Y[ye]=Oe,ye=Ie;else break e}}function t(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var ae=Y[0],ye=Y.pop();if(ye!==ae){Y[0]=ye;e:for(var Ie=0,Oe=Y.length,V=Oe>>>1;Ie<V;){var Z=2*(Ie+1)-1,ie=Y[Z],fe=Z+1,Te=Y[fe];if(0>i(ie,ye))fe<Oe&&0>i(Te,ie)?(Y[Ie]=Te,Y[fe]=ye,Ie=fe):(Y[Ie]=ie,Y[Z]=ye,Ie=Z);else if(fe<Oe&&0>i(Te,ye))Y[Ie]=Te,Y[fe]=ye,Ie=fe;else break e}}return ae}function i(Y,ae){var ye=Y.sortIndex-ae.sortIndex;return ye!==0?ye:Y.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var p=[],y=[],v=1,b=null,N=3,R=!1,M=!1,q=!1,B=!1,F=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function X(Y){for(var ae=t(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=Y)a(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=t(y)}}function ce(Y){if(q=!1,X(Y),!M)if(t(p)!==null)M=!0,ue||(ue=!0,P());else{var ae=t(y);ae!==null&&Je(ce,ae.startTime-Y)}}var ue=!1,O=-1,k=5,E=-1;function T(){return B?!0:!(r.unstable_now()-E<k)}function A(){if(B=!1,ue){var Y=r.unstable_now();E=Y;var ae=!0;try{e:{M=!1,q&&(q=!1,D(O),O=-1),R=!0;var ye=N;try{t:{for(X(Y),b=t(p);b!==null&&!(b.expirationTime>Y&&T());){var Ie=b.callback;if(typeof Ie=="function"){b.callback=null,N=b.priorityLevel;var Oe=Ie(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof Oe=="function"){b.callback=Oe,X(Y),ae=!0;break t}b===t(p)&&a(p),X(Y)}else a(p);b=t(p)}if(b!==null)ae=!0;else{var V=t(y);V!==null&&Je(ce,V.startTime-Y),ae=!1}}break e}finally{b=null,N=ye,R=!1}ae=void 0}}finally{ae?P():ue=!1}}}var P;if(typeof U=="function")P=function(){U(A)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,xe=C.port2;C.port1.onmessage=A,P=function(){xe.postMessage(null)}}else P=function(){F(A,0)};function Je(Y,ae){O=F(function(){Y(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(Y){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var ye=N;N=ae;try{return Y()}finally{N=ye}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ye=N;N=Y;try{return ae()}finally{N=ye}},r.unstable_scheduleCallback=function(Y,ae,ye){var Ie=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ie+ye:Ie):ye=Ie,Y){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ye+Oe,Y={id:v++,callback:ae,priorityLevel:Y,startTime:ye,expirationTime:Oe,sortIndex:-1},ye>Ie?(Y.sortIndex=ye,e(y,Y),t(p)===null&&Y===t(y)&&(q?(D(O),O=-1):q=!0,Je(ce,ye-Ie))):(Y.sortIndex=Oe,e(p,Y),M||R||(M=!0,ue||(ue=!0,P()))),Y},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(Y){var ae=N;return function(){var ye=N;N=ae;try{return Y.apply(this,arguments)}finally{N=ye}}}})(lg)),lg}var nb;function J1(){return nb||(nb=1,ig.exports=X1()),ig.exports}var og={exports:{}},rn={};var rb;function W1(){if(rb)return rn;rb=1;var r=ip();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function c(p,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:b==null?null:""+b,children:p,containerInfo:y,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,rn.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,v)},rn.flushSync=function(p){var y=d.T,v=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=v,a.d.f()}},rn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},rn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},rn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,b=m(v,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,R=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:R}):v==="script"&&a.d.X(p,{crossOrigin:b,integrity:N,fetchPriority:R,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},rn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},rn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=m(v,y.crossOrigin);a.d.L(p,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},rn.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},rn.requestFormReset=function(p){a.d.r(p)},rn.unstable_batchedUpdates=function(p,y){return p(y)},rn.useFormState=function(p,y,v){return d.H.useFormState(p,y,v)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.2.0",rn}var sb;function Z1(){if(sb)return og.exports;sb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),og.exports=W1(),og.exports}var ab;function ej(){if(ab)return oc;ab=1;var r=J1(),e=ip(),t=Z1();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function d(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(a(188))}function y(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(a(188));return s!==n?null:n}for(var l=n,u=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return p(f),n;if(g===u)return p(f),s;g=g.sibling}throw Error(a(188))}if(l.return!==u.return)l=f,u=g;else{for(var _=!1,S=f.child;S;){if(S===l){_=!0,l=f,u=g;break}if(S===u){_=!0,u=f,l=g;break}S=S.sibling}if(!_){for(S=g.child;S;){if(S===l){_=!0,l=g,u=f;break}if(S===u){_=!0,u=g,l=f;break}S=S.sibling}if(!_)throw Error(a(189))}}if(l.alternate!==u)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),U=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function P(n){return n===null||typeof n!="object"?null:(n=A&&n[A]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function xe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case F:return"Profiler";case B:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList";case E:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case U:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case X:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return s=n.displayName||null,s!==null?s:xe(n.type)||"Memo";case k:s=n._payload,n=n._init;try{return xe(n(s))}catch{}}return null}var Je=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ie=[],Oe=-1;function V(n){return{current:n}}function Z(n){0>Oe||(n.current=Ie[Oe],Ie[Oe]=null,Oe--)}function ie(n,s){Oe++,Ie[Oe]=n.current,n.current=s}var fe=V(null),Te=V(null),De=V(null),qe=V(null);function Bt(n,s){switch(ie(De,s),ie(Te,n),ie(fe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?ev(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=ev(s),n=tv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(fe),ie(fe,n)}function dt(){Z(fe),Z(Te),Z(De)}function yr(n){n.memoizedState!==null&&ie(qe,n);var s=fe.current,l=tv(s,n.type);s!==l&&(ie(Te,n),ie(fe,l))}function Br(n){Te.current===n&&(Z(fe),Z(Te)),qe.current===n&&(Z(qe),nc._currentValue=ye)}var Ua,Vi;function rr(n){if(Ua===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Ua=s&&s[1]||"",Vi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ua+n+Vi}var za=!1;function Ui(n,s){if(!n||za)return"";za=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(J){var Q=J}Reflect.construct(n,[],ne)}else{try{ne.call()}catch(J){Q=J}n.call(ne.prototype)}}else{try{throw Error()}catch(J){Q=J}(ne=n())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(J){if(J&&Q&&typeof J.stack=="string")return[J.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],S=g[1];if(_&&S){var L=_.split(`
`),K=S.split(`
`);for(f=u=0;u<L.length&&!L[u].includes("DetermineComponentFrameRoot");)u++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(u===L.length||f===K.length)for(u=L.length-1,f=K.length-1;1<=u&&0<=f&&L[u]!==K[f];)f--;for(;1<=u&&0<=f;u--,f--)if(L[u]!==K[f]){if(u!==1||f!==1)do if(u--,f--,0>f||L[u]!==K[f]){var ee=`
`+L[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=f);break}}}finally{za=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?rr(l):""}function Jh(n,s){switch(n.tag){case 26:case 27:case 5:return rr(n.type);case 16:return rr("Lazy");case 13:return n.child!==s&&s!==null?rr("Suspense Fallback"):rr("Suspense");case 19:return rr("SuspenseList");case 0:case 15:return Ui(n.type,!1);case 11:return Ui(n.type.render,!1);case 1:return Ui(n.type,!0);case 31:return rr("Activity");default:return""}}function eu(n){try{var s="",l=null;do s+=Jh(n,l),l=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zi=Object.prototype.hasOwnProperty,Fa=r.unstable_scheduleCallback,Fi=r.unstable_cancelCallback,Wh=r.unstable_shouldYield,so=r.unstable_requestPaint,qt=r.unstable_now,tu=r.unstable_getCurrentPriorityLevel,It=r.unstable_ImmediatePriority,Pt=r.unstable_UserBlockingPriority,qr=r.unstable_NormalPriority,nu=r.unstable_LowPriority,ao=r.unstable_IdlePriority,Zh=r.log,Ba=r.unstable_setDisableYieldValue,js=null,tn=null;function Fn(n){if(typeof Zh=="function"&&Ba(n),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(js,n)}catch{}}var cn=Math.clz32?Math.clz32:ru,ef=Math.log,io=Math.LN2;function ru(n){return n>>>=0,n===0?32:31-(ef(n)/io|0)|0}var qa=256,xr=262144,As=4194304;function sr(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Bn(n,s,l){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=sr(u):(_&=S,_!==0?f=sr(_):l||(l=S&~n,l!==0&&(f=sr(l))))):(S=u&~g,S!==0?f=sr(S):_!==0?f=sr(_):l||(l=u&~n,l!==0&&(f=sr(l)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:f}function ks(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Bi(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var n=As;return As<<=1,(As&62914560)===0&&(As=4194304),n}function Hr(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Cs(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ht(n,s,l,u,f,g){var _=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var S=n.entanglements,L=n.expirationTimes,K=n.hiddenUpdates;for(l=_&~l;0<l;){var ee=31-cn(l),ne=1<<ee;S[ee]=0,L[ee]=-1;var Q=K[ee];if(Q!==null)for(K[ee]=null,ee=0;ee<Q.length;ee++){var J=Q[ee];J!==null&&(J.lane&=-536870913)}l&=~ne}u!==0&&oo(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(_&~s))}function oo(n,s,l){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-cn(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|l&261930}function Rs(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var u=31-cn(l),f=1<<u;f&s|n[u]&s&&(n[u]|=s),l&=~f}}function Is(n,s){var l=s&-s;return l=(l&42)!==0?1:co(l),(l&(n.suspendedLanes|s))!==0?0:l}function co(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function uo(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function $r(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:Ev(n.type))}function su(n,s){var l=ae.p;try{return ae.p=n,s()}finally{ae.p=l}}var vr=Math.random().toString(36).slice(2),mt="__reactFiber$"+vr,$t="__reactProps$"+vr,br="__reactContainer$"+vr,Ds="__reactEvents$"+vr,_r="__reactListeners$"+vr,au="__reactHandles$"+vr,ho="__reactResources$"+vr,Gr="__reactMarker$"+vr;function Ha(n){delete n[mt],delete n[$t],delete n[Ds],delete n[_r],delete n[au]}function Kr(n){var s=n[mt];if(s)return s;for(var l=n.parentNode;l;){if(s=l[br]||l[mt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=ov(n);n!==null;){if(l=n[mt])return l;n=ov(n)}return s}n=l,l=n.parentNode}return null}function Yr(n){if(n=n[mt]||n[br]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function $a(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function ar(n){var s=n[ho];return s||(s=n[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xt(n){n[Gr]=!0}var qi=new Set,Ms={};function un(n,s){wr(n,s),wr(n+"Capture",s)}function wr(n,s){for(Ms[n]=s,n=0;n<s.length;n++)qi.add(s[n])}var tf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fo={},mo={};function iu(n){return zi.call(mo,n)?!0:zi.call(fo,n)?!1:tf.test(n)?mo[n]=!0:(fo[n]=!0,!1)}function Os(n,s,l){if(iu(s))if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+l)}}function Ps(n,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+l)}}function qn(n,s,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(s,l,""+u)}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lu(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nf(n,s,l){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,g.call(this,_)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Hi(n){if(!n._valueTracker){var s=lu(n)?"checked":"value";n._valueTracker=nf(n,s,""+n[s])}}function go(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return n&&(u=lu(n)?n.checked?"true":"false":n.value),n=u,n!==l?(s.setValue(n),!0):!1}function $i(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Qr=/[\n"\\]/g;function gt(n){return n.replace(Qr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ls(n,s,l,u,f,g,_,S){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+dn(s)):n.value!==""+dn(s)&&(n.value=""+dn(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?Gi(n,_,dn(s)):l!=null?Gi(n,_,dn(l)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+dn(S):n.removeAttribute("name")}function Ga(n,s,l,u,f,g,_,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Hi(n);return}l=l!=null?""+dn(l):"",s=s!=null?""+dn(s):l,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Hi(n)}function Gi(n,s,l){s==="number"&&$i(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ge(n,s,l,u){if(n=n.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=s.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&u&&(n[l].defaultSelected=!0)}else{for(l=""+dn(l),s=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Ka(n,s,l){if(s!=null&&(s=""+dn(s),s!==n.value&&(n.value=s),l==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=l!=null?""+dn(l):""}function Vs(n,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(a(92));if(Je(u)){if(1<u.length)throw Error(a(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=dn(s),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u),Hi(n)}function Hn(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var rf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(n,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,l):typeof l!="number"||l===0||rf.has(s)?s==="float"?n.cssFloat=l:n[s]=(""+l).trim():n[s]=l+"px"}function ou(n,s,l){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&l[f]!==u&&po(n,f,u)}else for(var g in s)s.hasOwnProperty(g)&&po(n,g,s[g])}function yo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(n){return af.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Lt(){}var Ki=null;function Yi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Xr=null,An=null;function cu(n){var s=Yr(n);if(s&&(n=s.stateNode)){var l=n[$t]||null;e:switch(n=s.stateNode,s.type){case"input":if(Ls(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+gt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==n&&u.form===n.form){var f=u[$t]||null;if(!f)throw Error(a(90));Ls(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===n.form&&go(u)}break e;case"textarea":Ka(n,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Ge(n,!!l.multiple,s,!1)}}}var xo=!1;function uu(n,s,l){if(xo)return n(s,l);xo=!0;try{var u=n(s);return u}finally{if(xo=!1,(Xr!==null||An!==null)&&(id(),Xr&&(s=Xr,n=An,An=Xr=null,cu(s),n)))for(s=0;s<n.length;s++)cu(n[s])}}function xn(n,s){var l=n.stateNode;if(l===null)return null;var u=l[$t]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(a(231,s,typeof l));return l}var ir=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vo=!1;if(ir)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){vo=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{vo=!1}var kn=null,Qi=null,Tr=null;function Us(){if(Tr)return Tr;var n,s=Qi,l=s.length,u,f="value"in kn?kn.value:kn.textContent,g=f.length;for(n=0;n<l&&s[n]===f[n];n++);var _=l-n;for(u=1;u<=_&&s[l-u]===f[g-u];u++);return Tr=f.slice(n,1<u?1-u:void 0)}function Ya(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function zs(){return!0}function lt(){return!1}function nn(n){function s(l,u,f,g,_){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(l=n[S],this[S]=l?l(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?zs:lt,this.isPropagationStopped=lt,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),s}var Jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=nn(Jr),Fs=b({},Jr,{view:0,detail:0}),du=nn(Fs),Bs,Xi,hn,Xa=b({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==hn&&(hn&&n.type==="mousemove"?(Bs=n.screenX-hn.screenX,Xi=n.screenY-hn.screenY):Xi=Bs=0,hn=n),Bs)},movementY:function(n){return"movementY"in n?n.movementY:Xi}}),hu=nn(Xa),Ja=b({},Xa,{dataTransfer:0}),fu=nn(Ja),bo=b({},Fs,{relatedTarget:0}),qs=nn(bo),mu=b({},Jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ji=nn(mu),lf=b({},Jr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gu=nn(lf),Wa=b({},Jr,{data:0}),_o=nn(Wa),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},No={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=No[n])?!!s[n]:!1}function Hs(){return yu}var xu=b({},Fs,{key:function(n){if(n.key){var s=pu[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ya(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?wo[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(n){return n.type==="keypress"?Ya(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ya(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),vu=nn(xu),Wr=b({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eo=nn(Wr),bu=b({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),_u=nn(bu),wu=b({},Jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wi=nn(wu),fn=b({},Xa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Nu=nn(fn),Eu=b({},Jr,{newState:0,oldState:0}),$s=nn(Eu),h=[9,13,27,32],x=ir&&"CompositionEvent"in window,w=null;ir&&"documentMode"in document&&(w=document.documentMode);var j=ir&&"TextEvent"in window&&!w,$=ir&&(!x||w&&8<w&&11>=w),W=" ",le=!1;function We(n,s){switch(n){case"keyup":return h.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Me=!1;function Vt(n,s){switch(n){case"compositionend":return Et(s);case"keypress":return s.which!==32?null:(le=!0,W);case"textInput":return n=s.data,n===W&&le?null:n;default:return null}}function Ut(n,s){if(Me)return n==="compositionend"||!x&&We(n,s)?(n=Us(),Tr=Qi=kn=null,Me=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $&&s.locale!=="ko"?null:s.data;default:return null}}var Gs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vn(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Gs[n.type]:s==="textarea"}function Za(n,s,l,u){Xr?An?An.push(u):An=[u]:Xr=u,s=fd(s,"onChange"),0<s.length&&(l=new Qa("onChange","change",null,l,u),n.push({event:l,listeners:s}))}var Zr=null,To=null;function RT(n){Yx(n,0)}function Tu(n){var s=$a(n);if(go(s))return n}function f0(n,s){if(n==="change")return s}var m0=!1;if(ir){var of;if(ir){var cf="oninput"in document;if(!cf){var g0=document.createElement("div");g0.setAttribute("oninput","return;"),cf=typeof g0.oninput=="function"}of=cf}else of=!1;m0=of&&(!document.documentMode||9<document.documentMode)}function p0(){Zr&&(Zr.detachEvent("onpropertychange",y0),To=Zr=null)}function y0(n){if(n.propertyName==="value"&&Tu(To)){var s=[];Za(s,To,n,Yi(n)),uu(RT,s)}}function IT(n,s,l){n==="focusin"?(p0(),Zr=s,To=l,Zr.attachEvent("onpropertychange",y0)):n==="focusout"&&p0()}function DT(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Tu(To)}function MT(n,s){if(n==="click")return Tu(s)}function OT(n,s){if(n==="input"||n==="change")return Tu(s)}function PT(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Cn=typeof Object.is=="function"?Object.is:PT;function So(n,s){if(Cn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!zi.call(s,f)||!Cn(n[f],s[f]))return!1}return!0}function x0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function v0(n,s){var l=x0(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=s&&u>=s)return{node:l,offset:s-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=x0(l)}}function b0(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?b0(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function _0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=$i(n.document);s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=$i(n.document)}return s}function uf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var LT=ir&&"documentMode"in document&&11>=document.documentMode,Zi=null,df=null,jo=null,hf=!1;function w0(n,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;hf||Zi==null||Zi!==$i(u)||(u=Zi,"selectionStart"in u&&uf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jo&&So(jo,u)||(jo=u,u=fd(df,"onSelect"),0<u.length&&(s=new Qa("onSelect","select",null,s,l),n.push({event:s,listeners:u}),s.target=Zi)))}function ei(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var el={animationend:ei("Animation","AnimationEnd"),animationiteration:ei("Animation","AnimationIteration"),animationstart:ei("Animation","AnimationStart"),transitionrun:ei("Transition","TransitionRun"),transitionstart:ei("Transition","TransitionStart"),transitioncancel:ei("Transition","TransitionCancel"),transitionend:ei("Transition","TransitionEnd")},ff={},N0={};ir&&(N0=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function ti(n){if(ff[n])return ff[n];if(!el[n])return n;var s=el[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in N0)return ff[n]=s[l];return n}var E0=ti("animationend"),T0=ti("animationiteration"),S0=ti("animationstart"),VT=ti("transitionrun"),UT=ti("transitionstart"),zT=ti("transitioncancel"),j0=ti("transitionend"),A0=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function lr(n,s){A0.set(n,s),un(s,[n])}var Su=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},$n=[],tl=0,gf=0;function ju(){for(var n=tl,s=gf=tl=0;s<n;){var l=$n[s];$n[s++]=null;var u=$n[s];$n[s++]=null;var f=$n[s];$n[s++]=null;var g=$n[s];if($n[s++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}g!==0&&k0(l,f,g)}}function Au(n,s,l,u){$n[tl++]=n,$n[tl++]=s,$n[tl++]=l,$n[tl++]=u,gf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function pf(n,s,l,u){return Au(n,s,l,u),ku(n)}function ni(n,s){return Au(n,null,null,s),ku(n)}function k0(n,s,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var f=!1,g=n.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-cn(l),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=l|536870912),g):null}function ku(n){if(50<Qo)throw Qo=0,Tm=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var nl={};function FT(n,s,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(n,s,l,u){return new FT(n,s,l,u)}function yf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function es(n,s){var l=n.alternate;return l===null?(l=Rn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function C0(n,s){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,s=l.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Cu(n,s,l,u,f,g){var _=0;if(u=n,typeof n=="function")yf(n)&&(_=1);else if(typeof n=="string")_=GS(n,l,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case E:return n=Rn(31,l,s,f),n.elementType=E,n.lanes=g,n;case q:return ri(l.children,f,g,s);case B:_=8,f|=24;break;case F:return n=Rn(12,l,s,f|2),n.elementType=F,n.lanes=g,n;case ce:return n=Rn(13,l,s,f),n.elementType=ce,n.lanes=g,n;case ue:return n=Rn(19,l,s,f),n.elementType=ue,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:_=10;break e;case D:_=9;break e;case X:_=11;break e;case O:_=14;break e;case k:_=16,u=null;break e}_=29,l=Error(a(130,n===null?"null":typeof n,"")),u=null}return s=Rn(_,l,s,f),s.elementType=n,s.type=u,s.lanes=g,s}function ri(n,s,l,u){return n=Rn(7,n,u,s),n.lanes=l,n}function xf(n,s,l){return n=Rn(6,n,null,s),n.lanes=l,n}function R0(n){var s=Rn(18,null,null,0);return s.stateNode=n,s}function vf(n,s,l){return s=Rn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var I0=new WeakMap;function Gn(n,s){if(typeof n=="object"&&n!==null){var l=I0.get(n);return l!==void 0?l:(s={value:n,source:s,stack:eu(s)},I0.set(n,s),s)}return{value:n,source:s,stack:eu(s)}}var rl=[],sl=0,Ru=null,Ao=0,Kn=[],Yn=0,Ks=null,Sr=1,jr="";function ts(n,s){rl[sl++]=Ao,rl[sl++]=Ru,Ru=n,Ao=s}function D0(n,s,l){Kn[Yn++]=Sr,Kn[Yn++]=jr,Kn[Yn++]=Ks,Ks=n;var u=Sr;n=jr;var f=32-cn(u)-1;u&=~(1<<f),l+=1;var g=32-cn(s)+f;if(30<g){var _=f-f%5;g=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Sr=1<<32-cn(s)+f|l<<f|u,jr=g+n}else Sr=1<<g|l<<f|u,jr=n}function bf(n){n.return!==null&&(ts(n,1),D0(n,1,0))}function _f(n){for(;n===Ru;)Ru=rl[--sl],rl[sl]=null,Ao=rl[--sl],rl[sl]=null;for(;n===Ks;)Ks=Kn[--Yn],Kn[Yn]=null,jr=Kn[--Yn],Kn[Yn]=null,Sr=Kn[--Yn],Kn[Yn]=null}function M0(n,s){Kn[Yn++]=Sr,Kn[Yn++]=jr,Kn[Yn++]=Ks,Sr=s.id,jr=s.overflow,Ks=n}var Gt=null,ot=null,He=!1,Ys=null,Qn=!1,wf=Error(a(519));function Qs(n){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(Gn(s,n)),wf}function O0(n){var s=n.stateNode,l=n.type,u=n.memoizedProps;switch(s[mt]=n,s[$t]=u,l){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(l=0;l<Jo.length;l++)Le(Jo[l],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),Ga(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),Vs(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Wx(s.textContent,l)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=Lt),s=!0):s=!1,s||Qs(n,!0)}function P0(n){for(Gt=n.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Gt=Gt.return}}function al(n){if(n!==Gt)return!1;if(!He)return P0(n),He=!0,!1;var s=n.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||zm(n.type,n.memoizedProps)),l=!l),l&&ot&&Qs(n),P0(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));ot=lv(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));ot=lv(n)}else s===27?(s=ot,ca(n.type)?(n=$m,$m=null,ot=n):ot=s):ot=Gt?Jn(n.stateNode.nextSibling):null;return!0}function si(){ot=Gt=null,He=!1}function Nf(){var n=Ys;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),Ys=null),n}function ko(n){Ys===null?Ys=[n]:Ys.push(n)}var Ef=V(null),ai=null,ns=null;function Xs(n,s,l){ie(Ef,s._currentValue),s._currentValue=l}function rs(n){n._currentValue=Ef.current,Z(Ef)}function Tf(n,s,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===l)break;n=n.return}}function Sf(n,s,l,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var L=0;L<s.length;L++)if(S.context===s[L]){g.lanes|=l,S=g.alternate,S!==null&&(S.lanes|=l),Tf(g.return,l,n),u||(_=null);break e}g=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=l,g=_.alternate,g!==null&&(g.lanes|=l),Tf(_,l,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function il(n,s,l,u){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var S=f.type;Cn(f.pendingProps.value,_.value)||(n!==null?n.push(S):n=[S])}}else if(f===qe.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(nc):n=[nc])}f=f.return}n!==null&&Sf(s,n,l,u),s.flags|=262144}function Iu(n){for(n=n.firstContext;n!==null;){if(!Cn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ii(n){ai=n,ns=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Kt(n){return L0(ai,n)}function Du(n,s){return ai===null&&ii(n),L0(n,s)}function L0(n,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},ns===null){if(n===null)throw Error(a(308));ns=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else ns=ns.next=s;return l}var BT=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(l){return l()})}},qT=r.unstable_scheduleCallback,HT=r.unstable_NormalPriority,Tt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new BT,data:new Map,refCount:0}}function Co(n){n.refCount--,n.refCount===0&&qT(HT,function(){n.controller.abort()})}var Ro=null,Af=0,ll=0,ol=null;function $T(n,s){if(Ro===null){var l=Ro=[];Af=0,ll=Rm(),ol={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Af++,s.then(V0,V0),s}function V0(){if(--Af===0&&Ro!==null){ol!==null&&(ol.status="fulfilled");var n=Ro;Ro=null,ll=0,ol=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function GT(n,s){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<l.length;f++)(0,l[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var U0=Y.S;Y.S=function(n,s){wx=qt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&$T(n,s),U0!==null&&U0(n,s)};var li=V(null);function kf(){var n=li.current;return n!==null?n:at.pooledCache}function Mu(n,s){s===null?ie(li,li.current):ie(li,s.pool)}function z0(){var n=kf();return n===null?null:{parent:Tt._currentValue,pool:n}}var cl=Error(a(460)),Cf=Error(a(474)),Ou=Error(a(542)),Pu={then:function(){}};function F0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function B0(n,s,l){switch(l=n[l],l===void 0?n.push(s):l!==s&&(s.then(Lt,Lt),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,H0(n),n;default:if(typeof s.status=="string")s.then(Lt,Lt);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,H0(n),n}throw ci=s,cl}}function oi(n){try{var s=n._init;return s(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ci=l,cl):l}}var ci=null;function q0(){if(ci===null)throw Error(a(459));var n=ci;return ci=null,n}function H0(n){if(n===cl||n===Ou)throw Error(a(483))}var ul=null,Io=0;function Lu(n){var s=Io;return Io+=1,ul===null&&(ul=[]),B0(ul,n,s)}function Do(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Vu(n,s){throw s.$$typeof===N?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function $0(n){function s(H,z){if(n){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function l(H,z){if(!n)return null;for(;z!==null;)s(H,z),z=z.sibling;return null}function u(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=es(H,z),H.index=0,H.sibling=null,H}function g(H,z,G){return H.index=G,n?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=67108866,z):G):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function _(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,G,te){return z===null||z.tag!==6?(z=xf(G,H.mode,te),z.return=H,z):(z=f(z,G),z.return=H,z)}function L(H,z,G,te){var be=G.type;return be===q?ee(H,z,G.props.children,te,G.key):z!==null&&(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===k&&oi(be)===z.type)?(z=f(z,G.props),Do(z,G),z.return=H,z):(z=Cu(G.type,G.key,G.props,null,H.mode,te),Do(z,G),z.return=H,z)}function K(H,z,G,te){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=vf(G,H.mode,te),z.return=H,z):(z=f(z,G.children||[]),z.return=H,z)}function ee(H,z,G,te,be){return z===null||z.tag!==7?(z=ri(G,H.mode,te,be),z.return=H,z):(z=f(z,G),z.return=H,z)}function ne(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=xf(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return G=Cu(z.type,z.key,z.props,null,H.mode,G),Do(G,z),G.return=H,G;case M:return z=vf(z,H.mode,G),z.return=H,z;case k:return z=oi(z),ne(H,z,G)}if(Je(z)||P(z))return z=ri(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return ne(H,Lu(z),G);if(z.$$typeof===U)return ne(H,Du(H,z),G);Vu(H,z)}return null}function Q(H,z,G,te){var be=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:S(H,z,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===be?L(H,z,G,te):null;case M:return G.key===be?K(H,z,G,te):null;case k:return G=oi(G),Q(H,z,G,te)}if(Je(G)||P(G))return be!==null?null:ee(H,z,G,te,null);if(typeof G.then=="function")return Q(H,z,Lu(G),te);if(G.$$typeof===U)return Q(H,z,Du(H,G),te);Vu(H,G)}return null}function J(H,z,G,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return H=H.get(G)||null,S(z,H,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return H=H.get(te.key===null?G:te.key)||null,L(z,H,te,be);case M:return H=H.get(te.key===null?G:te.key)||null,K(z,H,te,be);case k:return te=oi(te),J(H,z,G,te,be)}if(Je(te)||P(te))return H=H.get(G)||null,ee(z,H,te,be,null);if(typeof te.then=="function")return J(H,z,G,Lu(te),be);if(te.$$typeof===U)return J(H,z,G,Du(z,te),be);Vu(z,te)}return null}function ge(H,z,G,te){for(var be=null,Ke=null,ve=z,Re=z=0,Ue=null;ve!==null&&Re<G.length;Re++){ve.index>Re?(Ue=ve,ve=null):Ue=ve.sibling;var Ye=Q(H,ve,G[Re],te);if(Ye===null){ve===null&&(ve=Ue);break}n&&ve&&Ye.alternate===null&&s(H,ve),z=g(Ye,z,Re),Ke===null?be=Ye:Ke.sibling=Ye,Ke=Ye,ve=Ue}if(Re===G.length)return l(H,ve),He&&ts(H,Re),be;if(ve===null){for(;Re<G.length;Re++)ve=ne(H,G[Re],te),ve!==null&&(z=g(ve,z,Re),Ke===null?be=ve:Ke.sibling=ve,Ke=ve);return He&&ts(H,Re),be}for(ve=u(ve);Re<G.length;Re++)Ue=J(ve,H,Re,G[Re],te),Ue!==null&&(n&&Ue.alternate!==null&&ve.delete(Ue.key===null?Re:Ue.key),z=g(Ue,z,Re),Ke===null?be=Ue:Ke.sibling=Ue,Ke=Ue);return n&&ve.forEach(function(ma){return s(H,ma)}),He&&ts(H,Re),be}function we(H,z,G,te){if(G==null)throw Error(a(151));for(var be=null,Ke=null,ve=z,Re=z=0,Ue=null,Ye=G.next();ve!==null&&!Ye.done;Re++,Ye=G.next()){ve.index>Re?(Ue=ve,ve=null):Ue=ve.sibling;var ma=Q(H,ve,Ye.value,te);if(ma===null){ve===null&&(ve=Ue);break}n&&ve&&ma.alternate===null&&s(H,ve),z=g(ma,z,Re),Ke===null?be=ma:Ke.sibling=ma,Ke=ma,ve=Ue}if(Ye.done)return l(H,ve),He&&ts(H,Re),be;if(ve===null){for(;!Ye.done;Re++,Ye=G.next())Ye=ne(H,Ye.value,te),Ye!==null&&(z=g(Ye,z,Re),Ke===null?be=Ye:Ke.sibling=Ye,Ke=Ye);return He&&ts(H,Re),be}for(ve=u(ve);!Ye.done;Re++,Ye=G.next())Ye=J(ve,H,Re,Ye.value,te),Ye!==null&&(n&&Ye.alternate!==null&&ve.delete(Ye.key===null?Re:Ye.key),z=g(Ye,z,Re),Ke===null?be=Ye:Ke.sibling=Ye,Ke=Ye);return n&&ve.forEach(function(r1){return s(H,r1)}),He&&ts(H,Re),be}function st(H,z,G,te){if(typeof G=="object"&&G!==null&&G.type===q&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:e:{for(var be=G.key;z!==null;){if(z.key===be){if(be=G.type,be===q){if(z.tag===7){l(H,z.sibling),te=f(z,G.props.children),te.return=H,H=te;break e}}else if(z.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===k&&oi(be)===z.type){l(H,z.sibling),te=f(z,G.props),Do(te,G),te.return=H,H=te;break e}l(H,z);break}else s(H,z);z=z.sibling}G.type===q?(te=ri(G.props.children,H.mode,te,G.key),te.return=H,H=te):(te=Cu(G.type,G.key,G.props,null,H.mode,te),Do(te,G),te.return=H,H=te)}return _(H);case M:e:{for(be=G.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){l(H,z.sibling),te=f(z,G.children||[]),te.return=H,H=te;break e}else{l(H,z);break}else s(H,z);z=z.sibling}te=vf(G,H.mode,te),te.return=H,H=te}return _(H);case k:return G=oi(G),st(H,z,G,te)}if(Je(G))return ge(H,z,G,te);if(P(G)){if(be=P(G),typeof be!="function")throw Error(a(150));return G=be.call(G),we(H,z,G,te)}if(typeof G.then=="function")return st(H,z,Lu(G),te);if(G.$$typeof===U)return st(H,z,Du(H,G),te);Vu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(l(H,z.sibling),te=f(z,G),te.return=H,H=te):(l(H,z),te=xf(G,H.mode,te),te.return=H,H=te),_(H)):l(H,z)}return function(H,z,G,te){try{Io=0;var be=st(H,z,G,te);return ul=null,be}catch(ve){if(ve===cl||ve===Ou)throw ve;var Ke=Rn(29,ve,null,H.mode);return Ke.lanes=te,Ke.return=H,Ke}finally{}}}var ui=$0(!0),G0=$0(!1),Js=!1;function Rf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function If(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ws(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zs(n,s,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=ku(n),k0(n,null,l),s}return Au(n,u,s,l),ku(n)}function Mo(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Rs(n,l)}}function Df(n,s){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}var Mf=!1;function Oo(){if(Mf){var n=ol;if(n!==null)throw n}}function Po(n,s,l,u){Mf=!1;var f=n.updateQueue;Js=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var L=S,K=L.next;L.next=null,_===null?g=K:_.next=K,_=L;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,S=ee.lastBaseUpdate,S!==_&&(S===null?ee.firstBaseUpdate=K:S.next=K,ee.lastBaseUpdate=L))}if(g!==null){var ne=f.baseState;_=0,ee=K=L=null,S=g;do{var Q=S.lane&-536870913,J=Q!==S.lane;if(J?(Ve&Q)===Q:(u&Q)===Q){Q!==0&&Q===ll&&(Mf=!0),ee!==null&&(ee=ee.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ge=n,we=S;Q=s;var st=l;switch(we.tag){case 1:if(ge=we.payload,typeof ge=="function"){ne=ge.call(st,ne,Q);break e}ne=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=we.payload,Q=typeof ge=="function"?ge.call(st,ne,Q):ge,Q==null)break e;ne=b({},ne,Q);break e;case 2:Js=!0}}Q=S.callback,Q!==null&&(n.flags|=64,J&&(n.flags|=8192),J=f.callbacks,J===null?f.callbacks=[Q]:J.push(Q))}else J={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},ee===null?(K=ee=J,L=ne):ee=ee.next=J,_|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;J=S,S=J.next,J.next=null,f.lastBaseUpdate=J,f.shared.pending=null}}while(!0);ee===null&&(L=ne),f.baseState=L,f.firstBaseUpdate=K,f.lastBaseUpdate=ee,g===null&&(f.shared.lanes=0),sa|=_,n.lanes=_,n.memoizedState=ne}}function K0(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function Y0(n,s){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)K0(l[n],s)}var dl=V(null),Uu=V(0);function Q0(n,s){n=hs,ie(Uu,n),ie(dl,s),hs=n|s.baseLanes}function Of(){ie(Uu,hs),ie(dl,dl.current)}function Pf(){hs=Uu.current,Z(dl),Z(Uu)}var In=V(null),Xn=null;function ea(n){var s=n.alternate;ie(vt,vt.current&1),ie(In,n),Xn===null&&(s===null||dl.current!==null||s.memoizedState!==null)&&(Xn=n)}function Lf(n){ie(vt,vt.current),ie(In,n),Xn===null&&(Xn=n)}function X0(n){n.tag===22?(ie(vt,vt.current),ie(In,n),Xn===null&&(Xn=n)):ta()}function ta(){ie(vt,vt.current),ie(In,In.current)}function Dn(n){Z(In),Xn===n&&(Xn=null),Z(vt)}var vt=V(0);function zu(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||qm(l)||Hm(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ss=0,Ce=null,nt=null,St=null,Fu=!1,hl=!1,di=!1,Bu=0,Lo=0,fl=null,KT=0;function pt(){throw Error(a(321))}function Vf(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Cn(n[l],s[l]))return!1;return!0}function Uf(n,s,l,u,f,g){return ss=g,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=n===null||n.memoizedState===null?Dy:em,di=!1,g=l(u,f),di=!1,hl&&(g=W0(s,l,u,f)),J0(n),g}function J0(n){Y.H=zo;var s=nt!==null&&nt.next!==null;if(ss=0,St=nt=Ce=null,Fu=!1,Lo=0,fl=null,s)throw Error(a(300));n===null||jt||(n=n.dependencies,n!==null&&Iu(n)&&(jt=!0))}function W0(n,s,l,u){Ce=n;var f=0;do{if(hl&&(fl=null),Lo=0,hl=!1,25<=f)throw Error(a(301));if(f+=1,St=nt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Y.H=My,g=s(l,u)}while(hl);return g}function YT(){var n=Y.H,s=n.useState()[0];return s=typeof s.then=="function"?Vo(s):s,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Ce.flags|=1024),s}function zf(){var n=Bu!==0;return Bu=0,n}function Ff(n,s,l){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~l}function Bf(n){if(Fu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Fu=!1}ss=0,St=nt=Ce=null,hl=!1,Lo=Bu=0,fl=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ce.memoizedState=St=n:St=St.next=n,St}function bt(){if(nt===null){var n=Ce.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var s=St===null?Ce.memoizedState:St.next;if(s!==null)St=s,nt=n;else{if(n===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},St===null?Ce.memoizedState=St=n:St=St.next=n}return St}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vo(n){var s=Lo;return Lo+=1,fl===null&&(fl=[]),n=B0(fl,n,s),s=Ce,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?Dy:em),n}function Hu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Vo(n);if(n.$$typeof===U)return Kt(n)}throw Error(a(438,String(n)))}function qf(n){var s=null,l=Ce.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ce.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=qu(),Ce.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(n),u=0;u<n;u++)l[u]=T;return s.index++,l}function as(n,s){return typeof s=="function"?s(n):s}function $u(n){var s=bt();return Hf(s,nt,n)}function Hf(n,s,l){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=l;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}s.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var S=_=null,L=null,K=s,ee=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Ve&ne)===ne:(ss&ne)===ne){var Q=K.revertLane;if(Q===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===ll&&(ee=!0);else if((ss&Q)===Q){K=K.next,Q===ll&&(ee=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(S=L=ne,_=g):L=L.next=ne,Ce.lanes|=Q,sa|=Q;ne=K.action,di&&l(g,ne),g=K.hasEagerState?K.eagerState:l(g,ne)}else Q={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},L===null?(S=L=Q,_=g):L=L.next=Q,Ce.lanes|=ne,sa|=ne;K=K.next}while(K!==null&&K!==s);if(L===null?_=g:L.next=S,!Cn(g,n.memoizedState)&&(jt=!0,ee&&(l=ol,l!==null)))throw l;n.memoizedState=g,n.baseState=_,n.baseQueue=L,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function $f(n){var s=bt(),l=s.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=n;var u=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do g=n(g,_.action),_=_.next;while(_!==f);Cn(g,s.memoizedState)||(jt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function Z0(n,s,l){var u=Ce,f=bt(),g=He;if(g){if(l===void 0)throw Error(a(407));l=l()}else l=s();var _=!Cn((nt||f).memoizedState,l);if(_&&(f.memoizedState=l,jt=!0),f=f.queue,Yf(ny.bind(null,u,f,n),[n]),f.getSnapshot!==s||_||St!==null&&St.memoizedState.tag&1){if(u.flags|=2048,ml(9,{destroy:void 0},ty.bind(null,u,f,l,s),null),at===null)throw Error(a(349));g||(ss&127)!==0||ey(u,s,l)}return l}function ey(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=Ce.updateQueue,s===null?(s=qu(),Ce.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function ty(n,s,l,u){s.value=l,s.getSnapshot=u,ry(s)&&sy(n)}function ny(n,s,l){return l(function(){ry(s)&&sy(n)})}function ry(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Cn(n,l)}catch{return!0}}function sy(n){var s=ni(n,2);s!==null&&En(s,n,2)}function Gf(n){var s=mn();if(typeof n=="function"){var l=n;if(n=l(),di){Fn(!0);try{l()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:n},s}function ay(n,s,l,u){return n.baseState=l,Hf(n,nt,typeof u=="function"?u:as)}function QT(n,s,l,u,f){if(Yu(n))throw Error(a(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};Y.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,iy(s,g)):(g.next=l.next,s.pending=l.next=g)}}function iy(n,s){var l=s.action,u=s.payload,f=n.state;if(s.isTransition){var g=Y.T,_={};Y.T=_;try{var S=l(f,u),L=Y.S;L!==null&&L(_,S),ly(n,s,S)}catch(K){Kf(n,s,K)}finally{g!==null&&_.types!==null&&(g.types=_.types),Y.T=g}}else try{g=l(f,u),ly(n,s,g)}catch(K){Kf(n,s,K)}}function ly(n,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){oy(n,s,u)},function(u){return Kf(n,s,u)}):oy(n,s,l)}function oy(n,s,l){s.status="fulfilled",s.value=l,cy(s),n.state=l,s=n.pending,s!==null&&(l=s.next,l===s?n.pending=null:(l=l.next,s.next=l,iy(n,l)))}function Kf(n,s,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,cy(s),s=s.next;while(s!==u)}n.action=null}function cy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function uy(n,s){return s}function dy(n,s){if(He){var l=at.formState;if(l!==null){e:{var u=Ce;if(He){if(ot){t:{for(var f=ot,g=Qn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){ot=Jn(f.nextSibling),u=f.data==="F!";break e}}Qs(u)}u=!1}u&&(s=l[0])}}return l=mn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uy,lastRenderedState:s},l.queue=u,l=Cy.bind(null,Ce,u),u.dispatch=l,u=Gf(!1),g=Zf.bind(null,Ce,!1,u.queue),u=mn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,l=QT.bind(null,Ce,f,g,l),f.dispatch=l,u.memoizedState=n,[s,l,!1]}function hy(n){var s=bt();return fy(s,nt,n)}function fy(n,s,l){if(s=Hf(n,s,uy)[0],n=$u(as)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Vo(s)}catch(_){throw _===cl?Ou:_}else u=s;s=bt();var f=s.queue,g=f.dispatch;return l!==s.memoizedState&&(Ce.flags|=2048,ml(9,{destroy:void 0},XT.bind(null,f,l),null)),[u,g,n]}function XT(n,s){n.action=s}function my(n){var s=bt(),l=nt;if(l!==null)return fy(s,l,n);bt(),s=s.memoizedState,l=bt();var u=l.queue.dispatch;return l.memoizedState=n,[s,u,!1]}function ml(n,s,l,u){return n={tag:n,create:l,deps:u,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=qu(),Ce.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,s.lastEffect=n),n}function gy(){return bt().memoizedState}function Gu(n,s,l,u){var f=mn();Ce.flags|=n,f.memoizedState=ml(1|s,{destroy:void 0},l,u===void 0?null:u)}function Ku(n,s,l,u){var f=bt();u=u===void 0?null:u;var g=f.memoizedState.inst;nt!==null&&u!==null&&Vf(u,nt.memoizedState.deps)?f.memoizedState=ml(s,g,l,u):(Ce.flags|=n,f.memoizedState=ml(1|s,g,l,u))}function py(n,s){Gu(8390656,8,n,s)}function Yf(n,s){Ku(2048,8,n,s)}function JT(n){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=qu(),Ce.updateQueue=s,s.events=[n];else{var l=s.events;l===null?s.events=[n]:l.push(n)}}function yy(n){var s=bt().memoizedState;return JT({ref:s,nextImpl:n}),function(){if((Qe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function xy(n,s){return Ku(4,2,n,s)}function vy(n,s){return Ku(4,4,n,s)}function by(n,s){if(typeof s=="function"){n=n();var l=s(n);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function _y(n,s,l){l=l!=null?l.concat([n]):null,Ku(4,4,by.bind(null,s,n),l)}function Qf(){}function wy(n,s){var l=bt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Vf(s,u[1])?u[0]:(l.memoizedState=[n,s],n)}function Ny(n,s){var l=bt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Vf(s,u[1]))return u[0];if(u=n(),di){Fn(!0);try{n()}finally{Fn(!1)}}return l.memoizedState=[u,s],u}function Xf(n,s,l){return l===void 0||(ss&1073741824)!==0&&(Ve&261930)===0?n.memoizedState=s:(n.memoizedState=l,n=Ex(),Ce.lanes|=n,sa|=n,l)}function Ey(n,s,l,u){return Cn(l,s)?l:dl.current!==null?(n=Xf(n,l,u),Cn(n,s)||(jt=!0),n):(ss&42)===0||(ss&1073741824)!==0&&(Ve&261930)===0?(jt=!0,n.memoizedState=l):(n=Ex(),Ce.lanes|=n,sa|=n,s)}function Ty(n,s,l,u,f){var g=ae.p;ae.p=g!==0&&8>g?g:8;var _=Y.T,S={};Y.T=S,Zf(n,!1,s,l);try{var L=f(),K=Y.S;if(K!==null&&K(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=GT(L,u);Uo(n,s,ee,Pn(n))}else Uo(n,s,u,Pn(n))}catch(ne){Uo(n,s,{then:function(){},status:"rejected",reason:ne},Pn())}finally{ae.p=g,_!==null&&S.types!==null&&(_.types=S.types),Y.T=_}}function WT(){}function Jf(n,s,l,u){if(n.tag!==5)throw Error(a(476));var f=Sy(n).queue;Ty(n,f,s,ye,l===null?WT:function(){return jy(n),l(u)})}function Sy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ye},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:l},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function jy(n){var s=Sy(n);s.next===null&&(s=n.alternate.memoizedState),Uo(n,s.next.queue,{},Pn())}function Wf(){return Kt(nc)}function Ay(){return bt().memoizedState}function ky(){return bt().memoizedState}function ZT(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var l=Pn();n=Ws(l);var u=Zs(s,n,l);u!==null&&(En(u,s,l),Mo(u,s,l)),s={cache:jf()},n.payload=s;return}s=s.return}}function eS(n,s,l){var u=Pn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(n)?Ry(s,l):(l=pf(n,s,l,u),l!==null&&(En(l,n,u),Iy(l,s,u)))}function Cy(n,s,l){var u=Pn();Uo(n,s,l,u)}function Uo(n,s,l,u){var f={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yu(n))Ry(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,S=g(_,l);if(f.hasEagerState=!0,f.eagerState=S,Cn(S,_))return Au(n,s,f,0),at===null&&ju(),!1}catch{}finally{}if(l=pf(n,s,f,u),l!==null)return En(l,n,u),Iy(l,s,u),!0}return!1}function Zf(n,s,l,u){if(u={lane:2,revertLane:Rm(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Yu(n)){if(s)throw Error(a(479))}else s=pf(n,l,u,2),s!==null&&En(s,n,2)}function Yu(n){var s=n.alternate;return n===Ce||s!==null&&s===Ce}function Ry(n,s){hl=Fu=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function Iy(n,s,l){if((l&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,l|=u,s.lanes=l,Rs(n,l)}}var zo={readContext:Kt,use:Hu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};zo.useEffectEvent=pt;var Dy={readContext:Kt,use:Hu,useCallback:function(n,s){return mn().memoizedState=[n,s===void 0?null:s],n},useContext:Kt,useEffect:py,useImperativeHandle:function(n,s,l){l=l!=null?l.concat([n]):null,Gu(4194308,4,by.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Gu(4194308,4,n,s)},useInsertionEffect:function(n,s){Gu(4,2,n,s)},useMemo:function(n,s){var l=mn();s=s===void 0?null:s;var u=n();if(di){Fn(!0);try{n()}finally{Fn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(n,s,l){var u=mn();if(l!==void 0){var f=l(s);if(di){Fn(!0);try{l(s)}finally{Fn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=eS.bind(null,Ce,n),[u.memoizedState,n]},useRef:function(n){var s=mn();return n={current:n},s.memoizedState=n},useState:function(n){n=Gf(n);var s=n.queue,l=Cy.bind(null,Ce,s);return s.dispatch=l,[n.memoizedState,l]},useDebugValue:Qf,useDeferredValue:function(n,s){var l=mn();return Xf(l,n,s)},useTransition:function(){var n=Gf(!1);return n=Ty.bind(null,Ce,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,l){var u=Ce,f=mn();if(He){if(l===void 0)throw Error(a(407));l=l()}else{if(l=s(),at===null)throw Error(a(349));(Ve&127)!==0||ey(u,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,py(ny.bind(null,u,g,n),[n]),u.flags|=2048,ml(9,{destroy:void 0},ty.bind(null,u,g,l,s),null),l},useId:function(){var n=mn(),s=at.identifierPrefix;if(He){var l=jr,u=Sr;l=(u&~(1<<32-cn(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Bu++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=KT++,s="_"+s+"r_"+l.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Wf,useFormState:dy,useActionState:dy,useOptimistic:function(n){var s=mn();s.memoizedState=s.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Zf.bind(null,Ce,!0,l),l.dispatch=s,[n,s]},useMemoCache:qf,useCacheRefresh:function(){return mn().memoizedState=ZT.bind(null,Ce)},useEffectEvent:function(n){var s=mn(),l={impl:n};return s.memoizedState=l,function(){if((Qe&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},em={readContext:Kt,use:Hu,useCallback:wy,useContext:Kt,useEffect:Yf,useImperativeHandle:_y,useInsertionEffect:xy,useLayoutEffect:vy,useMemo:Ny,useReducer:$u,useRef:gy,useState:function(){return $u(as)},useDebugValue:Qf,useDeferredValue:function(n,s){var l=bt();return Ey(l,nt.memoizedState,n,s)},useTransition:function(){var n=$u(as)[0],s=bt().memoizedState;return[typeof n=="boolean"?n:Vo(n),s]},useSyncExternalStore:Z0,useId:Ay,useHostTransitionStatus:Wf,useFormState:hy,useActionState:hy,useOptimistic:function(n,s){var l=bt();return ay(l,nt,n,s)},useMemoCache:qf,useCacheRefresh:ky};em.useEffectEvent=yy;var My={readContext:Kt,use:Hu,useCallback:wy,useContext:Kt,useEffect:Yf,useImperativeHandle:_y,useInsertionEffect:xy,useLayoutEffect:vy,useMemo:Ny,useReducer:$f,useRef:gy,useState:function(){return $f(as)},useDebugValue:Qf,useDeferredValue:function(n,s){var l=bt();return nt===null?Xf(l,n,s):Ey(l,nt.memoizedState,n,s)},useTransition:function(){var n=$f(as)[0],s=bt().memoizedState;return[typeof n=="boolean"?n:Vo(n),s]},useSyncExternalStore:Z0,useId:Ay,useHostTransitionStatus:Wf,useFormState:my,useActionState:my,useOptimistic:function(n,s){var l=bt();return nt!==null?ay(l,nt,n,s):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:qf,useCacheRefresh:ky};My.useEffectEvent=yy;function tm(n,s,l,u){s=n.memoizedState,l=l(u,s),l=l==null?s:b({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var nm={enqueueSetState:function(n,s,l){n=n._reactInternals;var u=Pn(),f=Ws(u);f.payload=s,l!=null&&(f.callback=l),s=Zs(n,f,u),s!==null&&(En(s,n,u),Mo(s,n,u))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var u=Pn(),f=Ws(u);f.tag=1,f.payload=s,l!=null&&(f.callback=l),s=Zs(n,f,u),s!==null&&(En(s,n,u),Mo(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=Pn(),u=Ws(l);u.tag=2,s!=null&&(u.callback=s),s=Zs(n,u,l),s!==null&&(En(s,n,l),Mo(s,n,l))}};function Oy(n,s,l,u,f,g,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,_):s.prototype&&s.prototype.isPureReactComponent?!So(l,u)||!So(f,g):!0}function Py(n,s,l,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==n&&nm.enqueueReplaceState(s,s.state,null)}function hi(n,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(n=n.defaultProps){l===s&&(l=b({},l));for(var f in n)l[f]===void 0&&(l[f]=n[f])}return l}function Ly(n){Su(n)}function Vy(n){console.error(n)}function Uy(n){Su(n)}function Qu(n,s){try{var l=n.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function zy(n,s,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rm(n,s,l){return l=Ws(l),l.tag=3,l.payload={element:null},l.callback=function(){Qu(n,s)},l}function Fy(n){return n=Ws(n),n.tag=3,n}function By(n,s,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){zy(s,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){zy(s,l,u),typeof f!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function tS(n,s,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&il(s,l,f,!0),l=In.current,l!==null){switch(l.tag){case 31:case 13:return Xn===null?ld():l.alternate===null&&yt===0&&(yt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===Pu?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),Am(n,u,f)),!1;case 22:return l.flags|=65536,u===Pu?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),Am(n,u,f)),!1}throw Error(a(435,l.tag))}return Am(n,u,f),ld(),!1}if(He)return s=In.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==wf&&(n=Error(a(422),{cause:u}),ko(Gn(n,l)))):(u!==wf&&(s=Error(a(423),{cause:u}),ko(Gn(s,l))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Gn(u,l),f=rm(n.stateNode,u,f),Df(n,f),yt!==4&&(yt=2)),!1;var g=Error(a(520),{cause:u});if(g=Gn(g,l),Yo===null?Yo=[g]:Yo.push(g),yt!==4&&(yt=2),s===null)return!0;u=Gn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,n=f&-f,l.lanes|=n,n=rm(l.stateNode,u,n),Df(l,n),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(aa===null||!aa.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Fy(f),By(f,n,l,u),Df(l,f),!1}l=l.return}while(l!==null);return!1}var sm=Error(a(461)),jt=!1;function Yt(n,s,l,u){s.child=n===null?G0(s,null,l,u):ui(s,n.child,l,u)}function qy(n,s,l,u,f){l=l.render;var g=s.ref;if("ref"in u){var _={};for(var S in u)S!=="ref"&&(_[S]=u[S])}else _=u;return ii(s),u=Uf(n,s,l,_,g,f),S=zf(),n!==null&&!jt?(Ff(n,s,f),is(n,s,f)):(He&&S&&bf(s),s.flags|=1,Yt(n,s,u,f),s.child)}function Hy(n,s,l,u,f){if(n===null){var g=l.type;return typeof g=="function"&&!yf(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,$y(n,s,g,u,f)):(n=Cu(l.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!hm(n,f)){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:So,l(_,u)&&n.ref===s.ref)return is(n,s,f)}return s.flags|=1,n=es(g,u),n.ref=s.ref,n.return=s,s.child=n}function $y(n,s,l,u,f){if(n!==null){var g=n.memoizedProps;if(So(g,u)&&n.ref===s.ref)if(jt=!1,s.pendingProps=u=g,hm(n,f))(n.flags&131072)!==0&&(jt=!0);else return s.lanes=n.lanes,is(n,s,f)}return am(n,s,l,u,f)}function Gy(n,s,l,u){var f=u.children,g=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,s.child=null;return Ky(n,s,g,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mu(s,g!==null?g.cachePool:null),g!==null?Q0(s,g):Of(),X0(s);else return u=s.lanes=536870912,Ky(n,s,g!==null?g.baseLanes|l:l,l,u)}else g!==null?(Mu(s,g.cachePool),Q0(s,g),ta(),s.memoizedState=null):(n!==null&&Mu(s,null),Of(),ta());return Yt(n,s,f,l),s.child}function Fo(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ky(n,s,l,u,f){var g=kf();return g=g===null?null:{parent:Tt._currentValue,pool:g},s.memoizedState={baseLanes:l,cachePool:g},n!==null&&Mu(s,null),Of(),X0(s),n!==null&&il(n,s,u,!0),s.childLanes=f,null}function Xu(n,s){return s=Wu({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Yy(n,s,l){return ui(s,n.child,null,l),n=Xu(s,s.pendingProps),n.flags|=2,Dn(s),s.memoizedState=null,n}function nS(n,s,l){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(He){if(u.mode==="hidden")return n=Xu(s,u),s.lanes=536870912,Fo(null,n);if(Lf(s),(n=ot)?(n=iv(n,Qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ks!==null?{id:Sr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},l=R0(n),l.return=s,s.child=l,Gt=s,ot=null)):n=null,n===null)throw Qs(s);return s.lanes=536870912,null}return Xu(s,u)}var g=n.memoizedState;if(g!==null){var _=g.dehydrated;if(Lf(s),f)if(s.flags&256)s.flags&=-257,s=Yy(n,s,l);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(a(558));else if(jt||il(n,s,l,!1),f=(l&n.childLanes)!==0,jt||f){if(u=at,u!==null&&(_=Is(u,l),_!==0&&_!==g.retryLane))throw g.retryLane=_,ni(n,_),En(u,n,_),sm;ld(),s=Yy(n,s,l)}else n=g.treeContext,ot=Jn(_.nextSibling),Gt=s,He=!0,Ys=null,Qn=!1,n!==null&&M0(s,n),s=Xu(s,u),s.flags|=4096;return s}return n=es(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Ju(n,s){var l=s.ref;if(l===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(n===null||n.ref!==l)&&(s.flags|=4194816)}}function am(n,s,l,u,f){return ii(s),l=Uf(n,s,l,u,void 0,f),u=zf(),n!==null&&!jt?(Ff(n,s,f),is(n,s,f)):(He&&u&&bf(s),s.flags|=1,Yt(n,s,l,f),s.child)}function Qy(n,s,l,u,f,g){return ii(s),s.updateQueue=null,l=W0(s,u,l,f),J0(n),u=zf(),n!==null&&!jt?(Ff(n,s,g),is(n,s,g)):(He&&u&&bf(s),s.flags|=1,Yt(n,s,l,g),s.child)}function Xy(n,s,l,u,f){if(ii(s),s.stateNode===null){var g=nl,_=l.contextType;typeof _=="object"&&_!==null&&(g=Kt(_)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=nm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Rf(s),_=l.contextType,g.context=typeof _=="object"&&_!==null?Kt(_):nl,g.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(tm(s,l,_,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&nm.enqueueReplaceState(g,g.state,null),Po(s,u,g,f),Oo(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var S=s.memoizedProps,L=hi(l,S);g.props=L;var K=g.context,ee=l.contextType;_=nl,typeof ee=="object"&&ee!==null&&(_=Kt(ee));var ne=l.getDerivedStateFromProps;ee=typeof ne=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||K!==_)&&Py(s,g,u,_),Js=!1;var Q=s.memoizedState;g.state=Q,Po(s,u,g,f),Oo(),K=s.memoizedState,S||Q!==K||Js?(typeof ne=="function"&&(tm(s,l,ne,u),K=s.memoizedState),(L=Js||Oy(s,l,L,u,Q,K,_))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=K),g.props=u,g.state=K,g.context=_,u=L):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,If(n,s),_=s.memoizedProps,ee=hi(l,_),g.props=ee,ne=s.pendingProps,Q=g.context,K=l.contextType,L=nl,typeof K=="object"&&K!==null&&(L=Kt(K)),S=l.getDerivedStateFromProps,(K=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==ne||Q!==L)&&Py(s,g,u,L),Js=!1,Q=s.memoizedState,g.state=Q,Po(s,u,g,f),Oo();var J=s.memoizedState;_!==ne||Q!==J||Js||n!==null&&n.dependencies!==null&&Iu(n.dependencies)?(typeof S=="function"&&(tm(s,l,S,u),J=s.memoizedState),(ee=Js||Oy(s,l,ee,u,Q,J,L)||n!==null&&n.dependencies!==null&&Iu(n.dependencies))?(K||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,J,L),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,J,L)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=J),g.props=u,g.state=J,g.context=L,u=ee):(typeof g.componentDidUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&Q===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Ju(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=ui(s,n.child,null,f),s.child=ui(s,null,l,f)):Yt(n,s,l,f),s.memoizedState=g.state,n=s.child):n=is(n,s,f),n}function Jy(n,s,l,u){return si(),s.flags|=256,Yt(n,s,l,u),s.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lm(n){return{baseLanes:n,cachePool:z0()}}function om(n,s,l){return n=n!==null?n.childLanes&~l:0,s&&(n|=On),n}function Wy(n,s,l){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,_;if((_=g)||(_=n!==null&&n.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(He){if(f?ea(s):ta(),(n=ot)?(n=iv(n,Qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ks!==null?{id:Sr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},l=R0(n),l.return=s,s.child=l,Gt=s,ot=null)):n=null,n===null)throw Qs(s);return Hm(n)?s.lanes=32:s.lanes=536870912,null}var S=u.children;return u=u.fallback,f?(ta(),f=s.mode,S=Wu({mode:"hidden",children:S},f),u=ri(u,f,l,null),S.return=s,u.return=s,S.sibling=u,s.child=S,u=s.child,u.memoizedState=lm(l),u.childLanes=om(n,_,l),s.memoizedState=im,Fo(null,u)):(ea(s),cm(s,S))}var L=n.memoizedState;if(L!==null&&(S=L.dehydrated,S!==null)){if(g)s.flags&256?(ea(s),s.flags&=-257,s=um(n,s,l)):s.memoizedState!==null?(ta(),s.child=n.child,s.flags|=128,s=null):(ta(),S=u.fallback,f=s.mode,u=Wu({mode:"visible",children:u.children},f),S=ri(S,f,l,null),S.flags|=2,u.return=s,S.return=s,u.sibling=S,s.child=u,ui(s,n.child,null,l),u=s.child,u.memoizedState=lm(l),u.childLanes=om(n,_,l),s.memoizedState=im,s=Fo(null,u));else if(ea(s),Hm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var K=_.dgst;_=K,u=Error(a(419)),u.stack="",u.digest=_,ko({value:u,source:null,stack:null}),s=um(n,s,l)}else if(jt||il(n,s,l,!1),_=(l&n.childLanes)!==0,jt||_){if(_=at,_!==null&&(u=Is(_,l),u!==0&&u!==L.retryLane))throw L.retryLane=u,ni(n,u),En(_,n,u),sm;qm(S)||ld(),s=um(n,s,l)}else qm(S)?(s.flags|=192,s.child=n.child,s=null):(n=L.treeContext,ot=Jn(S.nextSibling),Gt=s,He=!0,Ys=null,Qn=!1,n!==null&&M0(s,n),s=cm(s,u.children),s.flags|=4096);return s}return f?(ta(),S=u.fallback,f=s.mode,L=n.child,K=L.sibling,u=es(L,{mode:"hidden",children:u.children}),u.subtreeFlags=L.subtreeFlags&65011712,K!==null?S=es(K,S):(S=ri(S,f,l,null),S.flags|=2),S.return=s,u.return=s,u.sibling=S,s.child=u,Fo(null,u),u=s.child,S=n.child.memoizedState,S===null?S=lm(l):(f=S.cachePool,f!==null?(L=Tt._currentValue,f=f.parent!==L?{parent:L,pool:L}:f):f=z0(),S={baseLanes:S.baseLanes|l,cachePool:f}),u.memoizedState=S,u.childLanes=om(n,_,l),s.memoizedState=im,Fo(n.child,u)):(ea(s),l=n.child,n=l.sibling,l=es(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=l,s.memoizedState=null,l)}function cm(n,s){return s=Wu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Wu(n,s){return n=Rn(22,n,null,s),n.lanes=0,n}function um(n,s,l){return ui(s,n.child,null,l),n=cm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Zy(n,s,l){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Tf(n.return,s,l)}function dm(n,s,l,u,f,g){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f,treeForkCount:g}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=f,_.treeForkCount=g)}function ex(n,s,l){var u=s.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var _=vt.current,S=(_&2)!==0;if(S?(_=_&1|2,s.flags|=128):_&=1,ie(vt,_),Yt(n,s,u,l),u=He?Ao:0,!S&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Zy(n,l,s);else if(n.tag===19)Zy(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(l=s.child,f=null;l!==null;)n=l.alternate,n!==null&&zu(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),dm(s,!1,f,l,g,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&zu(n)===null){s.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}dm(s,!0,l,null,g,u);break;case"together":dm(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function is(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),sa|=s.lanes,(l&s.childLanes)===0)if(n!==null){if(il(n,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,l=es(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=es(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function hm(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Iu(n)))}function rS(n,s,l){switch(s.tag){case 3:Bt(s,s.stateNode.containerInfo),Xs(s,Tt,n.memoizedState.cache),si();break;case 27:case 5:yr(s);break;case 4:Bt(s,s.stateNode.containerInfo);break;case 10:Xs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Lf(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ea(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Wy(n,s,l):(ea(s),n=is(n,s,l),n!==null?n.sibling:null);ea(s);break;case 19:var f=(n.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(il(n,s,l,!1),u=(l&s.childLanes)!==0),f){if(u)return ex(n,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(vt,vt.current),u)break;return null;case 22:return s.lanes=0,Gy(n,s,l,s.pendingProps);case 24:Xs(s,Tt,n.memoizedState.cache)}return is(n,s,l)}function tx(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps)jt=!0;else{if(!hm(n,l)&&(s.flags&128)===0)return jt=!1,rS(n,s,l);jt=(n.flags&131072)!==0}else jt=!1,He&&(s.flags&1048576)!==0&&D0(s,Ao,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=oi(s.elementType),s.type=n,typeof n=="function")yf(n)?(u=hi(n,u),s.tag=1,s=Xy(null,s,n,u,l)):(s.tag=0,s=am(null,s,n,u,l));else{if(n!=null){var f=n.$$typeof;if(f===X){s.tag=11,s=qy(null,s,n,u,l);break e}else if(f===O){s.tag=14,s=Hy(null,s,n,u,l);break e}}throw s=xe(n)||n,Error(a(306,s,""))}}return s;case 0:return am(n,s,s.type,s.pendingProps,l);case 1:return u=s.type,f=hi(u,s.pendingProps),Xy(n,s,u,f,l);case 3:e:{if(Bt(s,s.stateNode.containerInfo),n===null)throw Error(a(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,If(n,s),Po(s,u,null,l);var _=s.memoizedState;if(u=_.cache,Xs(s,Tt,u),u!==g.cache&&Sf(s,[Tt],l,!0),Oo(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=Jy(n,s,u,l);break e}else if(u!==f){f=Gn(Error(a(424)),s),ko(f),s=Jy(n,s,u,l);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ot=Jn(n.firstChild),Gt=s,He=!0,Ys=null,Qn=!0,l=G0(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(si(),u===f){s=is(n,s,l);break e}Yt(n,s,u,l)}s=s.child}return s;case 26:return Ju(n,s),n===null?(l=hv(s.type,null,s.pendingProps,null))?s.memoizedState=l:He||(l=s.type,n=s.pendingProps,u=md(De.current).createElement(l),u[mt]=s,u[$t]=n,Qt(u,l,n),xt(u),s.stateNode=u):s.memoizedState=hv(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return yr(s),n===null&&He&&(u=s.stateNode=cv(s.type,s.pendingProps,De.current),Gt=s,Qn=!0,f=ot,ca(s.type)?($m=f,ot=Jn(u.firstChild)):ot=f),Yt(n,s,s.pendingProps.children,l),Ju(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&He&&((f=u=ot)&&(u=DS(u,s.type,s.pendingProps,Qn),u!==null?(s.stateNode=u,Gt=s,ot=Jn(u.firstChild),Qn=!1,f=!0):f=!1),f||Qs(s)),yr(s),f=s.type,g=s.pendingProps,_=n!==null?n.memoizedProps:null,u=g.children,zm(f,g)?u=null:_!==null&&zm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Uf(n,s,YT,null,null,l),nc._currentValue=f),Ju(n,s),Yt(n,s,u,l),s.child;case 6:return n===null&&He&&((n=l=ot)&&(l=MS(l,s.pendingProps,Qn),l!==null?(s.stateNode=l,Gt=s,ot=null,n=!0):n=!1),n||Qs(s)),null;case 13:return Wy(n,s,l);case 4:return Bt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ui(s,null,u,l):Yt(n,s,u,l),s.child;case 11:return qy(n,s,s.type,s.pendingProps,l);case 7:return Yt(n,s,s.pendingProps,l),s.child;case 8:return Yt(n,s,s.pendingProps.children,l),s.child;case 12:return Yt(n,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Xs(s,s.type,u.value),Yt(n,s,u.children,l),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,ii(s),f=Kt(f),u=u(f),s.flags|=1,Yt(n,s,u,l),s.child;case 14:return Hy(n,s,s.type,s.pendingProps,l);case 15:return $y(n,s,s.type,s.pendingProps,l);case 19:return ex(n,s,l);case 31:return nS(n,s,l);case 22:return Gy(n,s,l,s.pendingProps);case 24:return ii(s),u=Kt(Tt),n===null?(f=kf(),f===null&&(f=at,g=jf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),s.memoizedState={parent:u,cache:f},Rf(s),Xs(s,Tt,f)):((n.lanes&l)!==0&&(If(n,s),Po(s,null,null,l),Oo()),f=n.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Xs(s,Tt,u)):(u=g.cache,Xs(s,Tt,u),u!==f.cache&&Sf(s,[Tt],l,!0))),Yt(n,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function ls(n){n.flags|=4}function fm(n,s,l,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Ax())n.flags|=8192;else throw ci=Pu,Cf}else n.flags&=-16777217}function nx(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!yv(s))if(Ax())n.flags|=8192;else throw ci=Pu,Cf}function Zu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?lo():536870912,n.lanes|=s,xl|=s)}function Bo(n,s){if(!He)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function ct(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(s)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=l,s}function sS(n,s,l){var u=s.pendingProps;switch(_f(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(s),null;case 1:return ct(s),null;case 3:return l=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),rs(Tt),dt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(al(s)?ls(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Nf())),ct(s),null;case 26:var f=s.type,g=s.memoizedState;return n===null?(ls(s),g!==null?(ct(s),nx(s,g)):(ct(s),fm(s,f,null,u,l))):g?g!==n.memoizedState?(ls(s),ct(s),nx(s,g)):(ct(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&ls(s),ct(s),fm(s,f,n,u,l)),null;case 27:if(Br(s),l=De.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ls(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return ct(s),null}n=fe.current,al(s)?O0(s):(n=cv(f,u,l),s.stateNode=n,ls(s))}return ct(s),null;case 5:if(Br(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ls(s);else{if(!u){if(s.stateNode===null)throw Error(a(166));return ct(s),null}if(g=fe.current,al(s))O0(s);else{var _=md(De.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}g[mt]=s,g[$t]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=g;e:switch(Qt(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ls(s)}}return ct(s),fm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,l),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ls(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(a(166));if(n=De.current,al(s)){if(n=s.stateNode,l=s.memoizedProps,u=null,f=Gt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[mt]=s,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Wx(n.nodeValue,l)),n||Qs(s,!0)}else n=md(n).createTextNode(u),n[mt]=s,s.stateNode=n}return ct(s),null;case 31:if(l=s.memoizedState,n===null||n.memoizedState!==null){if(u=al(s),l!==null){if(n===null){if(!u)throw Error(a(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[mt]=s}else si(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),n=!1}else l=Nf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return s.flags&256?(Dn(s),s):(Dn(s),null);if((s.flags&128)!==0)throw Error(a(558))}return ct(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=al(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[mt]=s}else si(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ct(s),f=!1}else f=Nf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Dn(s),s):(Dn(s),null)}return Dn(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,n=n!==null&&n.memoizedState!==null,l&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),l!==n&&l&&(s.child.flags|=8192),Zu(s,s.updateQueue),ct(s),null);case 4:return dt(),n===null&&Om(s.stateNode.containerInfo),ct(s),null;case 10:return rs(s.type),ct(s),null;case 19:if(Z(vt),u=s.memoizedState,u===null)return ct(s),null;if(f=(s.flags&128)!==0,g=u.rendering,g===null)if(f)Bo(u,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=zu(n),g!==null){for(s.flags|=128,Bo(u,!1),n=g.updateQueue,s.updateQueue=n,Zu(s,n),s.subtreeFlags=0,n=l,l=s.child;l!==null;)C0(l,n),l=l.sibling;return ie(vt,vt.current&1|2),He&&ts(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&qt()>sd&&(s.flags|=128,f=!0,Bo(u,!1),s.lanes=4194304)}else{if(!f)if(n=zu(g),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Zu(s,n),Bo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!He)return ct(s),null}else 2*qt()-u.renderingStartTime>sd&&l!==536870912&&(s.flags|=128,f=!0,Bo(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(n=u.last,n!==null?n.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=qt(),n.sibling=null,l=vt.current,ie(vt,f?l&1|2:l&1),He&&ts(s,u.treeForkCount),n):(ct(s),null);case 22:case 23:return Dn(s),Pf(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(ct(s),s.subtreeFlags&6&&(s.flags|=8192)):ct(s),l=s.updateQueue,l!==null&&Zu(s,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),n!==null&&Z(li),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),rs(Tt),ct(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function aS(n,s){switch(_f(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return rs(Tt),dt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Br(s),null;case 31:if(s.memoizedState!==null){if(Dn(s),s.alternate===null)throw Error(a(340));si()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Dn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));si()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Z(vt),null;case 4:return dt(),null;case 10:return rs(s.type),null;case 22:case 23:return Dn(s),Pf(),n!==null&&Z(li),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return rs(Tt),null;case 25:return null;default:return null}}function rx(n,s){switch(_f(s),s.tag){case 3:rs(Tt),dt();break;case 26:case 27:case 5:Br(s);break;case 4:dt();break;case 31:s.memoizedState!==null&&Dn(s);break;case 13:Dn(s);break;case 19:Z(vt);break;case 10:rs(s.type);break;case 22:case 23:Dn(s),Pf(),n!==null&&Z(li);break;case 24:rs(Tt)}}function qo(n,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&n)===n){u=void 0;var g=l.create,_=l.inst;u=g(),_.destroy=u}l=l.next}while(l!==f)}}catch(S){tt(s,s.return,S)}}function na(n,s,l){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var _=u.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=s;var L=l,K=S;try{K()}catch(ee){tt(f,L,ee)}}}u=u.next}while(u!==g)}}catch(ee){tt(s,s.return,ee)}}function sx(n){var s=n.updateQueue;if(s!==null){var l=n.stateNode;try{Y0(s,l)}catch(u){tt(n,n.return,u)}}}function ax(n,s,l){l.props=hi(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){tt(n,s,u)}}function Ho(n,s){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(f){tt(n,s,f)}}function Ar(n,s){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){tt(n,s,f)}else l.current=null}function ix(n){var s=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){tt(n,n.return,f)}}function mm(n,s,l){try{var u=n.stateNode;jS(u,n.type,l,s),u[$t]=s}catch(f){tt(n,n.return,f)}}function lx(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ca(n.type)||n.tag===4}function gm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lx(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ca(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pm(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(n),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Lt));else if(u!==4&&(u===27&&ca(n.type)&&(l=n.stateNode,s=null),n=n.child,n!==null))for(pm(n,s,l),n=n.sibling;n!==null;)pm(n,s,l),n=n.sibling}function ed(n,s,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(u!==4&&(u===27&&ca(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(ed(n,s,l),n=n.sibling;n!==null;)ed(n,s,l),n=n.sibling}function ox(n){var s=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Qt(s,u,l),s[mt]=n,s[$t]=l}catch(g){tt(n,n.return,g)}}var os=!1,At=!1,ym=!1,cx=typeof WeakSet=="function"?WeakSet:Set,zt=null;function iS(n,s){if(n=n.containerInfo,Vm=_d,n=_0(n),uf(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,S=-1,L=-1,K=0,ee=0,ne=n,Q=null;t:for(;;){for(var J;ne!==l||f!==0&&ne.nodeType!==3||(S=_+f),ne!==g||u!==0&&ne.nodeType!==3||(L=_+u),ne.nodeType===3&&(_+=ne.nodeValue.length),(J=ne.firstChild)!==null;)Q=ne,ne=J;for(;;){if(ne===n)break t;if(Q===l&&++K===f&&(S=_),Q===g&&++ee===u&&(L=_),(J=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=J}l=S===-1||L===-1?null:{start:S,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Um={focusedElem:n,selectionRange:l},_d=!1,zt=s;zt!==null;)if(s=zt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,zt=n;else for(;zt!==null;){switch(s=zt,g=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)f=n[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,l=s,f=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var ge=hi(l.type,f);n=u.getSnapshotBeforeUpdate(ge,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(we){tt(l,l.return,we)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,l=n.nodeType,l===9)Bm(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,zt=n;break}zt=s.return}}function ux(n,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:us(n,l),u&4&&qo(5,l);break;case 1:if(us(n,l),u&4)if(n=l.stateNode,s===null)try{n.componentDidMount()}catch(_){tt(l,l.return,_)}else{var f=hi(l.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(l,l.return,_)}}u&64&&sx(l),u&512&&Ho(l,l.return);break;case 3:if(us(n,l),u&64&&(n=l.updateQueue,n!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{Y0(n,s)}catch(_){tt(l,l.return,_)}}break;case 27:s===null&&u&4&&ox(l);case 26:case 5:us(n,l),s===null&&u&4&&ix(l),u&512&&Ho(l,l.return);break;case 12:us(n,l);break;case 31:us(n,l),u&4&&fx(n,l);break;case 13:us(n,l),u&4&&mx(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=gS.bind(null,l),OS(n,l))));break;case 22:if(u=l.memoizedState!==null||os,!u){s=s!==null&&s.memoizedState!==null||At,f=os;var g=At;os=u,(At=s)&&!g?ds(n,l,(l.subtreeFlags&8772)!==0):us(n,l),os=f,At=g}break;case 30:break;default:us(n,l)}}function dx(n){var s=n.alternate;s!==null&&(n.alternate=null,dx(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ha(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,bn=!1;function cs(n,s,l){for(l=l.child;l!==null;)hx(n,s,l),l=l.sibling}function hx(n,s,l){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(js,l)}catch{}switch(l.tag){case 26:At||Ar(l,s),cs(n,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:At||Ar(l,s);var u=ut,f=bn;ca(l.type)&&(ut=l.stateNode,bn=!1),cs(n,s,l),Zo(l.stateNode),ut=u,bn=f;break;case 5:At||Ar(l,s);case 6:if(u=ut,f=bn,ut=null,cs(n,s,l),ut=u,bn=f,ut!==null)if(bn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(l.stateNode)}catch(g){tt(l,s,g)}else try{ut.removeChild(l.stateNode)}catch(g){tt(l,s,g)}break;case 18:ut!==null&&(bn?(n=ut,sv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Sl(n)):sv(ut,l.stateNode));break;case 4:u=ut,f=bn,ut=l.stateNode.containerInfo,bn=!0,cs(n,s,l),ut=u,bn=f;break;case 0:case 11:case 14:case 15:na(2,l,s),At||na(4,l,s),cs(n,s,l);break;case 1:At||(Ar(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&ax(l,s,u)),cs(n,s,l);break;case 21:cs(n,s,l);break;case 22:At=(u=At)||l.memoizedState!==null,cs(n,s,l),At=u;break;default:cs(n,s,l)}}function fx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Sl(n)}catch(l){tt(s,s.return,l)}}}function mx(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Sl(n)}catch(l){tt(s,s.return,l)}}function lS(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new cx),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new cx),s;default:throw Error(a(435,n.tag))}}function td(n,s){var l=lS(n);s.forEach(function(u){if(!l.has(u)){l.add(u);var f=pS.bind(null,n,u);u.then(f,f)}})}function _n(n,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],g=n,_=s,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(ca(S.type)){ut=S.stateNode,bn=!1;break e}break;case 5:ut=S.stateNode,bn=!1;break e;case 3:case 4:ut=S.stateNode.containerInfo,bn=!0;break e}S=S.return}if(ut===null)throw Error(a(160));hx(g,_,f),ut=null,bn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)gx(s,n),s=s.sibling}var or=null;function gx(n,s){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(s,n),wn(n),u&4&&(na(3,n,n.return),qo(3,n),na(5,n,n.return));break;case 1:_n(s,n),wn(n),u&512&&(At||l===null||Ar(l,l.return)),u&64&&os&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=or;if(_n(s,n),wn(n),u&512&&(At||l===null||Ar(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Gr]||g[mt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Qt(g,u,l),g[mt]=n,xt(g),u=g;break e;case"link":var _=gv("link","href",f).get(u+(l.href||""));if(_){for(var S=0;S<_.length;S++)if(g=_[S],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(S,1);break t}}g=f.createElement(u),Qt(g,u,l),f.head.appendChild(g);break;case"meta":if(_=gv("meta","content",f).get(u+(l.content||""))){for(S=0;S<_.length;S++)if(g=_[S],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(S,1);break t}}g=f.createElement(u),Qt(g,u,l),f.head.appendChild(g);break;default:throw Error(a(468,u))}g[mt]=n,xt(g),u=g}n.stateNode=u}else pv(f,n.type,n.stateNode);else n.stateNode=mv(f,u,n.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?pv(f,n.type,n.stateNode):mv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&mm(n,n.memoizedProps,l.memoizedProps)}break;case 27:_n(s,n),wn(n),u&512&&(At||l===null||Ar(l,l.return)),l!==null&&u&4&&mm(n,n.memoizedProps,l.memoizedProps);break;case 5:if(_n(s,n),wn(n),u&512&&(At||l===null||Ar(l,l.return)),n.flags&32){f=n.stateNode;try{Hn(f,"")}catch(ge){tt(n,n.return,ge)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,mm(n,f,l!==null?l.memoizedProps:f)),u&1024&&(ym=!0);break;case 6:if(_n(s,n),wn(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(ge){tt(n,n.return,ge)}}break;case 3:if(yd=null,f=or,or=gd(s.containerInfo),_n(s,n),or=f,wn(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Sl(s.containerInfo)}catch(ge){tt(n,n.return,ge)}ym&&(ym=!1,px(n));break;case 4:u=or,or=gd(n.stateNode.containerInfo),_n(s,n),wn(n),or=u;break;case 12:_n(s,n),wn(n);break;case 31:_n(s,n),wn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,td(n,u)));break;case 13:_n(s,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rd=qt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,td(n,u)));break;case 22:f=n.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,K=os,ee=At;if(os=K||f,At=ee||L,_n(s,n),At=ee,os=K,wn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(l===null||L||os||At||fi(n)),l=null,s=n;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(g=L.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=L.stateNode;var ne=L.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ge){tt(L,L.return,ge)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=f?"":L.memoizedProps}catch(ge){tt(L,L.return,ge)}}}else if(s.tag===18){if(l===null){L=s;try{var J=L.stateNode;f?av(J,!0):av(L.stateNode,!1)}catch(ge){tt(L,L.return,ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,td(n,l))));break;case 19:_n(s,n),wn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,td(n,u)));break;case 30:break;case 21:break;default:_n(s,n),wn(n)}}function wn(n){var s=n.flags;if(s&2){try{for(var l,u=n.return;u!==null;){if(lx(u)){l=u;break}u=u.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,g=gm(n);ed(n,g,f);break;case 5:var _=l.stateNode;l.flags&32&&(Hn(_,""),l.flags&=-33);var S=gm(n);ed(n,S,_);break;case 3:case 4:var L=l.stateNode.containerInfo,K=gm(n);pm(n,K,L);break;default:throw Error(a(161))}}catch(ee){tt(n,n.return,ee)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function px(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;px(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function us(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ux(n,s.alternate,s),s=s.sibling}function fi(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:na(4,s,s.return),fi(s);break;case 1:Ar(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ax(s,s.return,l),fi(s);break;case 27:Zo(s.stateNode);case 26:case 5:Ar(s,s.return),fi(s);break;case 22:s.memoizedState===null&&fi(s);break;case 30:fi(s);break;default:fi(s)}n=n.sibling}}function ds(n,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,g=s,_=g.flags;switch(g.tag){case 0:case 11:case 15:ds(f,g,l),qo(4,g);break;case 1:if(ds(f,g,l),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){tt(u,u.return,K)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var L=f.shared.hiddenCallbacks;if(L!==null)for(f.shared.hiddenCallbacks=null,f=0;f<L.length;f++)K0(L[f],S)}catch(K){tt(u,u.return,K)}}l&&_&64&&sx(g),Ho(g,g.return);break;case 27:ox(g);case 26:case 5:ds(f,g,l),l&&u===null&&_&4&&ix(g),Ho(g,g.return);break;case 12:ds(f,g,l);break;case 31:ds(f,g,l),l&&_&4&&fx(f,g);break;case 13:ds(f,g,l),l&&_&4&&mx(f,g);break;case 22:g.memoizedState===null&&ds(f,g,l),Ho(g,g.return);break;case 30:break;default:ds(f,g,l)}s=s.sibling}}function xm(n,s){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Co(l))}function vm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Co(n))}function cr(n,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yx(n,s,l,u),s=s.sibling}function yx(n,s,l,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:cr(n,s,l,u),f&2048&&qo(9,s);break;case 1:cr(n,s,l,u);break;case 3:cr(n,s,l,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&Co(n)));break;case 12:if(f&2048){cr(n,s,l,u),n=s.stateNode;try{var g=s.memoizedProps,_=g.id,S=g.onPostCommit;typeof S=="function"&&S(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(L){tt(s,s.return,L)}}else cr(n,s,l,u);break;case 31:cr(n,s,l,u);break;case 13:cr(n,s,l,u);break;case 23:break;case 22:g=s.stateNode,_=s.alternate,s.memoizedState!==null?g._visibility&2?cr(n,s,l,u):$o(n,s):g._visibility&2?cr(n,s,l,u):(g._visibility|=2,gl(n,s,l,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&xm(_,s);break;case 24:cr(n,s,l,u),f&2048&&vm(s.alternate,s);break;default:cr(n,s,l,u)}}function gl(n,s,l,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=n,_=s,S=l,L=u,K=_.flags;switch(_.tag){case 0:case 11:case 15:gl(g,_,S,L,f),qo(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&2?gl(g,_,S,L,f):$o(g,_):(ee._visibility|=2,gl(g,_,S,L,f)),f&&K&2048&&xm(_.alternate,_);break;case 24:gl(g,_,S,L,f),f&&K&2048&&vm(_.alternate,_);break;default:gl(g,_,S,L,f)}s=s.sibling}}function $o(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=n,u=s,f=u.flags;switch(u.tag){case 22:$o(l,u),f&2048&&xm(u.alternate,u);break;case 24:$o(l,u),f&2048&&vm(u.alternate,u);break;default:$o(l,u)}s=s.sibling}}var Go=8192;function pl(n,s,l){if(n.subtreeFlags&Go)for(n=n.child;n!==null;)xx(n,s,l),n=n.sibling}function xx(n,s,l){switch(n.tag){case 26:pl(n,s,l),n.flags&Go&&n.memoizedState!==null&&KS(l,or,n.memoizedState,n.memoizedProps);break;case 5:pl(n,s,l);break;case 3:case 4:var u=or;or=gd(n.stateNode.containerInfo),pl(n,s,l),or=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Go,Go=16777216,pl(n,s,l),Go=u):pl(n,s,l));break;default:pl(n,s,l)}}function vx(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ko(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];zt=u,_x(u,n)}vx(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bx(n),n=n.sibling}function bx(n){switch(n.tag){case 0:case 11:case 15:Ko(n),n.flags&2048&&na(9,n,n.return);break;case 3:Ko(n);break;case 12:Ko(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,nd(n)):Ko(n);break;default:Ko(n)}}function nd(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];zt=u,_x(u,n)}vx(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:na(8,s,s.return),nd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,nd(s));break;default:nd(s)}n=n.sibling}}function _x(n,s){for(;zt!==null;){var l=zt;switch(l.tag){case 0:case 11:case 15:na(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Co(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,zt=u;else e:for(l=n;zt!==null;){u=zt;var f=u.sibling,g=u.return;if(dx(u),u===l){zt=null;break e}if(f!==null){f.return=g,zt=f;break e}zt=g}}}var oS={getCacheForType:function(n){var s=Kt(Tt),l=s.data.get(n);return l===void 0&&(l=n(),s.data.set(n,l)),l},cacheSignal:function(){return Kt(Tt).controller.signal}},cS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,at=null,Pe=null,Ve=0,et=0,Mn=null,ra=!1,yl=!1,bm=!1,hs=0,yt=0,sa=0,mi=0,_m=0,On=0,xl=0,Yo=null,Nn=null,wm=!1,rd=0,wx=0,sd=1/0,ad=null,aa=null,Dt=0,ia=null,vl=null,fs=0,Nm=0,Em=null,Nx=null,Qo=0,Tm=null;function Pn(){return(Qe&2)!==0&&Ve!==0?Ve&-Ve:Y.T!==null?Rm():$r()}function Ex(){if(On===0)if((Ve&536870912)===0||He){var n=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),On=n}else On=536870912;return n=In.current,n!==null&&(n.flags|=32),On}function En(n,s,l){(n===at&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(bl(n,0),la(n,Ve,On,!1)),Cs(n,l),((Qe&2)===0||n!==at)&&(n===at&&((Qe&2)===0&&(mi|=l),yt===4&&la(n,Ve,On,!1)),kr(n))}function Tx(n,s,l){if((Qe&6)!==0)throw Error(a(327));var u=!l&&(s&127)===0&&(s&n.expiredLanes)===0||ks(n,s),f=u?hS(n,s):jm(n,s,!0),g=u;do{if(f===0){yl&&!u&&la(n,s,0,!1);break}else{if(l=n.current.alternate,g&&!uS(l)){f=jm(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var S=n;f=Yo;var L=S.current.memoizedState.isDehydrated;if(L&&(bl(S,_).flags|=256),_=jm(S,_,!1),_!==2){if(bm&&!L){S.errorRecoveryDisabledLanes|=g,mi|=g,f=4;break e}g=Nn,Nn=f,g!==null&&(Nn===null?Nn=g:Nn.push.apply(Nn,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){bl(n,0),la(n,s,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:la(u,s,On,!ra);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(f=rd+300-qt(),10<f)){if(la(u,s,On,!ra),Bn(u,0,!0)!==0)break e;fs=s,u.timeoutHandle=nv(Sx.bind(null,u,l,Nn,ad,wm,s,On,mi,xl,ra,g,"Throttled",-0,0),f);break e}Sx(u,l,Nn,ad,wm,s,On,mi,xl,ra,g,null,-0,0)}}break}while(!0);kr(n)}function Sx(n,s,l,u,f,g,_,S,L,K,ee,ne,Q,J){if(n.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Lt},xx(s,g,ne);var ge=(g&62914560)===g?rd-qt():(g&4194048)===g?wx-qt():0;if(ge=YS(ne,ge),ge!==null){fs=g,n.cancelPendingCommit=ge(Mx.bind(null,n,s,g,l,u,f,_,S,L,ee,ne,null,Q,J)),la(n,g,_,!K);return}}Mx(n,s,g,l,u,f,_,S,L)}function uS(n){for(var s=n;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],g=f.getSnapshot;f=f.value;try{if(!Cn(g(),f))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function la(n,s,l,u){s&=~_m,s&=~mi,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var g=31-cn(f),_=1<<g;u[g]=-1,f&=~_}l!==0&&oo(n,l,s)}function id(){return(Qe&6)===0?(Xo(0),!1):!0}function Sm(){if(Pe!==null){if(et===0)var n=Pe.return;else n=Pe,ns=ai=null,Bf(n),ul=null,Io=0,n=Pe;for(;n!==null;)rx(n.alternate,n),n=n.return;Pe=null}}function bl(n,s){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,CS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),fs=0,Sm(),at=n,Pe=l=es(n.current,null),Ve=s,et=0,Mn=null,ra=!1,yl=ks(n,s),bm=!1,xl=On=_m=mi=sa=yt=0,Nn=Yo=null,wm=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-cn(u),g=1<<f;s|=n[f],u&=~g}return hs=s,ju(),l}function jx(n,s){Ce=null,Y.H=zo,s===cl||s===Ou?(s=q0(),et=3):s===Cf?(s=q0(),et=4):et=s===sm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Mn=s,Pe===null&&(yt=1,Qu(n,Gn(s,n.current)))}function Ax(){var n=In.current;return n===null?!0:(Ve&4194048)===Ve?Xn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?n===Xn:!1}function kx(){var n=Y.H;return Y.H=zo,n===null?zo:n}function Cx(){var n=Y.A;return Y.A=oS,n}function ld(){yt=4,ra||(Ve&4194048)!==Ve&&In.current!==null||(yl=!0),(sa&134217727)===0&&(mi&134217727)===0||at===null||la(at,Ve,On,!1)}function jm(n,s,l){var u=Qe;Qe|=2;var f=kx(),g=Cx();(at!==n||Ve!==s)&&(ad=null,bl(n,s)),s=!1;var _=yt;e:do try{if(et!==0&&Pe!==null){var S=Pe,L=Mn;switch(et){case 8:Sm(),_=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(s=!0);var K=et;if(et=0,Mn=null,_l(n,S,L,K),l&&yl){_=0;break e}break;default:K=et,et=0,Mn=null,_l(n,S,L,K)}}dS(),_=yt;break}catch(ee){jx(n,ee)}while(!0);return s&&n.shellSuspendCounter++,ns=ai=null,Qe=u,Y.H=f,Y.A=g,Pe===null&&(at=null,Ve=0,ju()),_}function dS(){for(;Pe!==null;)Rx(Pe)}function hS(n,s){var l=Qe;Qe|=2;var u=kx(),f=Cx();at!==n||Ve!==s?(ad=null,sd=qt()+500,bl(n,s)):yl=ks(n,s);e:do try{if(et!==0&&Pe!==null){s=Pe;var g=Mn;t:switch(et){case 1:et=0,Mn=null,_l(n,s,g,1);break;case 2:case 9:if(F0(g)){et=0,Mn=null,Ix(s);break}s=function(){et!==2&&et!==9||at!==n||(et=7),kr(n)},g.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:F0(g)?(et=0,Mn=null,Ix(s)):(et=0,Mn=null,_l(n,s,g,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var S=Pe;if(_?yv(_):S.stateNode.complete){et=0,Mn=null;var L=S.sibling;if(L!==null)Pe=L;else{var K=S.return;K!==null?(Pe=K,od(K)):Pe=null}break t}}et=0,Mn=null,_l(n,s,g,5);break;case 6:et=0,Mn=null,_l(n,s,g,6);break;case 8:Sm(),yt=6;break e;default:throw Error(a(462))}}fS();break}catch(ee){jx(n,ee)}while(!0);return ns=ai=null,Y.H=u,Y.A=f,Qe=l,Pe!==null?0:(at=null,Ve=0,ju(),yt)}function fS(){for(;Pe!==null&&!Wh();)Rx(Pe)}function Rx(n){var s=tx(n.alternate,n,hs);n.memoizedProps=n.pendingProps,s===null?od(n):Pe=s}function Ix(n){var s=n,l=s.alternate;switch(s.tag){case 15:case 0:s=Qy(l,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=Qy(l,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:Bf(s);default:rx(l,s),s=Pe=C0(s,hs),s=tx(l,s,hs)}n.memoizedProps=n.pendingProps,s===null?od(n):Pe=s}function _l(n,s,l,u){ns=ai=null,Bf(s),ul=null,Io=0;var f=s.return;try{if(tS(n,f,s,l,Ve)){yt=1,Qu(n,Gn(l,n.current)),Pe=null;return}}catch(g){if(f!==null)throw Pe=f,g;yt=1,Qu(n,Gn(l,n.current)),Pe=null;return}s.flags&32768?(He||u===1?n=!0:yl||(Ve&536870912)!==0?n=!1:(ra=n=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dx(s,n)):od(s)}function od(n){var s=n;do{if((s.flags&32768)!==0){Dx(s,ra);return}n=s.return;var l=sS(s.alternate,s,hs);if(l!==null){Pe=l;return}if(s=s.sibling,s!==null){Pe=s;return}Pe=s=n}while(s!==null);yt===0&&(yt=5)}function Dx(n,s){do{var l=aS(n.alternate,n);if(l!==null){l.flags&=32767,Pe=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=l}while(n!==null);yt=6,Pe=null}function Mx(n,s,l,u,f,g,_,S,L){n.cancelPendingCommit=null;do cd();while(Dt!==0);if((Qe&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(g=s.lanes|s.childLanes,g|=gf,Ht(n,l,g,_,S,L),n===at&&(Pe=at=null,Ve=0),vl=s,ia=n,fs=l,Nm=g,Em=f,Nx=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,yS(qr,function(){return Ux(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=ae.p,ae.p=2,_=Qe,Qe|=4;try{iS(n,s,l)}finally{Qe=_,ae.p=f,Y.T=u}}Dt=1,Ox(),Px(),Lx()}}function Ox(){if(Dt===1){Dt=0;var n=ia,s=vl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null;var u=ae.p;ae.p=2;var f=Qe;Qe|=4;try{gx(s,n);var g=Um,_=_0(n.containerInfo),S=g.focusedElem,L=g.selectionRange;if(_!==S&&S&&S.ownerDocument&&b0(S.ownerDocument.documentElement,S)){if(L!==null&&uf(S)){var K=L.start,ee=L.end;if(ee===void 0&&(ee=K),"selectionStart"in S)S.selectionStart=K,S.selectionEnd=Math.min(ee,S.value.length);else{var ne=S.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var J=Q.getSelection(),ge=S.textContent.length,we=Math.min(L.start,ge),st=L.end===void 0?we:Math.min(L.end,ge);!J.extend&&we>st&&(_=st,st=we,we=_);var H=v0(S,we),z=v0(S,st);if(H&&z&&(J.rangeCount!==1||J.anchorNode!==H.node||J.anchorOffset!==H.offset||J.focusNode!==z.node||J.focusOffset!==z.offset)){var G=ne.createRange();G.setStart(H.node,H.offset),J.removeAllRanges(),we>st?(J.addRange(G),J.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),J.addRange(G))}}}}for(ne=[],J=S;J=J.parentNode;)J.nodeType===1&&ne.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ne.length;S++){var te=ne[S];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}_d=!!Vm,Um=Vm=null}finally{Qe=f,ae.p=u,Y.T=l}}n.current=s,Dt=2}}function Px(){if(Dt===2){Dt=0;var n=ia,s=vl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Y.T,Y.T=null;var u=ae.p;ae.p=2;var f=Qe;Qe|=4;try{ux(n,s.alternate,s)}finally{Qe=f,ae.p=u,Y.T=l}}Dt=3}}function Lx(){if(Dt===4||Dt===3){Dt=0,so();var n=ia,s=vl,l=fs,u=Nx;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Dt=5:(Dt=0,vl=ia=null,Vx(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(aa=null),uo(l),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(js,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Y.T,f=ae.p,ae.p=2,Y.T=null;try{for(var g=n.onRecoverableError,_=0;_<u.length;_++){var S=u[_];g(S.value,{componentStack:S.stack})}}finally{Y.T=s,ae.p=f}}(fs&3)!==0&&cd(),kr(n),f=n.pendingLanes,(l&261930)!==0&&(f&42)!==0?n===Tm?Qo++:(Qo=0,Tm=n):Qo=0,Xo(0)}}function Vx(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,Co(s)))}function cd(){return Ox(),Px(),Lx(),Ux()}function Ux(){if(Dt!==5)return!1;var n=ia,s=Nm;Nm=0;var l=uo(fs),u=Y.T,f=ae.p;try{ae.p=32>l?32:l,Y.T=null,l=Em,Em=null;var g=ia,_=fs;if(Dt=0,vl=ia=null,fs=0,(Qe&6)!==0)throw Error(a(331));var S=Qe;if(Qe|=4,bx(g.current),yx(g,g.current,_,l),Qe=S,Xo(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(js,g)}catch{}return!0}finally{ae.p=f,Y.T=u,Vx(n,s)}}function zx(n,s,l){s=Gn(l,s),s=rm(n.stateNode,s,2),n=Zs(n,s,2),n!==null&&(Cs(n,2),kr(n))}function tt(n,s,l){if(n.tag===3)zx(n,n,l);else for(;s!==null;){if(s.tag===3){zx(s,n,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(aa===null||!aa.has(u))){n=Gn(l,n),l=Fy(2),u=Zs(s,l,2),u!==null&&(By(l,u,s,n),Cs(u,2),kr(u));break}}s=s.return}}function Am(n,s,l){var u=n.pingCache;if(u===null){u=n.pingCache=new cS;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(l)||(bm=!0,f.add(l),n=mS.bind(null,n,s,l),s.then(n,n))}function mS(n,s,l){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,at===n&&(Ve&l)===l&&(yt===4||yt===3&&(Ve&62914560)===Ve&&300>qt()-rd?(Qe&2)===0&&bl(n,0):_m|=l,xl===Ve&&(xl=0)),kr(n)}function Fx(n,s){s===0&&(s=lo()),n=ni(n,s),n!==null&&(Cs(n,s),kr(n))}function gS(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),Fx(n,l)}function pS(n,s){var l=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(s),Fx(n,l)}function yS(n,s){return Fa(n,s)}var ud=null,wl=null,km=!1,dd=!1,Cm=!1,oa=0;function kr(n){n!==wl&&n.next===null&&(wl===null?ud=wl=n:wl=wl.next=n),dd=!0,km||(km=!0,vS())}function Xo(n,s){if(!Cm&&dd){Cm=!0;do for(var l=!1,u=ud;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var _=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-cn(42|n)+1)-1,g&=f&~(_&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,$x(u,g))}else g=Ve,g=Bn(u,u===at?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||ks(u,g)||(l=!0,$x(u,g));u=u.next}while(l);Cm=!1}}function xS(){Bx()}function Bx(){dd=km=!1;var n=0;oa!==0&&kS()&&(n=oa);for(var s=qt(),l=null,u=ud;u!==null;){var f=u.next,g=qx(u,s);g===0?(u.next=null,l===null?ud=f:l.next=f,f===null&&(wl=l)):(l=u,(n!==0||(g&3)!==0)&&(dd=!0)),u=f}Dt!==0&&Dt!==5||Xo(n),oa!==0&&(oa=0)}function qx(n,s){for(var l=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var _=31-cn(g),S=1<<_,L=f[_];L===-1?((S&l)===0||(S&u)!==0)&&(f[_]=Bi(S,s)):L<=s&&(n.expiredLanes|=S),g&=~S}if(s=at,l=Ve,l=Bn(n,n===s?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Fi(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||ks(n,l)){if(s=l&-l,s===n.callbackPriority)return s;switch(u!==null&&Fi(u),uo(l)){case 2:case 8:l=Pt;break;case 32:l=qr;break;case 268435456:l=ao;break;default:l=qr}return u=Hx.bind(null,n),l=Fa(l,u),n.callbackPriority=s,n.callbackNode=l,s}return u!==null&&u!==null&&Fi(u),n.callbackPriority=2,n.callbackNode=null,2}function Hx(n,s){if(Dt!==0&&Dt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(cd()&&n.callbackNode!==l)return null;var u=Ve;return u=Bn(n,n===at?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Tx(n,u,s),qx(n,qt()),n.callbackNode!=null&&n.callbackNode===l?Hx.bind(null,n):null)}function $x(n,s){if(cd())return null;Tx(n,s,!0)}function vS(){RS(function(){(Qe&6)!==0?Fa(It,xS):Bx()})}function Rm(){if(oa===0){var n=ll;n===0&&(n=qa,qa<<=1,(qa&261888)===0&&(qa=256)),oa=n}return oa}function Gx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Nr(""+n)}function Kx(n,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,n.id&&l.setAttribute("form",n.id),s.parentNode.insertBefore(l,s),n=new FormData(n),l.parentNode.removeChild(l),n}function bS(n,s,l,u,f){if(s==="submit"&&l&&l.stateNode===f){var g=Gx((f[$t]||null).action),_=u.submitter;_&&(s=(s=_[$t]||null)?Gx(s.formAction):_.getAttribute("formAction"),s!==null&&(g=s,_=null));var S=new Qa("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(oa!==0){var L=_?Kx(f,_):new FormData(f);Jf(l,{pending:!0,data:L,method:f.method,action:g},null,L)}}else typeof g=="function"&&(S.preventDefault(),L=_?Kx(f,_):new FormData(f),Jf(l,{pending:!0,data:L,method:f.method,action:g},g,L))},currentTarget:f}]})}}for(var Im=0;Im<mf.length;Im++){var Dm=mf[Im],_S=Dm.toLowerCase(),wS=Dm[0].toUpperCase()+Dm.slice(1);lr(_S,"on"+wS)}lr(E0,"onAnimationEnd"),lr(T0,"onAnimationIteration"),lr(S0,"onAnimationStart"),lr("dblclick","onDoubleClick"),lr("focusin","onFocus"),lr("focusout","onBlur"),lr(VT,"onTransitionRun"),lr(UT,"onTransitionStart"),lr(zT,"onTransitionCancel"),lr(j0,"onTransitionEnd"),wr("onMouseEnter",["mouseout","mouseover"]),wr("onMouseLeave",["mouseout","mouseover"]),wr("onPointerEnter",["pointerout","pointerover"]),wr("onPointerLeave",["pointerout","pointerover"]),un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),un("onBeforeInput",["compositionend","keypress","textInput","paste"]),un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Yx(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var _=u.length-1;0<=_;_--){var S=u[_],L=S.instance,K=S.currentTarget;if(S=S.listener,L!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=K;try{g(f)}catch(ee){Su(ee)}f.currentTarget=null,g=L}else for(_=0;_<u.length;_++){if(S=u[_],L=S.instance,K=S.currentTarget,S=S.listener,L!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=K;try{g(f)}catch(ee){Su(ee)}f.currentTarget=null,g=L}}}}function Le(n,s){var l=s[Ds];l===void 0&&(l=s[Ds]=new Set);var u=n+"__bubble";l.has(u)||(Qx(s,n,2,!1),l.add(u))}function Mm(n,s,l){var u=0;s&&(u|=4),Qx(l,n,u,s)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Om(n){if(!n[hd]){n[hd]=!0,qi.forEach(function(l){l!=="selectionchange"&&(NS.has(l)||Mm(l,!1,n),Mm(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[hd]||(s[hd]=!0,Mm("selectionchange",!1,s))}}function Qx(n,s,l,u){switch(Ev(s)){case 2:var f=JS;break;case 8:f=WS;break;default:f=Xm}l=f.bind(null,s,l,n),f=void 0,!vo||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,l,{capture:!0,passive:f}):n.addEventListener(s,l,!0):f!==void 0?n.addEventListener(s,l,{passive:f}):n.addEventListener(s,l,!1)}function Pm(n,s,l,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var S=u.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=u.return;_!==null;){var L=_.tag;if((L===3||L===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Kr(S),_===null)return;if(L=_.tag,L===5||L===6||L===26||L===27){u=g=_;continue e}S=S.parentNode}}u=u.return}uu(function(){var K=g,ee=Yi(l),ne=[];e:{var Q=A0.get(n);if(Q!==void 0){var J=Qa,ge=n;switch(n){case"keypress":if(Ya(l)===0)break e;case"keydown":case"keyup":J=vu;break;case"focusin":ge="focus",J=qs;break;case"focusout":ge="blur",J=qs;break;case"beforeblur":case"afterblur":J=qs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=hu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=_u;break;case E0:case T0:case S0:J=Ji;break;case j0:J=Wi;break;case"scroll":case"scrollend":J=du;break;case"wheel":J=Nu;break;case"copy":case"cut":case"paste":J=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Eo;break;case"toggle":case"beforetoggle":J=$s}var we=(s&4)!==0,st=!we&&(n==="scroll"||n==="scrollend"),H=we?Q!==null?Q+"Capture":null:Q;we=[];for(var z=K,G;z!==null;){var te=z;if(G=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||G===null||H===null||(te=xn(z,H),te!=null&&we.push(Wo(z,te,G))),st)break;z=z.return}0<we.length&&(Q=new J(Q,ge,null,l,ee),ne.push({event:Q,listeners:we}))}}if((s&7)===0){e:{if(Q=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",Q&&l!==Ki&&(ge=l.relatedTarget||l.fromElement)&&(Kr(ge)||ge[br]))break e;if((J||Q)&&(Q=ee.window===ee?ee:(Q=ee.ownerDocument)?Q.defaultView||Q.parentWindow:window,J?(ge=l.relatedTarget||l.toElement,J=K,ge=ge?Kr(ge):null,ge!==null&&(st=c(ge),we=ge.tag,ge!==st||we!==5&&we!==27&&we!==6)&&(ge=null)):(J=null,ge=K),J!==ge)){if(we=hu,te="onMouseLeave",H="onMouseEnter",z="mouse",(n==="pointerout"||n==="pointerover")&&(we=Eo,te="onPointerLeave",H="onPointerEnter",z="pointer"),st=J==null?Q:$a(J),G=ge==null?Q:$a(ge),Q=new we(te,z+"leave",J,l,ee),Q.target=st,Q.relatedTarget=G,te=null,Kr(ee)===K&&(we=new we(H,z+"enter",ge,l,ee),we.target=G,we.relatedTarget=st,te=we),st=te,J&&ge)t:{for(we=ES,H=J,z=ge,G=0,te=H;te;te=we(te))G++;te=0;for(var be=z;be;be=we(be))te++;for(;0<G-te;)H=we(H),G--;for(;0<te-G;)z=we(z),te--;for(;G--;){if(H===z||z!==null&&H===z.alternate){we=H;break t}H=we(H),z=we(z)}we=null}else we=null;J!==null&&Xx(ne,Q,J,we,!1),ge!==null&&st!==null&&Xx(ne,st,ge,we,!0)}}e:{if(Q=K?$a(K):window,J=Q.nodeName&&Q.nodeName.toLowerCase(),J==="select"||J==="input"&&Q.type==="file")var Ke=f0;else if(vn(Q))if(m0)Ke=OT;else{Ke=DT;var ve=IT}else J=Q.nodeName,!J||J.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&yo(K.elementType)&&(Ke=f0):Ke=MT;if(Ke&&(Ke=Ke(n,K))){Za(ne,Ke,l,ee);break e}ve&&ve(n,Q,K),n==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&Gi(Q,"number",Q.value)}switch(ve=K?$a(K):window,n){case"focusin":(vn(ve)||ve.contentEditable==="true")&&(Zi=ve,df=K,jo=null);break;case"focusout":jo=df=Zi=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,w0(ne,l,ee);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":w0(ne,l,ee)}var Re;if(x)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Me?We(n,l)&&(Ue="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&($&&l.locale!=="ko"&&(Me||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Me&&(Re=Us()):(kn=ee,Qi="value"in kn?kn.value:kn.textContent,Me=!0)),ve=fd(K,Ue),0<ve.length&&(Ue=new _o(Ue,n,null,l,ee),ne.push({event:Ue,listeners:ve}),Re?Ue.data=Re:(Re=Et(l),Re!==null&&(Ue.data=Re)))),(Re=j?Vt(n,l):Ut(n,l))&&(Ue=fd(K,"onBeforeInput"),0<Ue.length&&(ve=new _o("onBeforeInput","beforeinput",null,l,ee),ne.push({event:ve,listeners:Ue}),ve.data=Re)),bS(ne,n,K,l,ee)}Yx(ne,s)})}function Wo(n,s,l){return{instance:n,listener:s,currentTarget:l}}function fd(n,s){for(var l=s+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=xn(n,l),f!=null&&u.unshift(Wo(n,f,g)),f=xn(n,s),f!=null&&u.push(Wo(n,f,g))),n.tag===3)return u;n=n.return}return[]}function ES(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Xx(n,s,l,u,f){for(var g=s._reactName,_=[];l!==null&&l!==u;){var S=l,L=S.alternate,K=S.stateNode;if(S=S.tag,L!==null&&L===u)break;S!==5&&S!==26&&S!==27||K===null||(L=K,f?(K=xn(l,g),K!=null&&_.unshift(Wo(l,K,L))):f||(K=xn(l,g),K!=null&&_.push(Wo(l,K,L)))),l=l.return}_.length!==0&&n.push({event:s,listeners:_})}var TS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function Jx(n){return(typeof n=="string"?n:""+n).replace(TS,`
`).replace(SS,"")}function Wx(n,s){return s=Jx(s),Jx(n)===s}function rt(n,s,l,u,f,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Hn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Hn(n,""+u);break;case"className":Ps(n,"class",u);break;case"tabIndex":Ps(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ps(n,l,u);break;case"style":ou(n,u,g);break;case"data":if(s!=="object"){Ps(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Nr(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&rt(n,s,"name",f.name,f,null),rt(n,s,"formEncType",f.formEncType,f,null),rt(n,s,"formMethod",f.formMethod,f,null),rt(n,s,"formTarget",f.formTarget,f,null)):(rt(n,s,"encType",f.encType,f,null),rt(n,s,"method",f.method,f,null),rt(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=Nr(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Lt);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=Nr(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),Os(n,"popover",u);break;case"xlinkActuate":qn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Os(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=sf.get(l)||l,Os(n,l,u))}}function Lm(n,s,l,u,f,g){switch(l){case"style":ou(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Hn(n,u):(typeof u=="number"||typeof u=="bigint")&&Hn(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Lt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ms.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),s=l.slice(2,f?l.length-7:void 0),g=n[$t]||null,g=g!=null?g[l]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(s,u,f);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):Os(n,l,u)}}}function Qt(n,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var _=l[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:rt(n,s,g,_,l,null)}}f&&rt(n,s,"srcSet",l.srcSet,l,null),u&&rt(n,s,"src",l.src,l,null);return;case"input":Le("invalid",n);var S=g=_=f=null,L=null,K=null;for(u in l)if(l.hasOwnProperty(u)){var ee=l[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":_=ee;break;case"checked":L=ee;break;case"defaultChecked":K=ee;break;case"value":g=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,s));break;default:rt(n,s,u,ee,l,null)}}Ga(n,g,S,L,K,_,f,!1);return;case"select":Le("invalid",n),u=_=g=null;for(f in l)if(l.hasOwnProperty(f)&&(S=l[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":_=S;break;case"multiple":u=S;default:rt(n,s,f,S,l,null)}s=g,l=_,n.multiple=!!u,s!=null?Ge(n,!!u,s,!1):l!=null&&Ge(n,!!u,l,!0);return;case"textarea":Le("invalid",n),g=f=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(S=l[_],S!=null))switch(_){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(a(91));break;default:rt(n,s,_,S,l,null)}Vs(n,u,f,g);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(u=l[L],u!=null))switch(L){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:rt(n,s,L,u,l,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<Jo.length;u++)Le(Jo[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(u=l[K],u!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:rt(n,s,K,u,l,null)}return;default:if(yo(s)){for(ee in l)l.hasOwnProperty(ee)&&(u=l[ee],u!==void 0&&Lm(n,s,ee,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&rt(n,s,S,u,l,null))}function jS(n,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,S=null,L=null,K=null,ee=null;for(J in l){var ne=l[J];if(l.hasOwnProperty(J)&&ne!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":L=ne;default:u.hasOwnProperty(J)||rt(n,s,J,null,u,ne)}}for(var Q in u){var J=u[Q];if(ne=l[Q],u.hasOwnProperty(Q)&&(J!=null||ne!=null))switch(Q){case"type":g=J;break;case"name":f=J;break;case"checked":K=J;break;case"defaultChecked":ee=J;break;case"value":_=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,s));break;default:J!==ne&&rt(n,s,Q,J,u,ne)}}Ls(n,_,S,L,K,ee,g,f);return;case"select":J=_=S=Q=null;for(g in l)if(L=l[g],l.hasOwnProperty(g)&&L!=null)switch(g){case"value":break;case"multiple":J=L;default:u.hasOwnProperty(g)||rt(n,s,g,null,u,L)}for(f in u)if(g=u[f],L=l[f],u.hasOwnProperty(f)&&(g!=null||L!=null))switch(f){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":_=g;default:g!==L&&rt(n,s,f,g,u,L)}s=S,l=_,u=J,Q!=null?Ge(n,!!l,Q,!1):!!u!=!!l&&(s!=null?Ge(n,!!l,s,!0):Ge(n,!!l,l?[]:"",!1));return;case"textarea":J=Q=null;for(S in l)if(f=l[S],l.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:rt(n,s,S,null,u,f)}for(_ in u)if(f=u[_],g=l[_],u.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":Q=f;break;case"defaultValue":J=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==g&&rt(n,s,_,f,u,g)}Ka(n,Q,J);return;case"option":for(var ge in l)if(Q=l[ge],l.hasOwnProperty(ge)&&Q!=null&&!u.hasOwnProperty(ge))switch(ge){case"selected":n.selected=!1;break;default:rt(n,s,ge,null,u,Q)}for(L in u)if(Q=u[L],J=l[L],u.hasOwnProperty(L)&&Q!==J&&(Q!=null||J!=null))switch(L){case"selected":n.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:rt(n,s,L,Q,u,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in l)Q=l[we],l.hasOwnProperty(we)&&Q!=null&&!u.hasOwnProperty(we)&&rt(n,s,we,null,u,Q);for(K in u)if(Q=u[K],J=l[K],u.hasOwnProperty(K)&&Q!==J&&(Q!=null||J!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,s));break;default:rt(n,s,K,Q,u,J)}return;default:if(yo(s)){for(var st in l)Q=l[st],l.hasOwnProperty(st)&&Q!==void 0&&!u.hasOwnProperty(st)&&Lm(n,s,st,void 0,u,Q);for(ee in u)Q=u[ee],J=l[ee],!u.hasOwnProperty(ee)||Q===J||Q===void 0&&J===void 0||Lm(n,s,ee,Q,u,J);return}}for(var H in l)Q=l[H],l.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&rt(n,s,H,null,u,Q);for(ne in u)Q=u[ne],J=l[ne],!u.hasOwnProperty(ne)||Q===J||Q==null&&J==null||rt(n,s,ne,Q,u,J)}function Zx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AS(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var f=l[u],g=f.transferSize,_=f.initiatorType,S=f.duration;if(g&&S&&Zx(_)){for(_=0,S=f.responseEnd,u+=1;u<l.length;u++){var L=l[u],K=L.startTime;if(K>S)break;var ee=L.transferSize,ne=L.initiatorType;ee&&Zx(ne)&&(L=L.responseEnd,_+=ee*(L<S?1:(S-K)/(L-K)))}if(--u,s+=8*(g+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Vm=null,Um=null;function md(n){return n.nodeType===9?n:n.ownerDocument}function ev(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function zm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fm=null;function kS(){var n=window.event;return n&&n.type==="popstate"?n===Fm?!1:(Fm=n,!0):(Fm=null,!1)}var nv=typeof setTimeout=="function"?setTimeout:void 0,CS=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(n){return rv.resolve(null).then(n).catch(IS)}:nv;function IS(n){setTimeout(function(){throw n})}function ca(n){return n==="head"}function sv(n,s){var l=s,u=0;do{var f=l.nextSibling;if(n.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(u===0){n.removeChild(f),Sl(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Zo(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,Zo(l);for(var g=l.firstChild;g;){var _=g.nextSibling,S=g.nodeName;g[Gr]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=_}}else l==="body"&&Zo(n.ownerDocument.body);l=f}while(l);Sl(s)}function av(n,s){var l=n;n=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=u}while(l)}function Bm(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Bm(l),Ha(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function DS(n,s,l,u){for(;n.nodeType===1;){var f=l;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Gr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function MS(n,s,l){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Jn(n.nextSibling),n===null))return null;return n}function iv(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Jn(n.nextSibling),n===null))return null;return n}function qm(n){return n.data==="$?"||n.data==="$~"}function Hm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function OS(n,s){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Jn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var $m=null;function lv(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(s===0)return Jn(n.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}n=n.nextSibling}return null}function ov(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return n;s--}else l!=="/$"&&l!=="/&"||s++}n=n.previousSibling}return null}function cv(n,s,l){switch(s=md(l),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Zo(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ha(n)}var Wn=new Map,uv=new Set;function gd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ms=ae.d;ae.d={f:PS,r:LS,D:VS,C:US,L:zS,m:FS,X:qS,S:BS,M:HS};function PS(){var n=ms.f(),s=id();return n||s}function LS(n){var s=Yr(n);s!==null&&s.tag===5&&s.type==="form"?jy(s):ms.r(n)}var Nl=typeof document>"u"?null:document;function dv(n,s,l){var u=Nl;if(u&&typeof s=="string"&&s){var f=gt(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),uv.has(f)||(uv.add(f),n={rel:n,crossOrigin:l,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Qt(s,"link",n),xt(s),u.head.appendChild(s)))}}function VS(n){ms.D(n),dv("dns-prefetch",n,null)}function US(n,s){ms.C(n,s),dv("preconnect",n,s)}function zS(n,s,l){ms.L(n,s,l);var u=Nl;if(u&&n&&s){var f='link[rel="preload"][as="'+gt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+gt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+gt(l.imageSizes)+'"]')):f+='[href="'+gt(n)+'"]';var g=f;switch(s){case"style":g=El(n);break;case"script":g=Tl(n)}Wn.has(g)||(n=b({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:n,as:s},l),Wn.set(g,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(ec(g))||s==="script"&&u.querySelector(tc(g))||(s=u.createElement("link"),Qt(s,"link",n),xt(s),u.head.appendChild(s)))}}function FS(n,s){ms.m(n,s);var l=Nl;if(l&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+gt(u)+'"][href="'+gt(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Tl(n)}if(!Wn.has(g)&&(n=b({rel:"modulepreload",href:n},s),Wn.set(g,n),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(tc(g)))return}u=l.createElement("link"),Qt(u,"link",n),xt(u),l.head.appendChild(u)}}}function BS(n,s,l){ms.S(n,s,l);var u=Nl;if(u&&n){var f=ar(u).hoistableStyles,g=El(n);s=s||"default";var _=f.get(g);if(!_){var S={loading:0,preload:null};if(_=u.querySelector(ec(g)))S.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},l),(l=Wn.get(g))&&Gm(n,l);var L=_=u.createElement("link");xt(L),Qt(L,"link",n),L._p=new Promise(function(K,ee){L.onload=K,L.onerror=ee}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,pd(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(g,_)}}}function qS(n,s){ms.X(n,s);var l=Nl;if(l&&n){var u=ar(l).hoistableScripts,f=Tl(n),g=u.get(f);g||(g=l.querySelector(tc(f)),g||(n=b({src:n,async:!0},s),(s=Wn.get(f))&&Km(n,s),g=l.createElement("script"),xt(g),Qt(g,"link",n),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function HS(n,s){ms.M(n,s);var l=Nl;if(l&&n){var u=ar(l).hoistableScripts,f=Tl(n),g=u.get(f);g||(g=l.querySelector(tc(f)),g||(n=b({src:n,async:!0,type:"module"},s),(s=Wn.get(f))&&Km(n,s),g=l.createElement("script"),xt(g),Qt(g,"link",n),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function hv(n,s,l,u){var f=(f=De.current)?gd(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=El(l.href),l=ar(f).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=El(l.href);var g=ar(f).hoistableStyles,_=g.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,_),(g=f.querySelector(ec(n)))&&!g._p&&(_.instance=g,_.state.loading=5),Wn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Wn.set(n,l),g||$S(f,n,l,_.state))),s&&u===null)throw Error(a(528,""));return _}if(s&&u!==null)throw Error(a(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Tl(l),l=ar(f).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function El(n){return'href="'+gt(n)+'"'}function ec(n){return'link[rel="stylesheet"]['+n+"]"}function fv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function $S(n,s,l,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Qt(s,"link",l),xt(s),n.head.appendChild(s))}function Tl(n){return'[src="'+gt(n)+'"]'}function tc(n){return"script[async]"+n}function mv(n,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+gt(l.href)+'"]');if(u)return s.instance=u,xt(u),u;var f=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),xt(u),Qt(u,"style",f),pd(u,l.precedence,n),s.instance=u;case"stylesheet":f=El(l.href);var g=n.querySelector(ec(f));if(g)return s.state.loading|=4,s.instance=g,xt(g),g;u=fv(l),(f=Wn.get(f))&&Gm(u,f),g=(n.ownerDocument||n).createElement("link"),xt(g);var _=g;return _._p=new Promise(function(S,L){_.onload=S,_.onerror=L}),Qt(g,"link",u),s.state.loading|=4,pd(g,l.precedence,n),s.instance=g;case"script":return g=Tl(l.src),(f=n.querySelector(tc(g)))?(s.instance=f,xt(f),f):(u=l,(f=Wn.get(g))&&(u=b({},l),Km(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),xt(f),Qt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,pd(u,l.precedence,n));return s.instance}function pd(n,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,_=0;_<u.length;_++){var S=u[_];if(S.dataset.precedence===s)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(n,s.firstChild))}function Gm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Km(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var yd=null;function gv(n,s,l){if(yd===null){var u=new Map,f=yd=new Map;f.set(l,u)}else f=yd,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),f=0;f<l.length;f++){var g=l[f];if(!(g[Gr]||g[mt]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(s)||"";_=n+_;var S=u.get(_);S?S.push(g):u.set(_,[g])}}return u}function pv(n,s,l){n=n.ownerDocument||n,n.head.insertBefore(l,s==="title"?n.querySelector("head > title"):null)}function GS(n,s,l){if(l===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function KS(n,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=El(u.href),g=s.querySelector(ec(f));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=xd.bind(n),s.then(n,n)),l.state.loading|=4,l.instance=g,xt(g);return}g=s.ownerDocument||s,u=fv(u),(f=Wn.get(f))&&Gm(u,f),g=g.createElement("link"),xt(g);var _=g;_._p=new Promise(function(S,L){_.onload=S,_.onerror=L}),Qt(g,"link",u),l.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=xd.bind(n),s.addEventListener("load",l),s.addEventListener("error",l))}}var Ym=0;function YS(n,s){return n.stylesheets&&n.count===0&&bd(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var u=setTimeout(function(){if(n.stylesheets&&bd(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+s);0<n.imgBytes&&Ym===0&&(Ym=62500*AS());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&bd(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>Ym?50:800)+s);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var vd=null;function bd(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,vd=new Map,s.forEach(QS,n),vd=null,xd.call(n))}function QS(n,s){if(!(s.state.loading&4)){var l=vd.get(n);if(l)var u=l.get(null);else{l=new Map,vd.set(n,l);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}f=s.instance,_=f.getAttribute("data-precedence"),g=l.get(_)||u,g===u&&l.set(null,f),l.set(_,f),this.count++,u=xd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var nc={$$typeof:U,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function XS(n,s,l,u,f,g,_,S,L){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function xv(n,s,l,u,f,g,_,S,L,K,ee,ne){return n=new XS(n,s,l,_,L,K,ee,ne,S),s=1,g===!0&&(s|=24),g=Rn(3,null,null,s),n.current=g,g.stateNode=n,s=jf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},Rf(g),n}function vv(n){return n?(n=nl,n):nl}function bv(n,s,l,u,f,g){f=vv(f),u.context===null?u.context=f:u.pendingContext=f,u=Ws(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=Zs(n,u,s),l!==null&&(En(l,n,s),Mo(l,n,s))}function _v(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Qm(n,s){_v(n,s),(n=n.alternate)&&_v(n,s)}function wv(n){if(n.tag===13||n.tag===31){var s=ni(n,67108864);s!==null&&En(s,n,67108864),Qm(n,67108864)}}function Nv(n){if(n.tag===13||n.tag===31){var s=Pn();s=co(s);var l=ni(n,s);l!==null&&En(l,n,s),Qm(n,s)}}var _d=!0;function JS(n,s,l,u){var f=Y.T;Y.T=null;var g=ae.p;try{ae.p=2,Xm(n,s,l,u)}finally{ae.p=g,Y.T=f}}function WS(n,s,l,u){var f=Y.T;Y.T=null;var g=ae.p;try{ae.p=8,Xm(n,s,l,u)}finally{ae.p=g,Y.T=f}}function Xm(n,s,l,u){if(_d){var f=Jm(u);if(f===null)Pm(n,s,u,wd,l),Tv(n,u);else if(e1(f,n,s,l,u))u.stopPropagation();else if(Tv(n,u),s&4&&-1<ZS.indexOf(n)){for(;f!==null;){var g=Yr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=sr(g.pendingLanes);if(_!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var L=1<<31-cn(_);S.entanglements[1]|=L,_&=~L}kr(g),(Qe&6)===0&&(sd=qt()+500,Xo(0))}}break;case 31:case 13:S=ni(g,2),S!==null&&En(S,g,2),id(),Qm(g,2)}if(g=Jm(u),g===null&&Pm(n,s,u,wd,l),g===f)break;f=g}f!==null&&u.stopPropagation()}else Pm(n,s,u,null,l)}}function Jm(n){return n=Yi(n),Wm(n)}var wd=null;function Wm(n){if(wd=null,n=Kr(n),n!==null){var s=c(n);if(s===null)n=null;else{var l=s.tag;if(l===13){if(n=d(s),n!==null)return n;n=null}else if(l===31){if(n=m(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return wd=n,null}function Ev(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case It:return 2;case Pt:return 8;case qr:case nu:return 32;case ao:return 268435456;default:return 32}default:return 32}}var Zm=!1,ua=null,da=null,ha=null,rc=new Map,sc=new Map,fa=[],ZS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(n,s){switch(n){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":rc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sc.delete(s.pointerId)}}function ac(n,s,l,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Yr(s),s!==null&&wv(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function e1(n,s,l,u,f){switch(s){case"focusin":return ua=ac(ua,n,s,l,u,f),!0;case"dragenter":return da=ac(da,n,s,l,u,f),!0;case"mouseover":return ha=ac(ha,n,s,l,u,f),!0;case"pointerover":var g=f.pointerId;return rc.set(g,ac(rc.get(g)||null,n,s,l,u,f)),!0;case"gotpointercapture":return g=f.pointerId,sc.set(g,ac(sc.get(g)||null,n,s,l,u,f)),!0}return!1}function Sv(n){var s=Kr(n.target);if(s!==null){var l=c(s);if(l!==null){if(s=l.tag,s===13){if(s=d(l),s!==null){n.blockedOn=s,su(n.priority,function(){Nv(l)});return}}else if(s===31){if(s=m(l),s!==null){n.blockedOn=s,su(n.priority,function(){Nv(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Nd(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=Jm(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);Ki=u,l.target.dispatchEvent(u),Ki=null}else return s=Yr(l),s!==null&&wv(s),n.blockedOn=l,!1;s.shift()}return!0}function jv(n,s,l){Nd(n)&&l.delete(s)}function t1(){Zm=!1,ua!==null&&Nd(ua)&&(ua=null),da!==null&&Nd(da)&&(da=null),ha!==null&&Nd(ha)&&(ha=null),rc.forEach(jv),sc.forEach(jv)}function Ed(n,s){n.blockedOn===s&&(n.blockedOn=null,Zm||(Zm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,t1)))}var Td=null;function Av(n){Td!==n&&(Td=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Td===n&&(Td=null);for(var s=0;s<n.length;s+=3){var l=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Wm(u||l)===null)continue;break}var g=Yr(l);g!==null&&(n.splice(s,3),s-=3,Jf(g,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Sl(n){function s(L){return Ed(L,n)}ua!==null&&Ed(ua,n),da!==null&&Ed(da,n),ha!==null&&Ed(ha,n),rc.forEach(s),sc.forEach(s);for(var l=0;l<fa.length;l++){var u=fa[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<fa.length&&(l=fa[0],l.blockedOn===null);)Sv(l),l.blockedOn===null&&fa.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],g=l[u+1],_=f[$t]||null;if(typeof g=="function")_||Av(l);else if(_){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[$t]||null)S=_.formAction;else if(Wm(f)!==null)continue}else S=_.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),Av(l)}}}function kv(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function eg(n){this._internalRoot=n}Sd.prototype.render=eg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var l=s.current,u=Pn();bv(l,u,n,s,null,null)},Sd.prototype.unmount=eg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;bv(n.current,2,null,n,null,null),id(),s[br]=null}};function Sd(n){this._internalRoot=n}Sd.prototype.unstable_scheduleHydration=function(n){if(n){var s=$r();n={blockedOn:null,target:n,priority:s};for(var l=0;l<fa.length&&s!==0&&s<fa[l].priority;l++);fa.splice(l,0,n),l===0&&Sv(n)}};var Cv=e.version;if(Cv!=="19.2.0")throw Error(a(527,Cv,"19.2.0"));ae.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=y(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var n1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{js=jd.inject(n1),tn=jd}catch{}}return oc.createRoot=function(n,s){if(!i(n))throw Error(a(299));var l=!1,u="",f=Ly,g=Vy,_=Uy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=xv(n,1,!1,null,null,l,u,null,f,g,_,kv),n[br]=s.current,Om(n),new eg(s)},oc.hydrateRoot=function(n,s,l){if(!i(n))throw Error(a(299));var u=!1,f="",g=Ly,_=Vy,S=Uy,L=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(L=l.formState)),s=xv(n,1,!0,s,l??null,u,f,L,g,_,S,kv),s.context=vv(null),l=s.current,u=Pn(),u=co(u),f=Ws(u),f.callback=null,Zs(l,f,u),l=u,s.current.lanes=l,Cs(s,l),kr(s),n[br]=s.current,Om(n),new Sd(s)},oc.version="19.2.0",oc}var ib;function tj(){if(ib)return ag.exports;ib=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ag.exports=ej(),ag.exports}var nj=tj();var lb="popstate";function rj(r={}){function e(a,i){let{pathname:c,search:d,hash:m}=a.location;return Rg("",{pathname:c,search:d,hash:m},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(a,i){return typeof i=="string"?i:jc(i)}return aj(e,t,null,r)}function Mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sj(){return Math.random().toString(36).substring(2,10)}function ob(r,e){return{usr:r.state,key:r.key,idx:e}}function Rg(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zc(e):e,state:t,key:e&&e.key||a||sj()}}function jc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function zc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function aj(r,e,t,a={}){let{window:i=document.defaultView,v5Compat:c=!1}=a,d=i.history,m="POP",p=null,y=v();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function v(){return(d.state||{idx:null}).idx}function b(){m="POP";let B=v(),F=B==null?null:B-y;y=B,p&&p({action:m,location:q.location,delta:F})}function N(B,F){m="PUSH";let D=Rg(q.location,B,F);y=v()+1;let U=ob(D,y),X=q.createHref(D);try{d.pushState(U,"",X)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;i.location.assign(X)}c&&p&&p({action:m,location:q.location,delta:1})}function R(B,F){m="REPLACE";let D=Rg(q.location,B,F);y=v();let U=ob(D,y),X=q.createHref(D);d.replaceState(U,"",X),c&&p&&p({action:m,location:q.location,delta:0})}function M(B){return ij(B)}let q={get action(){return m},get location(){return r(i,d)},listen(B){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(lb,b),p=B,()=>{i.removeEventListener(lb,b),p=null}},createHref(B){return e(i,B)},createURL:M,encodeLocation(B){let F=M(B);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:N,replace:R,go(B){return d.go(B)}};return q}function ij(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:jc(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=t+a),new URL(a,t)}function mw(r,e,t="/"){return lj(r,e,t,!1)}function lj(r,e,t,a){let i=typeof e=="string"?zc(e):e,c=_s(i.pathname||"/",t);if(c==null)return null;let d=gw(r);oj(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=vj(c);m=yj(d[p],y,a)}return m}function gw(r,e=[],t=[],a="",i=!1){let c=(d,m,p=i,y)=>{let v={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Mt(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let b=ys([a,v.relativePath]),N=t.concat(v);d.children&&d.children.length>0&&(Mt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),gw(d.children,e,N,b,p)),!(d.path==null&&!d.index)&&e.push({path:b,score:gj(b,d.index),routesMeta:N})};return r.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))c(d,m);else for(let p of pw(d.path))c(d,m,!0,p)}),e}function pw(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,i=t.endsWith("?"),c=t.replace(/\?$/,"");if(a.length===0)return i?[c,""]:[c];let d=pw(a.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),i&&m.push(...d),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function oj(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:pj(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var cj=/^:[\w-]+$/,uj=3,dj=2,hj=1,fj=10,mj=-2,cb=r=>r==="*";function gj(r,e){let t=r.split("/"),a=t.length;return t.some(cb)&&(a+=mj),e&&(a+=dj),t.filter(i=>!cb(i)).reduce((i,c)=>i+(cj.test(c)?uj:c===""?hj:fj),a)}function pj(r,e){return r.length===e.length&&r.slice(0,-1).every((a,i)=>a===e[i])?r[r.length-1]-e[e.length-1]:0}function yj(r,e,t=!1){let{routesMeta:a}=r,i={},c="/",d=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,v=c==="/"?e:e.slice(c.length)||"/",b=Wd({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},v),N=p.route;if(!b&&y&&t&&!a[a.length-1].route.index&&(b=Wd({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(i,b.params),d.push({params:i,pathname:ys([c,b.pathname]),pathnameBase:Ej(ys([c,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(c=ys([c,b.pathnameBase]))}return d}function Wd(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=xj(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let c=i[0],d=c.replace(/(.)\/+$/,"$1"),m=i.slice(1);return{params:a.reduce((y,{paramName:v,isOptional:b},N)=>{if(v==="*"){let M=m[N]||"";d=c.slice(0,c.length-M.length).replace(/(.)\/+$/,"$1")}const R=m[N];return b&&!R?y[v]=void 0:y[v]=(R||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function xj(r,e=!1,t=!0){fr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),a]}function vj(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function _s(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}var bj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_j=r=>bj.test(r);function wj(r,e="/"){let{pathname:t,search:a="",hash:i=""}=typeof r=="string"?zc(r):r,c;if(t)if(_j(t))c=t;else{if(t.includes("//")){let d=t;t=t.replace(/\/\/+/g,"/"),fr(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${t}`)}t.startsWith("/")?c=ub(t.substring(1),"/"):c=ub(t,e)}else c=e;return{pathname:c,search:Tj(a),hash:Sj(i)}}function ub(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cg(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nj(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function yw(r){let e=Nj(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function xw(r,e,t,a=!1){let i;typeof r=="string"?i=zc(r):(i={...r},Mt(!i.pathname||!i.pathname.includes("?"),cg("?","pathname","search",i)),Mt(!i.pathname||!i.pathname.includes("#"),cg("#","pathname","hash",i)),Mt(!i.search||!i.search.includes("#"),cg("#","search","hash",i)));let c=r===""||i.pathname==="",d=c?"/":i.pathname,m;if(d==null)m=t;else{let b=e.length-1;if(!a&&d.startsWith("..")){let N=d.split("/");for(;N[0]==="..";)N.shift(),b-=1;i.pathname=N.join("/")}m=b>=0?e[b]:"/"}let p=wj(i,m),y=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||v)&&(p.pathname+="/"),p}var ys=r=>r.join("/").replace(/\/\/+/g,"/"),Ej=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Tj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Sj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function jj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vw=["POST","PUT","PATCH","DELETE"];new Set(vw);var Aj=["GET",...vw];new Set(Aj);var Ql=I.createContext(null);Ql.displayName="DataRouter";var bh=I.createContext(null);bh.displayName="DataRouterState";I.createContext(!1);var bw=I.createContext({isTransitioning:!1});bw.displayName="ViewTransition";var kj=I.createContext(new Map);kj.displayName="Fetchers";var Cj=I.createContext(null);Cj.displayName="Await";var zr=I.createContext(null);zr.displayName="Navigation";var _h=I.createContext(null);_h.displayName="Location";var Fr=I.createContext({outlet:null,matches:[],isDataRoute:!1});Fr.displayName="Route";var lp=I.createContext(null);lp.displayName="RouteError";function Rj(r,{relative:e}={}){Mt(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=I.useContext(zr),{hash:i,pathname:c,search:d}=Bc(r,{relative:e}),m=c;return t!=="/"&&(m=c==="/"?t:ys([t,c])),a.createHref({pathname:m,search:d,hash:i})}function Fc(){return I.useContext(_h)!=null}function Ma(){return Mt(Fc(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(_h).location}var _w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ww(r){I.useContext(zr).static||I.useLayoutEffect(r)}function Un(){let{isDataRoute:r}=I.useContext(Fr);return r?Hj():Ij()}function Ij(){Mt(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let r=I.useContext(Ql),{basename:e,navigator:t}=I.useContext(zr),{matches:a}=I.useContext(Fr),{pathname:i}=Ma(),c=JSON.stringify(yw(a)),d=I.useRef(!1);return ww(()=>{d.current=!0}),I.useCallback((p,y={})=>{if(fr(d.current,_w),!d.current)return;if(typeof p=="number"){t.go(p);return}let v=xw(p,JSON.parse(c),i,y.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ys([e,v.pathname])),(y.replace?t.replace:t.push)(v,y.state,y)},[e,t,c,i,r])}I.createContext(null);function Nw(){let{matches:r}=I.useContext(Fr),e=r[r.length-1];return e?e.params:{}}function Bc(r,{relative:e}={}){let{matches:t}=I.useContext(Fr),{pathname:a}=Ma(),i=JSON.stringify(yw(t));return I.useMemo(()=>xw(r,JSON.parse(i),a,e==="path"),[r,i,a,e])}function Dj(r,e){return Ew(r)}function Ew(r,e,t,a,i){Mt(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(zr),{matches:d}=I.useContext(Fr),m=d[d.length-1],p=m?m.params:{},y=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let D=b&&b.path||"";Tw(y,!b||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let N=Ma(),R;R=N;let M=R.pathname||"/",q=M;if(v!=="/"){let D=v.replace(/^\//,"").split("/");q="/"+M.replace(/^\//,"").split("/").slice(D.length).join("/")}let B=mw(r,{pathname:q});return fr(b||B!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),fr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Vj(B&&B.map(D=>Object.assign({},D,{params:Object.assign({},p,D.params),pathname:ys([v,c.encodeLocation?c.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:ys([v,c.encodeLocation?c.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),d,t,a,i)}function Mj(){let r=qj(),e=jj(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:c},"ErrorBoundary")," or"," ",I.createElement("code",{style:c},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),t?I.createElement("pre",{style:i},t):null,d)}var Oj=I.createElement(Mj,null),Pj=class extends I.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?I.createElement(Fr.Provider,{value:this.props.routeContext},I.createElement(lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lj({routeContext:r,match:e,children:t}){let a=I.useContext(Ql);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Fr.Provider,{value:r},t)}function Vj(r,e=[],t=null,a=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let c=r,d=t?.errors;if(d!=null){let v=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);Mt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let m=!1,p=-1;if(t)for(let v=0;v<c.length;v++){let b=c[v];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=v),b.route.id){let{loaderData:N,errors:R}=t,M=b.route.loader&&!N.hasOwnProperty(b.route.id)&&(!R||R[b.route.id]===void 0);if(b.route.lazy||M){m=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}let y=t&&a?(v,b)=>{a(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:b})}:void 0;return c.reduceRight((v,b,N)=>{let R,M=!1,q=null,B=null;t&&(R=d&&b.route.id?d[b.route.id]:void 0,q=b.route.errorElement||Oj,m&&(p<0&&N===0?(Tw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,B=null):p===N&&(M=!0,B=b.route.hydrateFallbackElement||null)));let F=e.concat(c.slice(0,N+1)),D=()=>{let U;return R?U=q:M?U=B:b.route.Component?U=I.createElement(b.route.Component,null):b.route.element?U=b.route.element:U=v,I.createElement(Lj,{match:b,routeContext:{outlet:v,matches:F,isDataRoute:t!=null},children:U})};return t&&(b.route.ErrorBoundary||b.route.errorElement||N===0)?I.createElement(Pj,{location:t.location,revalidation:t.revalidation,component:q,error:R,children:D(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:y}):D()},null)}function op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uj(r){let e=I.useContext(Ql);return Mt(e,op(r)),e}function zj(r){let e=I.useContext(bh);return Mt(e,op(r)),e}function Fj(r){let e=I.useContext(Fr);return Mt(e,op(r)),e}function cp(r){let e=Fj(r),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function Bj(){return cp("useRouteId")}function qj(){let r=I.useContext(lp),e=zj("useRouteError"),t=cp("useRouteError");return r!==void 0?r:e.errors?.[t]}function Hj(){let{router:r}=Uj("useNavigate"),e=cp("useNavigate"),t=I.useRef(!1);return ww(()=>{t.current=!0}),I.useCallback(async(i,c={})=>{fr(t.current,_w),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...c}))},[r,e])}var db={};function Tw(r,e,t){!e&&!db[r]&&(db[r]=!0,fr(!1,t))}I.memo($j);function $j({routes:r,future:e,state:t,unstable_onError:a}){return Ew(r,void 0,t,a,e)}function Gj({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:i,static:c=!1}){Mt(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),m=I.useMemo(()=>({basename:d,navigator:i,static:c,future:{}}),[d,i,c]);typeof t=="string"&&(t=zc(t));let{pathname:p="/",search:y="",hash:v="",state:b=null,key:N="default"}=t,R=I.useMemo(()=>{let M=_s(p,d);return M==null?null:{location:{pathname:M,search:y,hash:v,state:b,key:N},navigationType:a}},[d,p,y,v,b,N,a]);return fr(R!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:I.createElement(zr.Provider,{value:m},I.createElement(_h.Provider,{children:e,value:R}))}var Vd="get",Ud="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function Kj(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function Yj(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function Qj(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function Xj(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Jj(r,e){return r.button===0&&(!e||e==="_self")&&!Xj(r)}var kd=null;function Wj(){if(kd===null)try{new FormData(document.createElement("form"),0),kd=!1}catch{kd=!0}return kd}var Zj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ug(r){return r!=null&&!Zj.has(r)?(fr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ud}"`),null):r}function eA(r,e){let t,a,i,c,d;if(Yj(r)){let m=r.getAttribute("action");a=m?_s(m,e):null,t=r.getAttribute("method")||Vd,i=ug(r.getAttribute("enctype"))||Ud,c=new FormData(r)}else if(Kj(r)||Qj(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?_s(p,e):null,t=r.getAttribute("formmethod")||m.getAttribute("method")||Vd,i=ug(r.getAttribute("formenctype"))||ug(m.getAttribute("enctype"))||Ud,c=new FormData(m,r),!Wj()){let{name:y,type:v,value:b}=r;if(v==="image"){let N=y?`${y}.`:"";c.append(`${N}x`,"0"),c.append(`${N}y`,"0")}else y&&c.append(y,b)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Vd,a=null,i=Ud,d=r}return c&&i==="text/plain"&&(d=c,c=void 0),{action:a,method:t.toLowerCase(),encType:i,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tA(r,e,t){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${t}`:e&&_s(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${t}`,a}async function nA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function sA(r,e,t){let a=await Promise.all(r.map(async i=>{let c=e.routes[i.route.id];if(c){let d=await nA(c,t);return d.links?d.links():[]}return[]}));return oA(a.flat(1).filter(rA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hb(r,e,t,a,i,c){let d=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,m=(p,y)=>t[y].pathname!==p.pathname||t[y].route.path?.endsWith("*")&&t[y].params["*"]!==p.params["*"];return c==="assets"?e.filter((p,y)=>d(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(d(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aA(r,e,{includeHydrateFallback:t}={}){return iA(r.map(a=>{let i=e.routes[a.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function iA(r){return[...new Set(r)]}function lA(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function oA(r,e){let t=new Set;return new Set(e),r.reduce((a,i)=>{let c=JSON.stringify(lA(i));return t.has(c)||(t.add(c),a.push({key:c,link:i})),a},[])}function Sw(){let r=I.useContext(Ql);return up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function cA(){let r=I.useContext(bh);return up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dp=I.createContext(void 0);dp.displayName="FrameworkContext";function jw(){let r=I.useContext(dp);return up(r,"You must render this element inside a <HydratedRouter> element"),r}function uA(r,e){let t=I.useContext(dp),[a,i]=I.useState(!1),[c,d]=I.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:v,onTouchStart:b}=e,N=I.useRef(null);I.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let q=F=>{F.forEach(D=>{d(D.isIntersecting)})},B=new IntersectionObserver(q,{threshold:.5});return N.current&&B.observe(N.current),()=>{B.disconnect()}}},[r]),I.useEffect(()=>{if(a){let q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(q)}}},[a]);let R=()=>{i(!0)},M=()=>{i(!1),d(!1)};return t?r!=="intent"?[c,N,{}]:[c,N,{onFocus:cc(m,R),onBlur:cc(p,M),onMouseEnter:cc(y,R),onMouseLeave:cc(v,M),onTouchStart:cc(b,R)}]:[!1,N,{}]}function cc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function dA({page:r,...e}){let{router:t}=Sw(),a=I.useMemo(()=>mw(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?I.createElement(fA,{page:r,matches:a,...e}):null}function hA(r){let{manifest:e,routeModules:t}=jw(),[a,i]=I.useState([]);return I.useEffect(()=>{let c=!1;return sA(r,e,t).then(d=>{c||i(d)}),()=>{c=!0}},[r,e,t]),a}function fA({page:r,matches:e,...t}){let a=Ma(),{manifest:i,routeModules:c}=jw(),{basename:d}=Sw(),{loaderData:m,matches:p}=cA(),y=I.useMemo(()=>hb(r,e,p,i,a,"data"),[r,e,p,i,a]),v=I.useMemo(()=>hb(r,e,p,i,a,"assets"),[r,e,p,i,a]),b=I.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let M=new Set,q=!1;if(e.forEach(F=>{let D=i.routes[F.route.id];!D||!D.hasLoader||(!y.some(U=>U.route.id===F.route.id)&&F.route.id in m&&c[F.route.id]?.shouldRevalidate||D.hasClientLoader?q=!0:M.add(F.route.id))}),M.size===0)return[];let B=tA(r,d,"data");return q&&M.size>0&&B.searchParams.set("_routes",e.filter(F=>M.has(F.route.id)).map(F=>F.route.id).join(",")),[B.pathname+B.search]},[d,m,a,i,y,e,r,c]),N=I.useMemo(()=>aA(v,i),[v,i]),R=hA(v);return I.createElement(I.Fragment,null,b.map(M=>I.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),N.map(M=>I.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),R.map(({key:M,link:q})=>I.createElement("link",{key:M,nonce:t.nonce,...q})))}function mA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Aw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Aw&&(window.__reactRouterVersion="7.9.6")}catch{}function gA({basename:r,children:e,window:t}){let a=I.useRef();a.current==null&&(a.current=rj({window:t,v5Compat:!0}));let i=a.current,[c,d]=I.useState({action:i.action,location:i.location}),m=I.useCallback(p=>{I.startTransition(()=>d(p))},[d]);return I.useLayoutEffect(()=>i.listen(m),[i,m]),I.createElement(Gj,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:i})}var kw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ni=I.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:i,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:v,viewTransition:b,...N},R){let{basename:M}=I.useContext(zr),q=typeof y=="string"&&kw.test(y),B,F=!1;if(typeof y=="string"&&q&&(B=y,Aw))try{let E=new URL(window.location.href),T=y.startsWith("//")?new URL(E.protocol+y):new URL(y),A=_s(T.pathname,M);T.origin===E.origin&&A!=null?y=A+T.search+T.hash:F=!0}catch{fr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=Rj(y,{relative:i}),[U,X,ce]=uA(a,N),ue=vA(y,{replace:d,state:m,target:p,preventScrollReset:v,relative:i,viewTransition:b});function O(E){e&&e(E),E.defaultPrevented||ue(E)}let k=I.createElement("a",{...N,...ce,href:B||D,onClick:F||c?e:O,ref:mA(R,X),target:p,"data-discover":!q&&t==="render"?"true":void 0});return U&&!q?I.createElement(I.Fragment,null,k,I.createElement(dA,{page:D})):k});Ni.displayName="Link";var pA=I.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:i=!1,style:c,to:d,viewTransition:m,children:p,...y},v){let b=Bc(d,{relative:y.relative}),N=Ma(),R=I.useContext(bh),{navigator:M,basename:q}=I.useContext(zr),B=R!=null&&EA(b)&&m===!0,F=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,D=N.pathname,U=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(D=D.toLowerCase(),U=U?U.toLowerCase():null,F=F.toLowerCase()),U&&q&&(U=_s(U,q)||U);const X=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=D===F||!i&&D.startsWith(F)&&D.charAt(X)==="/",ue=U!=null&&(U===F||!i&&U.startsWith(F)&&U.charAt(F.length)==="/"),O={isActive:ce,isPending:ue,isTransitioning:B},k=ce?e:void 0,E;typeof a=="function"?E=a(O):E=[a,ce?"active":null,ue?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let T=typeof c=="function"?c(O):c;return I.createElement(Ni,{...y,"aria-current":k,className:E,ref:v,style:T,to:d,viewTransition:m},typeof p=="function"?p(O):p)});pA.displayName="NavLink";var yA=I.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:i,state:c,method:d=Vd,action:m,onSubmit:p,relative:y,preventScrollReset:v,viewTransition:b,...N},R)=>{let M=wA(),q=NA(m,{relative:y}),B=d.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&kw.test(m),D=U=>{if(p&&p(U),U.defaultPrevented)return;U.preventDefault();let X=U.nativeEvent.submitter,ce=X?.getAttribute("formmethod")||d;M(X||U.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:i,state:c,relative:y,preventScrollReset:v,viewTransition:b})};return I.createElement("form",{ref:R,method:B,action:q,onSubmit:a?p:D,...N,"data-discover":!F&&r==="render"?"true":void 0})});yA.displayName="Form";function xA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cw(r){let e=I.useContext(Ql);return Mt(e,xA(r)),e}function vA(r,{target:e,replace:t,state:a,preventScrollReset:i,relative:c,viewTransition:d}={}){let m=Un(),p=Ma(),y=Bc(r,{relative:c});return I.useCallback(v=>{if(Jj(v,e)){v.preventDefault();let b=t!==void 0?t:jc(p)===jc(y);m(r,{replace:b,state:a,preventScrollReset:i,relative:c,viewTransition:d})}},[p,m,y,t,a,e,r,i,c,d])}var bA=0,_A=()=>`__${String(++bA)}__`;function wA(){let{router:r}=Cw("useSubmit"),{basename:e}=I.useContext(zr),t=Bj();return I.useCallback(async(a,i={})=>{let{action:c,method:d,encType:m,formData:p,body:y}=eA(a,e);if(i.navigate===!1){let v=i.fetcherKey||_A();await r.fetch(v,t,i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:y,formMethod:i.method||d,formEncType:i.encType||m,flushSync:i.flushSync})}else await r.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:y,formMethod:i.method||d,formEncType:i.encType||m,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function NA(r,{relative:e}={}){let{basename:t}=I.useContext(zr),a=I.useContext(Fr);Mt(a,"useFormAction must be used inside a RouteContext");let[i]=a.matches.slice(-1),c={...Bc(r||".",{relative:e})},d=Ma();if(r==null){c.search=d.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();c.search=v?`?${v}`:""}}return(!r||r===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ys([t,c.pathname])),jc(c)}function EA(r,{relative:e}={}){let t=I.useContext(bw);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Cw("useViewTransitionState"),i=Bc(r,{relative:e});if(!t.isTransitioning)return!1;let c=_s(t.currentLocation.pathname,a)||t.currentLocation.pathname,d=_s(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Wd(i.pathname,d)!=null||Wd(i.pathname,c)!=null}const TA=()=>{};var fb={};const Rw=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let i=r.charCodeAt(a);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},SA=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const i=r[t++];if(i<128)e[a++]=String.fromCharCode(i);else if(i>191&&i<224){const c=r[t++];e[a++]=String.fromCharCode((i&31)<<6|c&63)}else if(i>239&&i<365){const c=r[t++],d=r[t++],m=r[t++],p=((i&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[t++],d=r[t++];e[a++]=String.fromCharCode((i&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Iw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let i=0;i<r.length;i+=3){const c=r[i],d=i+1<r.length,m=d?r[i+1]:0,p=i+2<r.length,y=p?r[i+2]:0,v=c>>2,b=(c&3)<<4|m>>4;let N=(m&15)<<2|y>>6,R=y&63;p||(R=64,d||(N=64)),a.push(t[v],t[b],t[N],t[R])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Rw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):SA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let i=0;i<r.length;){const c=t[r.charAt(i++)],m=i<r.length?t[r.charAt(i)]:0;++i;const y=i<r.length?t[r.charAt(i)]:64;++i;const b=i<r.length?t[r.charAt(i)]:64;if(++i,c==null||m==null||y==null||b==null)throw new jA;const N=c<<2|m>>4;if(a.push(N),y!==64){const R=m<<4&240|y>>2;if(a.push(R),b!==64){const M=y<<6&192|b;a.push(M)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AA=function(r){const e=Rw(r);return Iw.encodeByteArray(e,!0)},Zd=function(r){return AA(r).replace(/\./g,"")},Dw=function(r){try{return Iw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CA=()=>kA().__FIREBASE_DEFAULTS__,RA=()=>{if(typeof process>"u"||typeof fb>"u")return;const r=fb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Dw(r[1]);return e&&JSON.parse(e)},Nh=()=>{try{return TA()||CA()||RA()||IA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Mw=r=>Nh()?.emulatorHosts?.[r],DA=r=>{const e=Mw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},Ow=()=>Nh()?.config,Pw=r=>Nh()?.[`_${r}`];class MA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}function Xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lw(r){return(await fetch(r,{credentials:"include"})).ok}function OA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",i=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:i,exp:i+3600,auth_time:i,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zd(JSON.stringify(t)),Zd(JSON.stringify(d)),""].join(".")}const vc={};function PA(){const r={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?r.emulator.push(e):r.prod.push(e);return r}function LA(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let mb=!1;function Vw(r,e){if(typeof window>"u"||typeof document>"u"||!Xl(window.location.host)||vc[r]===e||vc[r]||mb)return;vc[r]=e;function t(N){return`__firebase__banner__${N}`}const a="__firebase__banner",c=PA().prod.length>0;function d(){const N=document.getElementById(a);N&&N.remove()}function m(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,R){N.setAttribute("width","24"),N.setAttribute("id",R),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{mb=!0,d()},N}function v(N,R){N.setAttribute("id",R),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=LA(a),R=t("text"),M=document.getElementById(R)||document.createElement("span"),q=t("learnmore"),B=document.getElementById(q)||document.createElement("a"),F=t("preprendIcon"),D=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const U=N.element;m(U),v(B,q);const X=y();p(D,F),U.append(D,M,B,X),document.body.appendChild(U)}c?(M.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function UA(){const r=Nh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hp(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function FA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BA(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function qA(){return!UA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fp(){try{return typeof indexedDB=="object"}catch{return!1}}function mp(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(a);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}function Uw(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const HA="FirebaseError";class zn extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=HA,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Di.prototype.create)}}class Di{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},i=`${this.service}/${e}`,c=this.errors[e],d=c?$A(c,a):"Error",m=`${this.serviceName}: ${d} (${i}).`;return new zn(i,m,a)}}function $A(r,e){return r.replace(GA,(t,a)=>{const i=e[a];return i!=null?String(i):`<${a}?>`})}const GA=/\{\$([^}]+)}/g;function KA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ja(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const i of t){if(!a.includes(i))return!1;const c=r[i],d=e[i];if(gb(c)&&gb(d)){if(!ja(c,d))return!1}else if(c!==d)return!1}for(const i of a)if(!t.includes(i))return!1;return!0}function gb(r){return r!==null&&typeof r=="object"}function qc(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function dc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[i,c]=a.split("=");e[decodeURIComponent(i)]=decodeURIComponent(c)}}),e}function hc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function YA(r,e){const t=new QA(r,e);return t.subscribe.bind(t)}class QA{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let i;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");XA(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:a},i.next===void 0&&(i.next=dg),i.error===void 0&&(i.error=dg),i.complete===void 0&&(i.complete=dg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XA(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function dg(){}const JA=1e3,WA=2,ZA=14400*1e3,ek=.5;function pb(r,e=JA,t=WA){const a=e*Math.pow(t,r),i=Math.round(ek*a*(Math.random()-.5)*2);return Math.min(ZA,a+i)}function ht(r){return r&&r._delegate?r._delegate:r}class mr{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const gi="[DEFAULT]";class tk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new MA;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&a.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rk(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:i});a.resolve(c)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);a===m&&d.resolve(i)}return i}onInit(e,t){const a=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(a)??new Set;i.add(e),this.onInitCallbacks.set(a,i);const c=this.instances.get(a);return c&&e(c,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const i of a)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:nk(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nk(r){return r===gi?void 0:r}function rk(r){return r.instantiationMode==="EAGER"}class sk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new tk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var ze;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(ze||(ze={}));const ak={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},ik=ze.INFO,lk={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},ok=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),i=lk[e];if(i)console[i](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eh{constructor(e){this.name=e,this._logLevel=ik,this._logHandler=ok,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ak[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const ck=(r,e)=>e.some(t=>r instanceof t);let yb,xb;function uk(){return yb||(yb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dk(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zw=new WeakMap,Ig=new WeakMap,Fw=new WeakMap,hg=new WeakMap,gp=new WeakMap;function hk(r){const e=new Promise((t,a)=>{const i=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{t(wa(r.result)),i()},d=()=>{a(r.error),i()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&zw.set(t,r)}).catch(()=>{}),gp.set(e,r),e}function fk(r){if(Ig.has(r))return;const e=new Promise((t,a)=>{const i=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{t(),i()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Ig.set(r,e)}let Dg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ig.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Fw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mk(r){Dg=r(Dg)}function gk(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(fg(this),e,...t);return Fw.set(a,e.sort?e.sort():[e]),wa(a)}:dk().includes(r)?function(...e){return r.apply(fg(this),e),wa(zw.get(this))}:function(...e){return wa(r.apply(fg(this),e))}}function pk(r){return typeof r=="function"?gk(r):(r instanceof IDBTransaction&&fk(r),ck(r,uk())?new Proxy(r,Dg):r)}function wa(r){if(r instanceof IDBRequest)return hk(r);if(hg.has(r))return hg.get(r);const e=pk(r);return e!==r&&(hg.set(r,e),gp.set(e,r)),e}const fg=r=>gp.get(r);function Bw(r,e,{blocked:t,upgrade:a,blocking:i,terminated:c}={}){const d=indexedDB.open(r,e),m=wa(d);return a&&d.addEventListener("upgradeneeded",p=>{a(wa(d.result),p.oldVersion,p.newVersion,wa(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),i&&p.addEventListener("versionchange",y=>i(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yk=["get","getKey","getAll","getAllKeys","count"],xk=["put","add","delete","clear"],mg=new Map;function vb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mg.get(e))return mg.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,i=xk.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(i||yk.includes(t)))return;const c=async function(d,...m){const p=this.transaction(d,i?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),i&&p.done]))[0]};return mg.set(e,c),c}mk(r=>({...r,get:(e,t,a)=>vb(e,t)||r.get(e,t,a),has:(e,t)=>!!vb(e,t)||r.has(e,t)}));class vk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bk(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function bk(r){return r.getComponent()?.type==="VERSION"}const Mg="@firebase/app",bb="0.14.0";const ws=new Eh("@firebase/app"),_k="@firebase/app-compat",wk="@firebase/analytics-compat",Nk="@firebase/analytics",Ek="@firebase/app-check-compat",Tk="@firebase/app-check",Sk="@firebase/auth",jk="@firebase/auth-compat",Ak="@firebase/database",kk="@firebase/data-connect",Ck="@firebase/database-compat",Rk="@firebase/functions",Ik="@firebase/functions-compat",Dk="@firebase/installations",Mk="@firebase/installations-compat",Ok="@firebase/messaging",Pk="@firebase/messaging-compat",Lk="@firebase/performance",Vk="@firebase/performance-compat",Uk="@firebase/remote-config",zk="@firebase/remote-config-compat",Fk="@firebase/storage",Bk="@firebase/storage-compat",qk="@firebase/firestore",Hk="@firebase/ai",$k="@firebase/firestore-compat",Gk="firebase",Kk="12.0.0";const Og="[DEFAULT]",Yk={[Mg]:"fire-core",[_k]:"fire-core-compat",[Nk]:"fire-analytics",[wk]:"fire-analytics-compat",[Tk]:"fire-app-check",[Ek]:"fire-app-check-compat",[Sk]:"fire-auth",[jk]:"fire-auth-compat",[Ak]:"fire-rtdb",[kk]:"fire-data-connect",[Ck]:"fire-rtdb-compat",[Rk]:"fire-fn",[Ik]:"fire-fn-compat",[Dk]:"fire-iid",[Mk]:"fire-iid-compat",[Ok]:"fire-fcm",[Pk]:"fire-fcm-compat",[Lk]:"fire-perf",[Vk]:"fire-perf-compat",[Uk]:"fire-rc",[zk]:"fire-rc-compat",[Fk]:"fire-gcs",[Bk]:"fire-gcs-compat",[qk]:"fire-fst",[$k]:"fire-fst-compat",[Hk]:"fire-vertex","fire-js":"fire-js",[Gk]:"fire-js-all"};const Ac=new Map,Qk=new Map,Pg=new Map;function _b(r,e){try{r.container.addComponent(e)}catch(t){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Vr(r){const e=r.name;if(Pg.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Pg.set(e,r);for(const t of Ac.values())_b(t,r);for(const t of Qk.values())_b(t,r);return!0}function Mi(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Zn(r){return r==null?!1:r.settings!==void 0}const Xk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new Di("app","Firebase",Xk);class Jk{constructor(e,t,a){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}const Jl=Kk;function qw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a={name:Og,automaticDataCollectionEnabled:!0,...e},i=a.name;if(typeof i!="string"||!i)throw Na.create("bad-app-name",{appName:String(i)});if(t||(t=Ow()),!t)throw Na.create("no-options");const c=Ac.get(i);if(c){if(ja(t,c.options)&&ja(a,c.config))return c;throw Na.create("duplicate-app",{appName:i})}const d=new sk(i);for(const p of Pg.values())d.addComponent(p);const m=new Jk(t,a,d);return Ac.set(i,m),m}function Th(r=Og){const e=Ac.get(r);if(!e&&r===Og&&Ow())return qw();if(!e)throw Na.create("no-app",{appName:r});return e}function Wk(){return Array.from(Ac.values())}function tr(r,e,t){let a=Yk[r]??r;t&&(a+=`-${t}`);const i=a.match(/\s|\//),c=e.match(/\s|\//);if(i||c){const d=[`Unable to register library "${a}" with version "${e}":`];i&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(d.join(" "));return}Vr(new mr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Zk="firebase-heartbeat-database",e2=1,kc="firebase-heartbeat-store";let gg=null;function Hw(){return gg||(gg=Bw(Zk,e2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(kc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Na.create("idb-open",{originalErrorMessage:r.message})})),gg}async function t2(r){try{const t=(await Hw()).transaction(kc),a=await t.objectStore(kc).get($w(r));return await t.done,a}catch(e){if(e instanceof zn)ws.warn(e.message);else{const t=Na.create("idb-get",{originalErrorMessage:e?.message});ws.warn(t.message)}}}async function wb(r,e){try{const a=(await Hw()).transaction(kc,"readwrite");await a.objectStore(kc).put(e,$w(r)),await a.done}catch(t){if(t instanceof zn)ws.warn(t.message);else{const a=Na.create("idb-set",{originalErrorMessage:t?.message});ws.warn(a.message)}}}function $w(r){return`${r.name}!${r.options.appId}`}const n2=1024,r2=30;class s2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new i2(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Nb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(i=>i.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:t}),this._heartbeatsCache.heartbeats.length>r2){const i=l2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Nb(),{heartbeatsToSend:t,unsentEntries:a}=a2(this._heartbeatsCache.heartbeats),i=Zd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return ws.warn(e),""}}}function Nb(){return new Date().toISOString().substring(0,10)}function a2(r,e=n2){const t=[];let a=r.slice();for(const i of r){const c=t.find(d=>d.agent===i.agent);if(c){if(c.dates.push(i.date),Eb(t)>e){c.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Eb(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class i2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fp()?mp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await t2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return wb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Eb(r){return Zd(JSON.stringify({version:2,heartbeats:r})).length}function l2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}function o2(r){Vr(new mr("platform-logger",e=>new vk(e),"PRIVATE")),Vr(new mr("heartbeat",e=>new s2(e),"PRIVATE")),tr(Mg,bb,r),tr(Mg,bb,"esm2020"),tr("fire-js","")}o2("");var Tb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ea,Gw;(function(){var r;function e(O,k){function E(){}E.prototype=k.prototype,O.D=k.prototype,O.prototype=new E,O.prototype.constructor=O,O.C=function(T,A,P){for(var C=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)C[xe-2]=arguments[xe];return k.prototype[A].apply(T,C)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,k,E){E||(E=0);var T=Array(16);if(typeof k=="string")for(var A=0;16>A;++A)T[A]=k.charCodeAt(E++)|k.charCodeAt(E++)<<8|k.charCodeAt(E++)<<16|k.charCodeAt(E++)<<24;else for(A=0;16>A;++A)T[A]=k[E++]|k[E++]<<8|k[E++]<<16|k[E++]<<24;k=O.g[0],E=O.g[1],A=O.g[2];var P=O.g[3],C=k+(P^E&(A^P))+T[0]+3614090360&4294967295;k=E+(C<<7&4294967295|C>>>25),C=P+(A^k&(E^A))+T[1]+3905402710&4294967295,P=k+(C<<12&4294967295|C>>>20),C=A+(E^P&(k^E))+T[2]+606105819&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(k^A&(P^k))+T[3]+3250441966&4294967295,E=A+(C<<22&4294967295|C>>>10),C=k+(P^E&(A^P))+T[4]+4118548399&4294967295,k=E+(C<<7&4294967295|C>>>25),C=P+(A^k&(E^A))+T[5]+1200080426&4294967295,P=k+(C<<12&4294967295|C>>>20),C=A+(E^P&(k^E))+T[6]+2821735955&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(k^A&(P^k))+T[7]+4249261313&4294967295,E=A+(C<<22&4294967295|C>>>10),C=k+(P^E&(A^P))+T[8]+1770035416&4294967295,k=E+(C<<7&4294967295|C>>>25),C=P+(A^k&(E^A))+T[9]+2336552879&4294967295,P=k+(C<<12&4294967295|C>>>20),C=A+(E^P&(k^E))+T[10]+4294925233&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(k^A&(P^k))+T[11]+2304563134&4294967295,E=A+(C<<22&4294967295|C>>>10),C=k+(P^E&(A^P))+T[12]+1804603682&4294967295,k=E+(C<<7&4294967295|C>>>25),C=P+(A^k&(E^A))+T[13]+4254626195&4294967295,P=k+(C<<12&4294967295|C>>>20),C=A+(E^P&(k^E))+T[14]+2792965006&4294967295,A=P+(C<<17&4294967295|C>>>15),C=E+(k^A&(P^k))+T[15]+1236535329&4294967295,E=A+(C<<22&4294967295|C>>>10),C=k+(A^P&(E^A))+T[1]+4129170786&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(k^E))+T[6]+3225465664&4294967295,P=k+(C<<9&4294967295|C>>>23),C=A+(k^E&(P^k))+T[11]+643717713&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(A^P))+T[0]+3921069994&4294967295,E=A+(C<<20&4294967295|C>>>12),C=k+(A^P&(E^A))+T[5]+3593408605&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(k^E))+T[10]+38016083&4294967295,P=k+(C<<9&4294967295|C>>>23),C=A+(k^E&(P^k))+T[15]+3634488961&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(A^P))+T[4]+3889429448&4294967295,E=A+(C<<20&4294967295|C>>>12),C=k+(A^P&(E^A))+T[9]+568446438&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(k^E))+T[14]+3275163606&4294967295,P=k+(C<<9&4294967295|C>>>23),C=A+(k^E&(P^k))+T[3]+4107603335&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(A^P))+T[8]+1163531501&4294967295,E=A+(C<<20&4294967295|C>>>12),C=k+(A^P&(E^A))+T[13]+2850285829&4294967295,k=E+(C<<5&4294967295|C>>>27),C=P+(E^A&(k^E))+T[2]+4243563512&4294967295,P=k+(C<<9&4294967295|C>>>23),C=A+(k^E&(P^k))+T[7]+1735328473&4294967295,A=P+(C<<14&4294967295|C>>>18),C=E+(P^k&(A^P))+T[12]+2368359562&4294967295,E=A+(C<<20&4294967295|C>>>12),C=k+(E^A^P)+T[5]+4294588738&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^A)+T[8]+2272392833&4294967295,P=k+(C<<11&4294967295|C>>>21),C=A+(P^k^E)+T[11]+1839030562&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^k)+T[14]+4259657740&4294967295,E=A+(C<<23&4294967295|C>>>9),C=k+(E^A^P)+T[1]+2763975236&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^A)+T[4]+1272893353&4294967295,P=k+(C<<11&4294967295|C>>>21),C=A+(P^k^E)+T[7]+4139469664&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^k)+T[10]+3200236656&4294967295,E=A+(C<<23&4294967295|C>>>9),C=k+(E^A^P)+T[13]+681279174&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^A)+T[0]+3936430074&4294967295,P=k+(C<<11&4294967295|C>>>21),C=A+(P^k^E)+T[3]+3572445317&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^k)+T[6]+76029189&4294967295,E=A+(C<<23&4294967295|C>>>9),C=k+(E^A^P)+T[9]+3654602809&4294967295,k=E+(C<<4&4294967295|C>>>28),C=P+(k^E^A)+T[12]+3873151461&4294967295,P=k+(C<<11&4294967295|C>>>21),C=A+(P^k^E)+T[15]+530742520&4294967295,A=P+(C<<16&4294967295|C>>>16),C=E+(A^P^k)+T[2]+3299628645&4294967295,E=A+(C<<23&4294967295|C>>>9),C=k+(A^(E|~P))+T[0]+4096336452&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~A))+T[7]+1126891415&4294967295,P=k+(C<<10&4294967295|C>>>22),C=A+(k^(P|~E))+T[14]+2878612391&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~k))+T[5]+4237533241&4294967295,E=A+(C<<21&4294967295|C>>>11),C=k+(A^(E|~P))+T[12]+1700485571&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~A))+T[3]+2399980690&4294967295,P=k+(C<<10&4294967295|C>>>22),C=A+(k^(P|~E))+T[10]+4293915773&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~k))+T[1]+2240044497&4294967295,E=A+(C<<21&4294967295|C>>>11),C=k+(A^(E|~P))+T[8]+1873313359&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~A))+T[15]+4264355552&4294967295,P=k+(C<<10&4294967295|C>>>22),C=A+(k^(P|~E))+T[6]+2734768916&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~k))+T[13]+1309151649&4294967295,E=A+(C<<21&4294967295|C>>>11),C=k+(A^(E|~P))+T[4]+4149444226&4294967295,k=E+(C<<6&4294967295|C>>>26),C=P+(E^(k|~A))+T[11]+3174756917&4294967295,P=k+(C<<10&4294967295|C>>>22),C=A+(k^(P|~E))+T[2]+718787259&4294967295,A=P+(C<<15&4294967295|C>>>17),C=E+(P^(A|~k))+T[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+A&4294967295,O.g[3]=O.g[3]+P&4294967295}a.prototype.u=function(O,k){k===void 0&&(k=O.length);for(var E=k-this.blockSize,T=this.B,A=this.h,P=0;P<k;){if(A==0)for(;P<=E;)i(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<k;)if(T[A++]=O.charCodeAt(P++),A==this.blockSize){i(this,T),A=0;break}}else for(;P<k;)if(T[A++]=O[P++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=k},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;var E=8*this.o;for(k=O.length-8;k<O.length;++k)O[k]=E&255,E/=256;for(this.u(O),O=Array(16),k=E=0;4>k;++k)for(var T=0;32>T;T+=8)O[E++]=this.g[k]>>>T&255;return O};function c(O,k){var E=m;return Object.prototype.hasOwnProperty.call(E,O)?E[O]:E[O]=k(O)}function d(O,k){this.h=k;for(var E=[],T=!0,A=O.length-1;0<=A;A--){var P=O[A]|0;T&&P==k||(E[A]=P,T=!1)}this.g=E}var m={};function p(O){return-128<=O&&128>O?c(O,function(k){return new d([k|0],0>k?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return B(y(-O));for(var k=[],E=1,T=0;O>=E;T++)k[T]=O/E|0,E*=4294967296;return new d(k,0)}function v(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return B(v(O.substring(1),k));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=y(Math.pow(k,8)),T=b,A=0;A<O.length;A+=8){var P=Math.min(8,O.length-A),C=parseInt(O.substring(A,A+P),k);8>P?(P=y(Math.pow(k,P)),T=T.j(P).add(y(C))):(T=T.j(E),T=T.add(y(C)))}return T}var b=p(0),N=p(1),R=p(16777216);r=d.prototype,r.m=function(){if(q(this))return-B(this).m();for(var O=0,k=1,E=0;E<this.g.length;E++){var T=this.i(E);O+=(0<=T?T:4294967296+T)*k,k*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(q(this))return"-"+B(this).toString(O);for(var k=y(Math.pow(O,6)),E=this,T="";;){var A=X(E,k).g;E=F(E,A.j(k));var P=((0<E.g.length?E.g[0]:E.h)>>>0).toString(O);if(E=A,M(E))return P+T;for(;6>P.length;)P="0"+P;T=P+T}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function q(O){return O.h==-1}r.l=function(O){return O=F(this,O),q(O)?-1:M(O)?0:1};function B(O){for(var k=O.g.length,E=[],T=0;T<k;T++)E[T]=~O.g[T];return new d(E,~O.h).add(N)}r.abs=function(){return q(this)?B(this):this},r.add=function(O){for(var k=Math.max(this.g.length,O.g.length),E=[],T=0,A=0;A<=k;A++){var P=T+(this.i(A)&65535)+(O.i(A)&65535),C=(P>>>16)+(this.i(A)>>>16)+(O.i(A)>>>16);T=C>>>16,P&=65535,C&=65535,E[A]=C<<16|P}return new d(E,E[E.length-1]&-2147483648?-1:0)};function F(O,k){return O.add(B(k))}r.j=function(O){if(M(this)||M(O))return b;if(q(this))return q(O)?B(this).j(B(O)):B(B(this).j(O));if(q(O))return B(this.j(B(O)));if(0>this.l(R)&&0>O.l(R))return y(this.m()*O.m());for(var k=this.g.length+O.g.length,E=[],T=0;T<2*k;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<O.g.length;A++){var P=this.i(T)>>>16,C=this.i(T)&65535,xe=O.i(A)>>>16,Je=O.i(A)&65535;E[2*T+2*A]+=C*Je,D(E,2*T+2*A),E[2*T+2*A+1]+=P*Je,D(E,2*T+2*A+1),E[2*T+2*A+1]+=C*xe,D(E,2*T+2*A+1),E[2*T+2*A+2]+=P*xe,D(E,2*T+2*A+2)}for(T=0;T<k;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=k;T<2*k;T++)E[T]=0;return new d(E,0)};function D(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function U(O,k){this.g=O,this.h=k}function X(O,k){if(M(k))throw Error("division by zero");if(M(O))return new U(b,b);if(q(O))return k=X(B(O),k),new U(B(k.g),B(k.h));if(q(k))return k=X(O,B(k)),new U(B(k.g),k.h);if(30<O.g.length){if(q(O)||q(k))throw Error("slowDivide_ only works with positive integers.");for(var E=N,T=k;0>=T.l(O);)E=ce(E),T=ce(T);var A=ue(E,1),P=ue(T,1);for(T=ue(T,2),E=ue(E,2);!M(T);){var C=P.add(T);0>=C.l(O)&&(A=A.add(E),P=C),T=ue(T,1),E=ue(E,1)}return k=F(O,A.j(k)),new U(A,k)}for(A=b;0<=O.l(k);){for(E=Math.max(1,Math.floor(O.m()/k.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),P=y(E),C=P.j(k);q(C)||0<C.l(O);)E-=T,P=y(E),C=P.j(k);M(P)&&(P=N),A=A.add(P),O=F(O,C)}return new U(A,O)}r.A=function(O){return X(this,O).h},r.and=function(O){for(var k=Math.max(this.g.length,O.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)&O.i(T);return new d(E,this.h&O.h)},r.or=function(O){for(var k=Math.max(this.g.length,O.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)|O.i(T);return new d(E,this.h|O.h)},r.xor=function(O){for(var k=Math.max(this.g.length,O.g.length),E=[],T=0;T<k;T++)E[T]=this.i(T)^O.i(T);return new d(E,this.h^O.h)};function ce(O){for(var k=O.g.length+1,E=[],T=0;T<k;T++)E[T]=O.i(T)<<1|O.i(T-1)>>>31;return new d(E,O.h)}function ue(O,k){var E=k>>5;k%=32;for(var T=O.g.length-E,A=[],P=0;P<T;P++)A[P]=0<k?O.i(P+E)>>>k|O.i(P+E+1)<<32-k:O.i(P+E);return new d(A,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Gw=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=v,Ea=d}).apply(typeof Tb<"u"?Tb:typeof self<"u"?self:typeof window<"u"?window:{});var Cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kw,fc,Yw,zd,Lg,Qw,Xw,Jw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,x,w){return h==Array.prototype||h==Object.prototype||(h[x]=w.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cd=="object"&&Cd];for(var x=0;x<h.length;++x){var w=h[x];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var a=t(this);function i(h,x){if(x)e:{var w=a;h=h.split(".");for(var j=0;j<h.length-1;j++){var $=h[j];if(!($ in w))break e;w=w[$]}h=h[h.length-1],j=w[h],x=x(j),x!=j&&x!=null&&e(w,h,{configurable:!0,writable:!0,value:x})}}function c(h,x){h instanceof String&&(h+="");var w=0,j=!1,$={next:function(){if(!j&&w<h.length){var W=w++;return{value:x(W,h[W]),done:!1}}return j=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(h){return h||function(){return c(this,function(x,w){return w})}});var d=d||{},m=this||self;function p(h){var x=typeof h;return x=x!="object"?x:h?Array.isArray(h)?"array":x:"null",x=="array"||x=="object"&&typeof h.length=="number"}function y(h){var x=typeof h;return x=="object"&&h!=null||x=="function"}function v(h,x,w){return h.call.apply(h.bind,arguments)}function b(h,x,w){if(!h)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,j),h.apply(x,$)}}return function(){return h.apply(x,arguments)}}function N(h,x,w){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,N.apply(null,arguments)}function R(h,x){var w=Array.prototype.slice.call(arguments,1);return function(){var j=w.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function M(h,x){function w(){}w.prototype=x.prototype,h.aa=x.prototype,h.prototype=new w,h.prototype.constructor=h,h.Qb=function(j,$,W){for(var le=Array(arguments.length-2),We=2;We<arguments.length;We++)le[We-2]=arguments[We];return x.prototype[$].apply(j,le)}}function q(h){const x=h.length;if(0<x){const w=Array(x);for(let j=0;j<x;j++)w[j]=h[j];return w}return[]}function B(h,x){for(let w=1;w<arguments.length;w++){const j=arguments[w];if(p(j)){const $=h.length||0,W=j.length||0;h.length=$+W;for(let le=0;le<W;le++)h[$+le]=j[le]}else h.push(j)}}class F{constructor(x,w){this.i=x,this.j=w,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function D(h){return/^[\s\xa0]*$/.test(h)}function U(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function X(h){return X[" "](h),h}X[" "]=function(){};var ce=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function ue(h,x,w){for(const j in h)x.call(w,h[j],j,h)}function O(h,x){for(const w in h)x.call(void 0,h[w],w,h)}function k(h){const x={};for(const w in h)x[w]=h[w];return x}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(h,x){let w,j;for(let $=1;$<arguments.length;$++){j=arguments[$];for(w in j)h[w]=j[w];for(let W=0;W<E.length;W++)w=E[W],Object.prototype.hasOwnProperty.call(j,w)&&(h[w]=j[w])}}function A(h){var x=1;h=h.split(":");const w=[];for(;0<x&&h.length;)w.push(h.shift()),x--;return h.length&&w.push(h.join(":")),w}function P(h){m.setTimeout(()=>{throw h},0)}function C(){var h=Ie;let x=null;return h.g&&(x=h.g,h.g=h.g.next,h.g||(h.h=null),x.next=null),x}class xe{constructor(){this.h=this.g=null}add(x,w){const j=Je.get();j.set(x,w),this.h?this.h.next=j:this.g=j,this.h=j}}var Je=new F(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(x,w){this.h=x,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ye=!1,Ie=new xe,Oe=()=>{const h=m.Promise.resolve(void 0);ae=()=>{h.then(V)}};var V=()=>{for(var h;h=C();){try{h.h.call(h.g)}catch(w){P(w)}var x=Je;x.j(h),100>x.h&&(x.h++,h.next=x.g,x.g=h)}ye=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(h,x){this.type=h,this.g=this.target=x,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var fe=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,x=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};m.addEventListener("test",w,x),m.removeEventListener("test",w,x)}catch{}return h})();function Te(h,x){if(ie.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var w=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=x,x=h.relatedTarget){if(ce){e:{try{X(x.nodeName);var $=!0;break e}catch{}$=!1}$||(x=null)}}else w=="mouseover"?x=h.fromElement:w=="mouseout"&&(x=h.toElement);this.relatedTarget=x,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:De[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Te.aa.h.call(this)}}M(Te,ie);var De={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Bt=0;function dt(h,x,w,j,$){this.listener=h,this.proxy=null,this.src=x,this.type=w,this.capture=!!j,this.ha=$,this.key=++Bt,this.da=this.fa=!1}function yr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Br(h){this.src=h,this.g={},this.h=0}Br.prototype.add=function(h,x,w,j,$){var W=h.toString();h=this.g[W],h||(h=this.g[W]=[],this.h++);var le=Vi(h,x,j,$);return-1<le?(x=h[le],w||(x.fa=!1)):(x=new dt(x,this.src,W,!!j,$),x.fa=w,h.push(x)),x};function Ua(h,x){var w=x.type;if(w in h.g){var j=h.g[w],$=Array.prototype.indexOf.call(j,x,void 0),W;(W=0<=$)&&Array.prototype.splice.call(j,$,1),W&&(yr(x),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Vi(h,x,w,j){for(var $=0;$<h.length;++$){var W=h[$];if(!W.da&&W.listener==x&&W.capture==!!w&&W.ha==j)return $}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),za={};function Ui(h,x,w,j,$){if(Array.isArray(x)){for(var W=0;W<x.length;W++)Ui(h,x[W],w,j,$);return null}return w=tu(w),h&&h[qe]?h.K(x,w,y(j)?!!j.capture:!1,$):Jh(h,x,w,!1,j,$)}function Jh(h,x,w,j,$,W){if(!x)throw Error("Invalid event type");var le=y($)?!!$.capture:!!$,We=so(h);if(We||(h[rr]=We=new Br(h)),w=We.add(x,w,j,le,W),w.proxy)return w;if(j=eu(),w.proxy=j,j.src=h,j.listener=w,h.addEventListener)fe||($=le),$===void 0&&($=!1),h.addEventListener(x.toString(),j,$);else if(h.attachEvent)h.attachEvent(Fi(x.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return w}function eu(){function h(w){return x.call(h.src,h.listener,w)}const x=Wh;return h}function zi(h,x,w,j,$){if(Array.isArray(x))for(var W=0;W<x.length;W++)zi(h,x[W],w,j,$);else j=y(j)?!!j.capture:!!j,w=tu(w),h&&h[qe]?(h=h.i,x=String(x).toString(),x in h.g&&(W=h.g[x],w=Vi(W,w,j,$),-1<w&&(yr(W[w]),Array.prototype.splice.call(W,w,1),W.length==0&&(delete h.g[x],h.h--)))):h&&(h=so(h))&&(x=h.g[x.toString()],h=-1,x&&(h=Vi(x,w,j,$)),(w=-1<h?x[h]:null)&&Fa(w))}function Fa(h){if(typeof h!="number"&&h&&!h.da){var x=h.src;if(x&&x[qe])Ua(x.i,h);else{var w=h.type,j=h.proxy;x.removeEventListener?x.removeEventListener(w,j,h.capture):x.detachEvent?x.detachEvent(Fi(w),j):x.addListener&&x.removeListener&&x.removeListener(j),(w=so(x))?(Ua(w,h),w.h==0&&(w.src=null,x[rr]=null)):yr(h)}}}function Fi(h){return h in za?za[h]:za[h]="on"+h}function Wh(h,x){if(h.da)h=!0;else{x=new Te(x,this);var w=h.listener,j=h.ha||h.src;h.fa&&Fa(h),h=w.call(j,x)}return h}function so(h){return h=h[rr],h instanceof Br?h:null}var qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(h){return typeof h=="function"?h:(h[qt]||(h[qt]=function(x){return h.handleEvent(x)}),h[qt])}function It(){Z.call(this),this.i=new Br(this),this.M=this,this.F=null}M(It,Z),It.prototype[qe]=!0,It.prototype.removeEventListener=function(h,x,w,j){zi(this,h,x,w,j)};function Pt(h,x){var w,j=h.F;if(j)for(w=[];j;j=j.F)w.push(j);if(h=h.M,j=x.type||x,typeof x=="string")x=new ie(x,h);else if(x instanceof ie)x.target=x.target||h;else{var $=x;x=new ie(j,h),T(x,$)}if($=!0,w)for(var W=w.length-1;0<=W;W--){var le=x.g=w[W];$=qr(le,j,!0,x)&&$}if(le=x.g=h,$=qr(le,j,!0,x)&&$,$=qr(le,j,!1,x)&&$,w)for(W=0;W<w.length;W++)le=x.g=w[W],$=qr(le,j,!1,x)&&$}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var h=this.i,x;for(x in h.g){for(var w=h.g[x],j=0;j<w.length;j++)yr(w[j]);delete h.g[x],h.h--}}this.F=null},It.prototype.K=function(h,x,w,j){return this.i.add(String(h),x,!1,w,j)},It.prototype.L=function(h,x,w,j){return this.i.add(String(h),x,!0,w,j)};function qr(h,x,w,j){if(x=h.i.g[String(x)],!x)return!0;x=x.concat();for(var $=!0,W=0;W<x.length;++W){var le=x[W];if(le&&!le.da&&le.capture==w){var We=le.listener,Et=le.ha||le.src;le.fa&&Ua(h.i,le),$=We.call(Et,j)!==!1&&$}}return $&&!j.defaultPrevented}function nu(h,x,w){if(typeof h=="function")w&&(h=N(h,w));else if(h&&typeof h.handleEvent=="function")h=N(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:m.setTimeout(h,x||0)}function ao(h){h.g=nu(()=>{h.g=null,h.i&&(h.i=!1,ao(h))},h.l);const x=h.h;h.h=null,h.m.apply(null,x)}class Zh extends Z{constructor(x,w){super(),this.m=x,this.l=w,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:ao(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ba(h){Z.call(this),this.h=h,this.g={}}M(Ba,Z);var js=[];function tn(h){ue(h.g,function(x,w){this.g.hasOwnProperty(w)&&Fa(x)},h),h.g={}}Ba.prototype.N=function(){Ba.aa.N.call(this),tn(this)},Ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,cn=m.JSON.parse,ef=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function io(){}io.prototype.h=null;function ru(h){return h.h||(h.h=h.i())}function qa(){}var xr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function As(){ie.call(this,"d")}M(As,ie);function sr(){ie.call(this,"c")}M(sr,ie);var Bn={},ks=null;function Bi(){return ks=ks||new It}Bn.La="serverreachability";function lo(h){ie.call(this,Bn.La,h)}M(lo,ie);function Hr(h){const x=Bi();Pt(x,new lo(x))}Bn.STAT_EVENT="statevent";function Cs(h,x){ie.call(this,Bn.STAT_EVENT,h),this.stat=x}M(Cs,ie);function Ht(h){const x=Bi();Pt(x,new Cs(x,h))}Bn.Ma="timingevent";function oo(h,x){ie.call(this,Bn.Ma,h),this.size=x}M(oo,ie);function Rs(h,x){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},x)}function Is(){this.g=!0}Is.prototype.xa=function(){this.g=!1};function co(h,x,w,j,$,W){h.info(function(){if(h.g)if(W)for(var le="",We=W.split("&"),Et=0;Et<We.length;Et++){var Me=We[Et].split("=");if(1<Me.length){var Vt=Me[0];Me=Me[1];var Ut=Vt.split("_");le=2<=Ut.length&&Ut[1]=="type"?le+(Vt+"="+Me+"&"):le+(Vt+"=redacted&")}}else le=null;else le=W;return"XMLHTTP REQ ("+j+") [attempt "+$+"]: "+x+`
`+w+`
`+le})}function uo(h,x,w,j,$,W,le){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+$+"]: "+x+`
`+w+`
`+W+" "+le})}function $r(h,x,w,j){h.info(function(){return"XMLHTTP TEXT ("+x+"): "+vr(h,w)+(j?" "+j:"")})}function su(h,x){h.info(function(){return"TIMEOUT: "+x})}Is.prototype.info=function(){};function vr(h,x){if(!h.g)return x;if(!x)return null;try{var w=JSON.parse(x);if(w){for(h=0;h<w.length;h++)if(Array.isArray(w[h])){var j=w[h];if(!(2>j.length)){var $=j[1];if(Array.isArray($)&&!(1>$.length)){var W=$[0];if(W!="noop"&&W!="stop"&&W!="close")for(var le=1;le<$.length;le++)$[le]=""}}}}return Fn(w)}catch{return x}}var mt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$t={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},br;function Ds(){}M(Ds,io),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},br=new Ds;function _r(h,x,w,j){this.j=h,this.i=x,this.l=w,this.R=j||1,this.U=new Ba(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var ho={},Gr={};function Ha(h,x,w){h.L=1,h.v=Ka(gt(x)),h.m=w,h.P=!0,Kr(h,null)}function Kr(h,x){h.F=Date.now(),ar(h),h.A=gt(h.v);var w=h.A,j=h.R;Array.isArray(j)||(j=[String(j)]),Xr(w.i,"t",j),h.C=0,w=h.j.J,h.h=new au,h.g=_u(h.j,w?x:null,!h.m),0<h.O&&(h.M=new Zh(N(h.Y,h,h.g),h.O)),x=h.U,w=h.g,j=h.ca;var $="readystatechange";Array.isArray($)||($&&(js[0]=$.toString()),$=js);for(var W=0;W<$.length;W++){var le=Ui(w,$[W],j||x.handleEvent,!1,x.h||x);if(!le)break;x.g[le.key]=le}x=h.H?k(h.H):{},h.m?(h.u||(h.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,x)):(h.u="GET",h.g.ea(h.A,h.u,null,x)),Hr(),co(h.i,h.u,h.A,h.l,h.R,h.m)}_r.prototype.ca=function(h){h=h.target;const x=this.M;x&&hn(h)==3?x.j():this.Y(h)},_r.prototype.Y=function(h){try{if(h==this.g)e:{const Ut=hn(this.g);var x=this.g.Ba();const Gs=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Xa(this.g)))){this.J||Ut!=4||x==7||(x==8||0>=Gs?Hr(3):Hr(2)),qi(this);var w=this.g.Z();this.X=w;t:if(Yr(this)){var j=Xa(this.g);h="";var $=j.length,W=hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Ms(this);var le="";break t}this.h.i=new m.TextDecoder}for(x=0;x<$;x++)this.h.h=!0,h+=this.h.i.decode(j[x],{stream:!(W&&x==$-1)});j.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=w==200,uo(this.i,this.u,this.A,this.l,this.R,Ut,w),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Et=this.g;if((We=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(We)){var Me=We;break t}}Me=null}if(w=Me)$r(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wr(this,w);else{this.o=!1,this.s=3,Ht(12),un(this),Ms(this);break e}}if(this.P){w=!0;let vn;for(;!this.J&&this.C<le.length;)if(vn=$a(this,le),vn==Gr){Ut==4&&(this.s=4,Ht(14),w=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(vn==ho){this.s=4,Ht(15),$r(this.i,this.l,le,"[Invalid Chunk]"),w=!1;break}else $r(this.i,this.l,vn,null),wr(this,vn);if(Yr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||le.length!=0||this.h.h||(this.s=1,Ht(16),w=!1),this.o=this.o&&w,!w)$r(this.i,this.l,le,"[Invalid Chunked Response]"),un(this),Ms(this);else if(0<le.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),No(Vt),Vt.M=!0,Ht(11))}}else $r(this.i,this.l,le,null),wr(this,le);Ut==4&&un(this),this.o&&!this.J&&(Ut==4?xu(this.j,this):(this.o=!1,ar(this)))}else hu(this.g),w==400&&0<le.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),un(this),Ms(this)}}}catch{}finally{}};function Yr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function $a(h,x){var w=h.C,j=x.indexOf(`
`,w);return j==-1?Gr:(w=Number(x.substring(w,j)),isNaN(w)?ho:(j+=1,j+w>x.length?Gr:(x=x.slice(j,j+w),h.C=j+w,x)))}_r.prototype.cancel=function(){this.J=!0,un(this)};function ar(h){h.S=Date.now()+h.I,xt(h,h.I)}function xt(h,x){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rs(N(h.ba,h),x)}function qi(h){h.B&&(m.clearTimeout(h.B),h.B=null)}_r.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(su(this.i,this.A),this.L!=2&&(Hr(),Ht(17)),un(this),this.s=2,Ms(this)):xt(this,this.S-h)};function Ms(h){h.j.G==0||h.J||xu(h.j,h)}function un(h){qi(h);var x=h.M;x&&typeof x.ma=="function"&&x.ma(),h.M=null,tn(h.U),h.g&&(x=h.g,h.g=null,x.abort(),x.ma())}function wr(h,x){try{var w=h.j;if(w.G!=0&&(w.g==h||Os(w.h,h))){if(!h.K&&Os(w.h,h)&&w.G==3){try{var j=w.Da.g.parse(x)}catch{j=null}if(Array.isArray(j)&&j.length==3){var $=j;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<h.F)Hs(w),qs(w);else break e;wo(w),Ht(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=Rs(N(w.Za,w),6e3));if(1>=iu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Wr(w,11)}else if((h.K||w.g==h)&&Hs(w),!D(x))for($=w.Da.g.parse(x),x=0;x<$.length;x++){let Me=$[x];if(w.T=Me[0],Me=Me[1],w.G==2)if(Me[0]=="c"){w.K=Me[1],w.ia=Me[2];const Vt=Me[3];Vt!=null&&(w.la=Vt,w.j.info("VER="+w.la));const Ut=Me[4];Ut!=null&&(w.Aa=Ut,w.j.info("SVER="+w.Aa));const Gs=Me[5];Gs!=null&&typeof Gs=="number"&&0<Gs&&(j=1.5*Gs,w.L=j,w.j.info("backChannelRequestTimeoutMs_="+j)),j=w;const vn=h.g;if(vn){const Za=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Za){var W=j.h;W.g||Za.indexOf("spdy")==-1&&Za.indexOf("quic")==-1&&Za.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Ps(W,W.h),W.h=null))}if(j.D){const Zr=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zr&&(j.ya=Zr,Ge(j.I,j.D,Zr))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-h.F,w.j.info("Handshake RTT: "+w.R+"ms")),j=w;var le=h;if(j.qa=bu(j,j.J?j.ia:null,j.W),le.K){qn(j.h,le);var We=le,Et=j.L;Et&&(We.I=Et),We.B&&(qi(We),ar(We)),j.g=le}else pu(j);0<w.i.length&&Ji(w)}else Me[0]!="stop"&&Me[0]!="close"||Wr(w,7);else w.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Wr(w,7):bo(w):Me[0]!="noop"&&w.l&&w.l.ta(Me),w.v=0)}}Hr(4)}catch{}}var tf=class{constructor(h,x){this.g=h,this.map=x}};function fo(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function mo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function iu(h){return h.h?1:h.g?h.g.size:0}function Os(h,x){return h.h?h.h==x:h.g?h.g.has(x):!1}function Ps(h,x){h.g?h.g.add(x):h.h=x}function qn(h,x){h.h&&h.h==x?h.h=null:h.g&&h.g.has(x)&&h.g.delete(x)}fo.prototype.cancel=function(){if(this.i=dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function dn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let x=h.i;for(const w of h.g.values())x=x.concat(w.D);return x}return q(h.i)}function lu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var x=[],w=h.length,j=0;j<w;j++)x.push(h[j]);return x}x=[],w=0;for(j in h)x[w++]=h[j];return x}function nf(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var x=[];h=h.length;for(var w=0;w<h;w++)x.push(w);return x}x=[],w=0;for(const j in h)x[w++]=j;return x}}}function Hi(h,x){if(h.forEach&&typeof h.forEach=="function")h.forEach(x,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,x,void 0);else for(var w=nf(h),j=lu(h),$=j.length,W=0;W<$;W++)x.call(void 0,j[W],w&&w[W],h)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(h,x){if(h){h=h.split("&");for(var w=0;w<h.length;w++){var j=h[w].indexOf("="),$=null;if(0<=j){var W=h[w].substring(0,j);$=h[w].substring(j+1)}else W=h[w];x(W,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Qr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qr){this.h=h.h,Ls(this,h.j),this.o=h.o,this.g=h.g,Ga(this,h.s),this.l=h.l;var x=h.i,w=new Nr;w.i=x.i,x.g&&(w.g=new Map(x.g),w.h=x.h),Gi(this,w),this.m=h.m}else h&&(x=String(h).match(go))?(this.h=!1,Ls(this,x[1]||"",!0),this.o=Vs(x[2]||""),this.g=Vs(x[3]||"",!0),Ga(this,x[4]),this.l=Vs(x[5]||"",!0),Gi(this,x[6]||"",!0),this.m=Vs(x[7]||"")):(this.h=!1,this.i=new Nr(null,this.h))}Qr.prototype.toString=function(){var h=[],x=this.j;x&&h.push(Hn(x,po,!0),":");var w=this.g;return(w||x=="file")&&(h.push("//"),(x=this.o)&&h.push(Hn(x,po,!0),"@"),h.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&h.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Hn(w,w.charAt(0)=="/"?yo:ou,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Hn(w,af)),h.join("")};function gt(h){return new Qr(h)}function Ls(h,x,w){h.j=w?Vs(x,!0):x,h.j&&(h.j=h.j.replace(/:$/,""))}function Ga(h,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);h.s=x}else h.s=null}function Gi(h,x,w){x instanceof Nr?(h.i=x,cu(h.i,h.h)):(w||(x=Hn(x,sf)),h.i=new Nr(x,h.h))}function Ge(h,x,w){h.i.set(x,w)}function Ka(h){return Ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vs(h,x){return h?x?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Hn(h,x,w){return typeof h=="string"?(h=encodeURI(h).replace(x,rf),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function rf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var po=/[#\/\?@]/g,ou=/[#\?:]/g,yo=/[#\?]/g,sf=/[#\?@]/g,af=/#/g;function Nr(h,x){this.h=this.g=null,this.i=h||null,this.j=!!x}function Lt(h){h.g||(h.g=new Map,h.h=0,h.i&&$i(h.i,function(x,w){h.add(decodeURIComponent(x.replace(/\+/g," ")),w)}))}r=Nr.prototype,r.add=function(h,x){Lt(this),this.i=null,h=An(this,h);var w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(x),this.h+=1,this};function Ki(h,x){Lt(h),x=An(h,x),h.g.has(x)&&(h.i=null,h.h-=h.g.get(x).length,h.g.delete(x))}function Yi(h,x){return Lt(h),x=An(h,x),h.g.has(x)}r.forEach=function(h,x){Lt(this),this.g.forEach(function(w,j){w.forEach(function($){h.call(x,$,j,this)},this)},this)},r.na=function(){Lt(this);const h=Array.from(this.g.values()),x=Array.from(this.g.keys()),w=[];for(let j=0;j<x.length;j++){const $=h[j];for(let W=0;W<$.length;W++)w.push(x[j])}return w},r.V=function(h){Lt(this);let x=[];if(typeof h=="string")Yi(this,h)&&(x=x.concat(this.g.get(An(this,h))));else{h=Array.from(this.g.values());for(let w=0;w<h.length;w++)x=x.concat(h[w])}return x},r.set=function(h,x){return Lt(this),this.i=null,h=An(this,h),Yi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[x]),this.h+=1,this},r.get=function(h,x){return h?(h=this.V(h),0<h.length?String(h[0]):x):x};function Xr(h,x,w){Ki(h,x),0<w.length&&(h.i=null,h.g.set(An(h,x),q(w)),h.h+=w.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],x=Array.from(this.g.keys());for(var w=0;w<x.length;w++){var j=x[w];const W=encodeURIComponent(String(j)),le=this.V(j);for(j=0;j<le.length;j++){var $=W;le[j]!==""&&($+="="+encodeURIComponent(String(le[j]))),h.push($)}}return this.i=h.join("&")};function An(h,x){return x=String(x),h.j&&(x=x.toLowerCase()),x}function cu(h,x){x&&!h.j&&(Lt(h),h.i=null,h.g.forEach(function(w,j){var $=j.toLowerCase();j!=$&&(Ki(this,j),Xr(this,$,w))},h)),h.j=x}function xo(h,x){const w=new Is;if(m.Image){const j=new Image;j.onload=R(xn,w,"TestLoadImage: loaded",!0,x,j),j.onerror=R(xn,w,"TestLoadImage: error",!1,x,j),j.onabort=R(xn,w,"TestLoadImage: abort",!1,x,j),j.ontimeout=R(xn,w,"TestLoadImage: timeout",!1,x,j),m.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else x(!1)}function uu(h,x){const w=new Is,j=new AbortController,$=setTimeout(()=>{j.abort(),xn(w,"TestPingServer: timeout",!1,x)},1e4);fetch(h,{signal:j.signal}).then(W=>{clearTimeout($),W.ok?xn(w,"TestPingServer: ok",!0,x):xn(w,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout($),xn(w,"TestPingServer: error",!1,x)})}function xn(h,x,w,j,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),j(w)}catch{}}function ir(){this.g=new ef}function vo(h,x,w){const j=w||"";try{Hi(h,function($,W){let le=$;y($)&&(le=Fn($)),x.push(j+W+"="+encodeURIComponent(le))})}catch($){throw x.push(j+"type="+encodeURIComponent("_badmap")),$}}function Er(h){this.l=h.Ub||null,this.j=h.eb||!1}M(Er,io),Er.prototype.g=function(){return new kn(this.l,this.j)},Er.prototype.i=(function(h){return function(){return h}})({});function kn(h,x){It.call(this),this.D=h,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(kn,It),r=kn.prototype,r.open=function(h,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=x,this.readyState=1,Us(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(x.body=h),(this.D||m).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tr(this)),this.readyState=0},r.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qi(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qi(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}r.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var x=h.value?h.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!h.done}))&&(this.response=this.responseText+=x)}h.done?Tr(this):Us(this),this.readyState==3&&Qi(this)}},r.Ra=function(h){this.g&&(this.response=this.responseText=h,Tr(this))},r.Qa=function(h){this.g&&(this.response=h,Tr(this))},r.ga=function(){this.g&&Tr(this)};function Tr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Us(h)}r.setRequestHeader=function(h,x){this.u.append(h,x)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],x=this.h.entries();for(var w=x.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=x.next();return h.join(`\r
`)};function Us(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ya(h){let x="";return ue(h,function(w,j){x+=j,x+=":",x+=w,x+=`\r
`}),x}function zs(h,x,w){e:{for(j in w){var j=!1;break e}j=!0}j||(w=Ya(w),typeof h=="string"?w!=null&&encodeURIComponent(String(w)):Ge(h,x,w))}function lt(h){It.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(lt,It);var nn=/^https?$/i,Jr=["POST","PUT"];r=lt.prototype,r.Ha=function(h){this.J=h},r.ea=function(h,x,w,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);x=x?x.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():br.g(),this.v=this.o?ru(this.o):ru(br),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(x,String(h),!0),this.B=!1}catch(W){Qa(this,W);return}if(h=w||"",w=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var $ in j)w.set($,j[$]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const W of j.keys())w.set(W,j.get(W));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(w.keys()).find(W=>W.toLowerCase()=="content-type"),$=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Jr,x,void 0))||j||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,le]of w)this.g.setRequestHeader(W,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xi(this),this.u=!0,this.g.send(h),this.u=!1}catch(W){Qa(this,W)}};function Qa(h,x){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=x,h.m=5,Fs(h),Bs(h)}function Fs(h){h.A||(h.A=!0,Pt(h,"complete"),Pt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Pt(this,"complete"),Pt(this,"abort"),Bs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),lt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?du(this):this.bb())},r.bb=function(){du(this)};function du(h){if(h.h&&typeof d<"u"&&(!h.v[1]||hn(h)!=4||h.Z()!=2)){if(h.u&&hn(h)==4)nu(h.Ea,0,h);else if(Pt(h,"readystatechange"),hn(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var w;if(!(w=x)){var j;if(j=le===0){var $=String(h.D).match(go)[1]||null;!$&&m.self&&m.self.location&&($=m.self.location.protocol.slice(0,-1)),j=!nn.test($?$.toLowerCase():"")}w=j}if(w)Pt(h,"complete"),Pt(h,"success");else{h.m=6;try{var W=2<hn(h)?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.Z()+"]",Fs(h)}}finally{Bs(h)}}}}function Bs(h,x){if(h.g){Xi(h);const w=h.g,j=h.v[0]?()=>{}:null;h.g=null,h.v=null,x||Pt(h,"ready");try{w.onreadystatechange=j}catch{}}}function Xi(h){h.I&&(m.clearTimeout(h.I),h.I=null)}r.isActive=function(){return!!this.g};function hn(h){return h.g?h.g.readyState:0}r.Z=function(){try{return 2<hn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(h){if(this.g){var x=this.g.responseText;return h&&x.indexOf(h)==0&&(x=x.substring(h.length)),cn(x)}};function Xa(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function hu(h){const x={};h=(h.g&&2<=hn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(D(h[j]))continue;var w=A(h[j]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const W=x[$]||[];x[$]=W,W.push(w)}O(x,function(j){return j.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(h,x,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||x}function fu(h){this.Aa=0,this.i=[],this.j=new Is,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ja("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ja("baseRetryDelayMs",5e3,h),this.cb=Ja("retryDelaySeedMs",1e4,h),this.Wa=Ja("forwardChannelMaxRetries",2,h),this.wa=Ja("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new fo(h&&h.concurrentRequestLimit),this.Da=new ir,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fu.prototype,r.la=8,r.G=1,r.connect=function(h,x,w,j){Ht(0),this.W=h,this.H=x||{},w&&j!==void 0&&(this.H.OSID=w,this.H.OAID=j),this.F=this.X,this.I=bu(this,null,this.W),Ji(this)};function bo(h){if(mu(h),h.G==3){var x=h.U++,w=gt(h.I);if(Ge(w,"SID",h.K),Ge(w,"RID",x),Ge(w,"TYPE","terminate"),Wa(h,w),x=new _r(h,h.j,x),x.L=2,x.v=Ka(gt(w)),w=!1,m.navigator&&m.navigator.sendBeacon)try{w=m.navigator.sendBeacon(x.v.toString(),"")}catch{}!w&&m.Image&&(new Image().src=x.v,w=!0),w||(x.g=_u(x.j,null),x.g.ea(x.v)),x.F=Date.now(),ar(x)}Eo(h)}function qs(h){h.g&&(No(h),h.g.cancel(),h.g=null)}function mu(h){qs(h),h.u&&(m.clearTimeout(h.u),h.u=null),Hs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Ji(h){if(!mo(h.h)&&!h.s){h.s=!0;var x=h.Ga;ae||Oe(),ye||(ae(),ye=!0),Ie.add(x,h),h.B=0}}function lf(h,x){return iu(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=x.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rs(N(h.Ga,h,x),vu(h,h.B)),h.B++,!0)}r.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new _r(this,this.j,h);let W=this.o;if(this.S&&(W?(W=k(W),T(W,this.S)):W=this.S),this.m!==null||this.O||($.H=W,W=null),this.P)e:{for(var x=0,w=0;w<this.i.length;w++){t:{var j=this.i[w];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(x+=j,4096<x){x=w;break e}if(x===4096||w===this.i.length-1){x=w+1;break e}}x=1e3}else x=1e3;x=_o(this,$,x),w=gt(this.I),Ge(w,"RID",h),Ge(w,"CVER",22),this.D&&Ge(w,"X-HTTP-Session-Id",this.D),Wa(this,w),W&&(this.O?x="headers="+encodeURIComponent(String(Ya(W)))+"&"+x:this.m&&zs(w,this.m,W)),Ps(this.h,$),this.Ua&&Ge(w,"TYPE","init"),this.P?(Ge(w,"$req",x),Ge(w,"SID","null"),$.T=!0,Ha($,w,null)):Ha($,w,x),this.G=2}}else this.G==3&&(h?gu(this,h):this.i.length==0||mo(this.h)||gu(this))};function gu(h,x){var w;x?w=x.l:w=h.U++;const j=gt(h.I);Ge(j,"SID",h.K),Ge(j,"RID",w),Ge(j,"AID",h.T),Wa(h,j),h.m&&h.o&&zs(j,h.m,h.o),w=new _r(h,h.j,w,h.B+1),h.m===null&&(w.H=h.o),x&&(h.i=x.D.concat(h.i)),x=_o(h,w,1e3),w.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ps(h.h,w),Ha(w,j,x)}function Wa(h,x){h.H&&ue(h.H,function(w,j){Ge(x,j,w)}),h.l&&Hi({},function(w,j){Ge(x,j,w)})}function _o(h,x,w){w=Math.min(h.i.length,w);var j=h.l?N(h.l.Na,h.l,h):null;e:{var $=h.i;let W=-1;for(;;){const le=["count="+w];W==-1?0<w?(W=$[0].g,le.push("ofs="+W)):W=0:le.push("ofs="+W);let We=!0;for(let Et=0;Et<w;Et++){let Me=$[Et].g;const Vt=$[Et].map;if(Me-=W,0>Me)W=Math.max(0,$[Et].g-100),We=!1;else try{vo(Vt,le,"req"+Me+"_")}catch{j&&j(Vt)}}if(We){j=le.join("&");break e}}}return h=h.i.splice(0,w),x.D=h,j}function pu(h){if(!h.g&&!h.u){h.Y=1;var x=h.Fa;ae||Oe(),ye||(ae(),ye=!0),Ie.add(x,h),h.v=0}}function wo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rs(N(h.Fa,h),vu(h,h.v)),h.v++,!0)}r.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rs(N(this.ab,this),h)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),qs(this),yu(this))};function No(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function yu(h){h.g=new _r(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var x=gt(h.qa);Ge(x,"RID","rpc"),Ge(x,"SID",h.K),Ge(x,"AID",h.T),Ge(x,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ge(x,"TO",h.ja),Ge(x,"TYPE","xmlhttp"),Wa(h,x),h.m&&h.o&&zs(x,h.m,h.o),h.L&&(h.g.I=h.L);var w=h.g;h=h.ia,w.L=1,w.v=Ka(gt(x)),w.m=null,w.P=!0,Kr(w,h)}r.Za=function(){this.C!=null&&(this.C=null,qs(this),wo(this),Ht(19))};function Hs(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function xu(h,x){var w=null;if(h.g==x){Hs(h),No(h),h.g=null;var j=2}else if(Os(h.h,x))w=x.D,qn(h.h,x),j=1;else return;if(h.G!=0){if(x.o)if(j==1){w=x.m?x.m.length:0,x=Date.now()-x.F;var $=h.B;j=Bi(),Pt(j,new oo(j,w)),Ji(h)}else pu(h);else if($=x.s,$==3||$==0&&0<x.X||!(j==1&&lf(h,x)||j==2&&wo(h)))switch(w&&0<w.length&&(x=h.h,x.i=x.i.concat(w)),$){case 1:Wr(h,5);break;case 4:Wr(h,10);break;case 3:Wr(h,6);break;default:Wr(h,2)}}}function vu(h,x){let w=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(w*=2),w*x}function Wr(h,x){if(h.j.info("Error code "+x),x==2){var w=N(h.fb,h),j=h.Xa;const $=!j;j=new Qr(j||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ls(j,"https"),Ka(j),$?xo(j.toString(),w):uu(j.toString(),w)}else Ht(2);h.G=0,h.l&&h.l.sa(x),Eo(h),mu(h)}r.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Eo(h){if(h.G=0,h.ka=[],h.l){const x=dn(h.h);(x.length!=0||h.i.length!=0)&&(B(h.ka,x),B(h.ka,h.i),h.h.i.length=0,q(h.i),h.i.length=0),h.l.ra()}}function bu(h,x,w){var j=w instanceof Qr?gt(w):new Qr(w);if(j.g!="")x&&(j.g=x+"."+j.g),Ga(j,j.s);else{var $=m.location;j=$.protocol,x=x?x+"."+$.hostname:$.hostname,$=+$.port;var W=new Qr(null);j&&Ls(W,j),x&&(W.g=x),$&&Ga(W,$),w&&(W.l=w),j=W}return w=h.D,x=h.ya,w&&x&&Ge(j,w,x),Ge(j,"VER",h.la),Wa(h,j),j}function _u(h,x,w){if(x&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=h.Ca&&!h.pa?new lt(new Er({eb:w})):new lt(h.pa),x.Ha(h.J),x}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Wi(){}Wi.prototype.g=function(h,x){return new fn(h,x)};function fn(h,x){It.call(this),this.g=new fu(x),this.l=h,this.h=x&&x.messageUrlParams||null,h=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(h?h["X-WebChannel-Content-Type"]=x.messageContentType:h={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(h?h["X-WebChannel-Client-Profile"]=x.va:h={"X-WebChannel-Client-Profile":x.va}),this.g.S=h,(h=x&&x.Sb)&&!D(h)&&(this.g.m=h),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!D(x)&&(this.g.D=x,h=this.h,h!==null&&x in h&&(h=this.h,x in h&&delete h[x])),this.j=new $s(this)}M(fn,It),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){bo(this.g)},fn.prototype.o=function(h){var x=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.u&&(w={},w.__data__=Fn(h),h=w);x.i.push(new tf(x.Ya++,h)),x.G==3&&Ji(x)},fn.prototype.N=function(){this.g.l=null,delete this.j,bo(this.g),delete this.g,fn.aa.N.call(this)};function Nu(h){As.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var x=h.__sm__;if(x){e:{for(const w in x){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,x=x!==null&&h in x?x[h]:void 0),this.data=x}else this.data=h}M(Nu,As);function Eu(){sr.call(this),this.status=1}M(Eu,sr);function $s(h){this.g=h}M($s,wu),$s.prototype.ua=function(){Pt(this.g,"a")},$s.prototype.ta=function(h){Pt(this.g,new Nu(h))},$s.prototype.sa=function(h){Pt(this.g,new Eu)},$s.prototype.ra=function(){Pt(this.g,"b")},Wi.prototype.createWebChannel=Wi.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,Jw=function(){return new Wi},Xw=function(){return Bi()},Qw=Bn,Lg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,zd=mt,$t.COMPLETE="complete",Yw=$t,qa.EventType=xr,xr.OPEN="a",xr.CLOSE="b",xr.ERROR="c",xr.MESSAGE="d",It.prototype.listen=It.prototype.K,fc=qa,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,Kw=lt}).apply(typeof Cd<"u"?Cd:typeof self<"u"?self:typeof window<"u"?window:{});const Sb="@firebase/firestore",jb="4.9.0";class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Wl="12.0.0";const Si=new Eh("@firebase/firestore");function Cl(){return Si.logLevel}function he(r,...e){if(Si.logLevel<=ze.DEBUG){const t=e.map(pp);Si.debug(`Firestore (${Wl}): ${r}`,...t)}}function Ns(r,...e){if(Si.logLevel<=ze.ERROR){const t=e.map(pp);Si.error(`Firestore (${Wl}): ${r}`,...t)}}function Fl(r,...e){if(Si.logLevel<=ze.WARN){const t=e.map(pp);Si.warn(`Firestore (${Wl}): ${r}`,...t)}}function pp(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function Ee(r,e,t){let a="Unexpected state";typeof e=="string"?a=e:t=e,Ww(r,a,t)}function Ww(r,e,t){let a=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{a+=" CONTEXT: "+JSON.stringify(t)}catch{a+=" CONTEXT: "+t}throw Ns(a),new Error(a)}function Ze(r,e,t,a){let i="Unexpected state";typeof t=="string"?i=t:a=t,r||Ww(e,i,a)}function ke(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends zn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ei{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Zw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class u2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class d2{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let a=this.i;const i=p=>this.i!==a?(a=this.i,t(p)):Promise.resolve();let c=new Ei;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ei,e.enqueueRetryable((()=>i(this.currentUser)))};const d=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await i(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ei)}}),0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ze(typeof a.accessToken=="string",31837,{l:a}),new Zw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class h2{constructor(e,t,a){this.P=e,this.T=t,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class f2{constructor(e,t,a){this.P=e,this.T=t,this.I=a}getToken(){return Promise.resolve(new h2(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class m2{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const a=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const i=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>i(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?i(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ab(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ab(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function g2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}class yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const i=g2(40);for(let c=0;c<i.length;++c)a.length<20&&i[c]<t&&(a+=e.charAt(i[c]%62))}return a}}function Fe(r,e){return r<e?-1:r>e?1:0}function Vg(r,e){const t=Math.min(r.length,e.length);for(let a=0;a<t;a++){const i=r.charAt(a),c=e.charAt(a);if(i!==c)return pg(i)===pg(c)?Fe(i,c):pg(i)?1:-1}return Fe(r.length,e.length)}const p2=55296,y2=57343;function pg(r){const e=r.charCodeAt(0);return e>=p2&&e<=y2}function Bl(r,e,t){return r.length===e.length&&r.every(((a,i)=>t(a,e[i])))}const kb="__name__";class Cr{constructor(e,t,a){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),a===void 0?a=e.length-t:a>e.length-t&&Ee(1746,{length:a,range:e.length-t}),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach((a=>{t.push(a)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let i=0;i<a;i++){const c=Cr.compareSegments(e.get(i),t.get(i));if(c!==0)return c}return Fe(e.length,t.length)}static compareSegments(e,t){const a=Cr.isNumericId(e),i=Cr.isNumericId(t);return a&&!i?-1:!a&&i?1:a&&i?Cr.extractNumericId(e).compare(Cr.extractNumericId(t)):Vg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ea.fromString(e.substring(4,e.length-2))}}class it extends Cr{construct(e,t,a){return new it(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(re.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter((i=>i.length>0)))}return new it(t)}static emptyPath(){return new it([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Cr{construct(e,t,a){return new Wt(e,t,a)}static isValidIdentifier(e){return x2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kb}static keyField(){return new Wt([kb])}static fromServerFormat(e){const t=[];let a="",i=0;const c=()=>{if(a.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let d=!1;for(;i<e.length;){const m=e[i];if(m==="\\"){if(i+1===e.length)throw new de(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,i+=2}else m==="`"?(d=!d,i++):m!=="."||d?(a+=m,i++):(c(),i++)}if(c(),d)throw new de(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(it.fromString(e))}static fromName(e){return new _e(it.fromString(e).popFirst(5))}static empty(){return new _e(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return it.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new it(e.slice()))}}function eN(r,e,t){if(!t)throw new de(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function v2(r,e,t,a){if(e===!0&&a===!0)throw new de(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Cb(r){if(!_e.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rb(r){if(_e.isDocumentKey(r))throw new de(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function tN(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function xs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sh(r);throw new de(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function Rt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Hc(r,e){if(!tN(r))throw new de(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const a in e)if(e[a]){const i=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){t=`JSON missing required field: '${a}'`;break}const d=r[a];if(i&&typeof d!==i){t=`JSON field '${a}' must be a ${i}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${a}' field to equal '${c.value}'`;break}}if(t)throw new de(re.INVALID_ARGUMENT,t);return!0}const Ib=-62135596800,Db=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*Db);return new Xe(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ib)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Db}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hc(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ib;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:Rt("string",Xe._jsonSchemaVersion),seconds:Rt("number"),nanoseconds:Rt("number")};class je{static fromTimestamp(e){return new je(e)}static min(){return new je(new Xe(0,0))}static max(){return new je(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Cc=-1;function b2(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,i=je.fromTimestamp(a===1e9?new Xe(t+1,0):new Xe(t,a));return new Aa(i,_e.empty(),e)}function _2(r){return new Aa(r.readTime,r.key,Cc)}class Aa{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Aa(je.min(),_e.empty(),Cc)}static max(){return new Aa(je.max(),_e.empty(),Cc)}}function w2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Fe(r.largestBatchId,e.largestBatchId))}const N2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class E2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Zl(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==N2)throw r;he("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((a,i)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,i)},this.catchCallback=c=>{this.wrapFailure(t,c).next(a,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,a)=>{t(e)}))}static reject(e){return new se(((t,a)=>{a(e)}))}static waitFor(e){return new se(((t,a)=>{let i=0,c=0,d=!1;e.forEach((m=>{++i,m.next((()=>{++c,d&&c===i&&t()}),(p=>a(p)))})),d=!0,c===i&&t()}))}static or(e){let t=se.resolve(!1);for(const a of e)t=t.next((i=>i?se.resolve(i):a()));return t}static forEach(e,t){const a=[];return e.forEach(((i,c)=>{a.push(t.call(this,i,c))})),this.waitFor(a)}static mapArray(e,t){return new se(((a,i)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;t(e[y]).next((v=>{d[y]=v,++m,m===c&&a(d)}),(v=>i(v)))}}))}static doWhile(e,t){return new se(((a,i)=>{const c=()=>{e()===!0?t().next((()=>{c()}),i):a()};c()}))}}function T2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function eo(r){return r.name==="IndexedDbTransactionError"}class jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>t.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jh.ce=-1;const xp=-1;function Ah(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function S2(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const nN="";function j2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Mb(e)),e=A2(r.get(t),e);return Mb(e)}function A2(r,e){let t=e;const a=r.length;for(let i=0;i<a;i++){const c=r.charAt(i);switch(c){case"\0":t+="";break;case nN:t+="";break;default:t+=c}}return t}function Mb(r){return r+nN+""}function Ob(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Oa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function rN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,t){this.comparator=e,this.root=t||Jt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const i=this.comparator(e,a.key);if(i===0)return t+a.left.size;i<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,a)=>(e(t,a),!1)))}toString(){const e=[];return this.inorderTraversal(((t,a)=>(e.push(`${t}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rd(this.root,e,this.comparator,!0)}}class Rd{constructor(e,t,a,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?a(e.key,t):1,t&&i&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,t,a,i,c){this.key=e,this.value=t,this.color=a??Jt.RED,this.left=i??Jt.EMPTY,this.right=c??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,i,c){return new Jt(e??this.key,t??this.value,a??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let i=this;const c=a(e,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(e,t,a),null):c===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,a)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;a=i.right.min(),i=i.copy(a.key,a.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,a,i,c){return this}insert(e,t,a){return new Jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ot{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,a)=>(e(t),!1)))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const i=a.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pb(this.data.getIterator())}getIteratorFrom(e){return new Pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((a=>{t=t.add(a)})),t}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=a.getNext().key;if(this.comparator(i,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ot(this.comparator);return t.data=e,t}}class Pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Ot(Wt.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((t,a)=>t.isEqual(a)))}}class sN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sN("Invalid base64 string: "+c):c}})(e);return new en(t)}static fromUint8Array(e){const t=(function(i){let c="";for(let d=0;d<i.length;++d)c+=String.fromCharCode(i[d]);return c})(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const a=new Uint8Array(t.length);for(let i=0;i<t.length;i++)a[i]=t.charCodeAt(i);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const k2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ka(r){if(Ze(!!r,39018),typeof r=="string"){let e=0;const t=k2.exec(r);if(Ze(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ca(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const aN="server_timestamp",iN="__type__",lN="__previous_value__",oN="__local_write_time__";function vp(r){return(r?.mapValue?.fields||{})[iN]?.stringValue===aN}function kh(r){const e=r.mapValue.fields[lN];return vp(e)?kh(e):e}function Rc(r){const e=ka(r.mapValue.fields[oN].timestampValue);return new Xe(e.seconds,e.nanos)}class C2{constructor(e,t,a,i,c,d,m,p,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=v}}const th="(default)";class Ic{constructor(e,t){this.projectId=e,this.database=t||th}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}const cN="__type__",R2="__max__",Id={mapValue:{}},uN="__vector__",nh="value";function Ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vp(r)?4:D2(r)?9007199254740991:I2(r)?10:11:Ee(28295,{value:r})}function Ur(r,e){if(r===e)return!0;const t=Ra(r);if(t!==Ra(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Rc(r).isEqual(Rc(e));case 3:return(function(i,c){if(typeof i.timestampValue=="string"&&typeof c.timestampValue=="string"&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const d=ka(i.timestampValue),m=ka(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(i,c){return Ca(i.bytesValue).isEqual(Ca(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(i,c){return _t(i.geoPointValue.latitude)===_t(c.geoPointValue.latitude)&&_t(i.geoPointValue.longitude)===_t(c.geoPointValue.longitude)})(r,e);case 2:return(function(i,c){if("integerValue"in i&&"integerValue"in c)return _t(i.integerValue)===_t(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const d=_t(i.doubleValue),m=_t(c.doubleValue);return d===m?eh(d)===eh(m):isNaN(d)&&isNaN(m)}return!1})(r,e);case 9:return Bl(r.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return(function(i,c){const d=i.mapValue.fields||{},m=c.mapValue.fields||{};if(Ob(d)!==Ob(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!Ur(d[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function Dc(r,e){return(r.values||[]).find((t=>Ur(t,e)))!==void 0}function ql(r,e){if(r===e)return 0;const t=Ra(r),a=Ra(e);if(t!==a)return Fe(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const m=_t(c.integerValue||c.doubleValue),p=_t(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Lb(r.timestampValue,e.timestampValue);case 4:return Lb(Rc(r),Rc(e));case 5:return Vg(r.stringValue,e.stringValue);case 6:return(function(c,d){const m=Ca(c),p=Ca(d);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const v=Fe(m[y],p[y]);if(v!==0)return v}return Fe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const m=Fe(_t(c.latitude),_t(d.latitude));return m!==0?m:Fe(_t(c.longitude),_t(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Vb(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const m=c.fields||{},p=d.fields||{},y=m[nh]?.arrayValue,v=p[nh]?.arrayValue,b=Fe(y?.values?.length||0,v?.values?.length||0);return b!==0?b:Vb(y,v)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Id.mapValue&&d===Id.mapValue)return 0;if(c===Id.mapValue)return 1;if(d===Id.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},v=Object.keys(y);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const N=Vg(p[b],v[b]);if(N!==0)return N;const R=ql(m[p[b]],y[v[b]]);if(R!==0)return R}return Fe(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function Lb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Fe(r,e);const t=ka(r),a=ka(e),i=Fe(t.seconds,a.seconds);return i!==0?i:Fe(t.nanos,a.nanos)}function Vb(r,e){const t=r.values||[],a=e.values||[];for(let i=0;i<t.length&&i<a.length;++i){const c=ql(t[i],a[i]);if(c)return c}return Fe(t.length,a.length)}function Hl(r){return Ug(r)}function Ug(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const a=ka(t);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ca(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return _e.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let a="[",i=!0;for(const c of t.values||[])i?i=!1:a+=",",a+=Ug(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(t){const a=Object.keys(t.fields||{}).sort();let i="{",c=!0;for(const d of a)c?c=!1:i+=",",i+=`${d}:${Ug(t.fields[d])}`;return i+"}"})(r.mapValue):Ee(61005,{value:r})}function Fd(r){switch(Ra(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(r);return e?16+Fd(e):16;case 5:return 2*r.stringValue.length;case 6:return Ca(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((i,c)=>i+Fd(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let i=0;return Oa(a.fields,((c,d)=>{i+=c.length+Fd(d)})),i})(r.mapValue);default:throw Ee(13486,{value:r})}}function Ub(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function zg(r){return!!r&&"integerValue"in r}function bp(r){return!!r&&"arrayValue"in r}function zb(r){return!!r&&"nullValue"in r}function Fb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bd(r){return!!r&&"mapValue"in r}function I2(r){return(r?.mapValue?.fields||{})[cN]?.stringValue===uN}function bc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Oa(r.mapValue.fields,((t,a)=>e.mapValue.fields[t]=bc(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bc(r.arrayValue.values[t]);return e}return{...r}}function D2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===R2}class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(t)}setAll(e){let t=Wt.emptyPath(),a={},i=[];e.forEach(((d,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,a,i),a={},i=[],t=m.popLast()}d?a[m.lastSegment()]=bc(d):i.push(m.lastSegment())}));const c=this.getFieldsMap(t);this.applyChanges(c,a,i)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let i=t.mapValue.fields[e.get(a)];Bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,a){Oa(t,((i,c)=>e[i]=c));for(const i of a)delete e[i]}clone(){return new Sn(bc(this.value))}}function dN(r){const e=[];return Oa(r.fields,((t,a)=>{const i=new Wt([t]);if(Bd(a)){const c=dN(a.mapValue).fields;if(c.length===0)e.push(i);else for(const d of c)e.push(i.child(d))}else e.push(i)})),new Ln(e)}class ln{constructor(e,t,a,i,c,d,m){this.key=e,this.documentType=t,this.version=a,this.readTime=i,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,je.min(),je.min(),je.min(),Sn.empty(),0)}static newFoundDocument(e,t,a,i){return new ln(e,1,t,je.min(),a,i,0)}static newNoDocument(e,t){return new ln(e,2,t,je.min(),je.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,je.min(),je.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,t){this.position=e,this.inclusive=t}}function Bb(r,e,t){let a=0;for(let i=0;i<r.position.length;i++){const c=e[i],d=r.position[i];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),t.key):a=ql(d,t.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function qb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ur(r.position[t],e.position[t]))return!1;return!0}class Mc{constructor(e,t="asc"){this.field=e,this.dir=t}}function M2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class hN{}class Ct extends hN{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new P2(e,t,a):t==="array-contains"?new U2(e,a):t==="in"?new z2(e,a):t==="not-in"?new F2(e,a):t==="array-contains-any"?new B2(e,a):new Ct(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new L2(e,a):new V2(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ql(t,this.value)):t!==null&&Ra(this.value)===Ra(t)&&this.matchesComparison(ql(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gr extends hN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new gr(e,t)}matches(e){return fN(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fN(r){return r.op==="and"}function mN(r){return O2(r)&&fN(r)}function O2(r){for(const e of r.filters)if(e instanceof gr)return!1;return!0}function Fg(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+Hl(r.value);if(mN(r))return r.filters.map((e=>Fg(e))).join(",");{const e=r.filters.map((t=>Fg(t))).join(",");return`${r.op}(${e})`}}function gN(r,e){return r instanceof Ct?(function(a,i){return i instanceof Ct&&a.op===i.op&&a.field.isEqual(i.field)&&Ur(a.value,i.value)})(r,e):r instanceof gr?(function(a,i){return i instanceof gr&&a.op===i.op&&a.filters.length===i.filters.length?a.filters.reduce(((c,d,m)=>c&&gN(d,i.filters[m])),!0):!1})(r,e):void Ee(19439)}function pN(r){return r instanceof Ct?(function(t){return`${t.field.canonicalString()} ${t.op} ${Hl(t.value)}`})(r):r instanceof gr?(function(t){return t.op.toString()+" {"+t.getFilters().map(pN).join(" ,")+"}"})(r):"Filter"}class P2 extends Ct{constructor(e,t,a){super(e,t,a),this.key=_e.fromName(a.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class L2 extends Ct{constructor(e,t){super(e,"in",t),this.keys=yN("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class V2 extends Ct{constructor(e,t){super(e,"not-in",t),this.keys=yN("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function yN(r,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class U2 extends Ct{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bp(t)&&Dc(t.arrayValue,this.value)}}class z2 extends Ct{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Dc(this.value.arrayValue,t)}}class F2 extends Ct{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Dc(this.value.arrayValue,t)}}class B2 extends Ct{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bp(t)||!t.arrayValue.values)&&t.arrayValue.values.some((a=>Dc(this.value.arrayValue,a)))}}class q2{constructor(e,t=null,a=[],i=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=i,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function Hb(r,e=null,t=[],a=[],i=null,c=null,d=null){return new q2(r,e,t,a,i,c,d)}function _p(r){const e=ke(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((a=>Fg(a))).join(","),t+="|ob:",t+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((a=>Hl(a))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((a=>Hl(a))).join(",")),e.Te=t}return e.Te}function wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!M2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!gN(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qb(r.startAt,e.startAt)&&qb(r.endAt,e.endAt)}function Bg(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class to{constructor(e,t=null,a=[],i=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=i,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function H2(r,e,t,a,i,c,d,m){return new to(r,e,t,a,i,c,d,m)}function Np(r){return new to(r)}function $b(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xN(r){return r.collectionGroup!==null}function _c(r){const e=ke(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ot(Wt.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Mc(c,a))})),t.has(Wt.keyField().canonicalString())||e.Ie.push(new Mc(Wt.keyField(),a))}return e.Ie}function Ir(r){const e=ke(r);return e.Ee||(e.Ee=$2(e,_c(r))),e.Ee}function $2(r,e){if(r.limitType==="F")return Hb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((i=>{const c=i.dir==="desc"?"asc":"desc";return new Mc(i.field,c)}));const t=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return Hb(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function qg(r,e){const t=r.filters.concat([e]);return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function sh(r,e,t){return new to(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ch(r,e){return wp(Ir(r),Ir(e))&&r.limitType===e.limitType}function vN(r){return`${_p(Ir(r))}|lt:${r.limitType}`}function Rl(r){return`Query(target=${(function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map((i=>pN(i))).join(", ")}]`),Ah(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map((i=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(i))).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map((i=>Hl(i))).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map((i=>Hl(i))).join(",")),`Target(${a})`})(Ir(r))}; limitType=${r.limitType})`}function Rh(r,e){return e.isFoundDocument()&&(function(a,i){const c=i.key.path;return a.collectionGroup!==null?i.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,i){for(const c of _c(a))if(!c.field.isKeyField()&&i.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,i){for(const c of a.filters)if(!c.matches(i))return!1;return!0})(r,e)&&(function(a,i){return!(a.startAt&&!(function(d,m,p){const y=Bb(d,m,p);return d.inclusive?y<=0:y<0})(a.startAt,_c(a),i)||a.endAt&&!(function(d,m,p){const y=Bb(d,m,p);return d.inclusive?y>=0:y>0})(a.endAt,_c(a),i))})(r,e)}function G2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bN(r){return(e,t)=>{let a=!1;for(const i of _c(r)){const c=K2(i,e,t);if(c!==0)return c;a=a||i.field.isKeyField()}return 0}}function K2(r,e,t){const a=r.field.isKeyField()?_e.comparator(e.key,t.key):(function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?ql(p,y):Ee(42886)})(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee(19790,{direction:r.dir})}}class Oi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[i,c]of a)if(this.equalsFn(i,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),i=this.inner[a];if(i===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return void(i[c]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return a.length===1?delete this.inner[t]:a.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,((t,a)=>{for(const[i,c]of a)e(i,c)}))}isEmpty(){return rN(this.inner)}size(){return this.innerSize}}const Y2=new ft(_e.comparator);function Es(){return Y2}const _N=new ft(_e.comparator);function mc(...r){let e=_N;for(const t of r)e=e.insert(t.key,t);return e}function wN(r){let e=_N;return r.forEach(((t,a)=>e=e.insert(t,a.overlayedDocument))),e}function _i(){return wc()}function NN(){return wc()}function wc(){return new Oi((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Q2=new ft(_e.comparator),X2=new Ot(_e.comparator);function Be(...r){let e=X2;for(const t of r)e=e.add(t);return e}const J2=new Ot(Fe);function W2(){return J2}function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function EN(r){return{integerValue:""+r}}function Z2(r,e){return S2(e)?EN(e):Ep(r,e)}class Ih{constructor(){this._=void 0}}function eC(r,e,t){return r instanceof Oc?(function(i,c){const d={fields:{[iN]:{stringValue:aN},[oN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&vp(c)&&(c=kh(c)),c&&(d.fields[lN]=c),{mapValue:d}})(t,e):r instanceof Pc?SN(r,e):r instanceof Lc?jN(r,e):(function(i,c){const d=TN(i,c),m=Gb(d)+Gb(i.Ae);return zg(d)&&zg(i.Ae)?EN(m):Ep(i.serializer,m)})(r,e)}function tC(r,e,t){return r instanceof Pc?SN(r,e):r instanceof Lc?jN(r,e):t}function TN(r,e){return r instanceof ah?(function(a){return zg(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class Oc extends Ih{}class Pc extends Ih{constructor(e){super(),this.elements=e}}function SN(r,e){const t=AN(e);for(const a of r.elements)t.some((i=>Ur(i,a)))||t.push(a);return{arrayValue:{values:t}}}class Lc extends Ih{constructor(e){super(),this.elements=e}}function jN(r,e){let t=AN(e);for(const a of r.elements)t=t.filter((i=>!Ur(i,a)));return{arrayValue:{values:t}}}class ah extends Ih{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Gb(r){return _t(r.integerValue||r.doubleValue)}function AN(r){return bp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class nC{constructor(e,t){this.field=e,this.transform=t}}function rC(r,e){return r.field.isEqual(e.field)&&(function(a,i){return a instanceof Pc&&i instanceof Pc||a instanceof Lc&&i instanceof Lc?Bl(a.elements,i.elements,Ur):a instanceof ah&&i instanceof ah?Ur(a.Ae,i.Ae):a instanceof Oc&&i instanceof Oc})(r.transform,e.transform)}class sC{constructor(e,t){this.version=e,this.transformResults=t}}class dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dh{}function kN(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new RN(r.key,dr.none()):new $c(r.key,r.data,dr.none());{const t=r.data,a=Sn.empty();let i=new Ot(Wt.comparator);for(let c of e.fields)if(!i.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?a.delete(c):a.set(c,d),i=i.add(c)}return new Pa(r.key,a,new Ln(i.toArray()),dr.none())}}function aC(r,e,t){r instanceof $c?(function(i,c,d){const m=i.value.clone(),p=Yb(i.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(r,e,t):r instanceof Pa?(function(i,c,d){if(!qd(i.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Yb(i.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(CN(i)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,t):(function(i,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,t)}function Nc(r,e,t,a){return r instanceof $c?(function(c,d,m,p){if(!qd(c.precondition,d))return m;const y=c.value.clone(),v=Qb(c.fieldTransforms,p,d);return y.setAll(v),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,t,a):r instanceof Pa?(function(c,d,m,p){if(!qd(c.precondition,d))return m;const y=Qb(c.fieldTransforms,p,d),v=d.data;return v.setAll(CN(c)),v.setAll(y),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,e,t,a):(function(c,d,m){return qd(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(r,e,t)}function iC(r,e){let t=null;for(const a of r.fieldTransforms){const i=e.data.field(a.field),c=TN(a.transform,i||null);c!=null&&(t===null&&(t=Sn.empty()),t.set(a.field,c))}return t||null}function Kb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,i){return a===void 0&&i===void 0||!(!a||!i)&&Bl(a,i,((c,d)=>rC(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $c extends Dh{constructor(e,t,a,i=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pa extends Dh{constructor(e,t,a,i,c=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function CN(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}})),e}function Yb(r,e,t){const a=new Map;Ze(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const c=r[i],d=c.transform,m=e.data.field(c.field);a.set(c.field,tC(d,m,t[i]))}return a}function Qb(r,e,t){const a=new Map;for(const i of r){const c=i.transform,d=t.data.field(i.field);a.set(i.field,eC(c,d,e))}return a}class RN extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lC extends Dh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oC{constructor(e,t,a,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=i}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(e.key)&&aC(c,e,a[i])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Nc(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Nc(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=NN();return this.mutations.forEach((i=>{const c=e.get(i.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(i.key)?null:m;const p=kN(d,m);p!==null&&a.set(i.key,p),d.isValidDocument()||d.convertToNoDocument(je.min())})),a}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((t,a)=>Kb(t,a)))&&Bl(this.baseMutations,e.baseMutations,((t,a)=>Kb(t,a)))}}class Tp{constructor(e,t,a,i){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=i}static from(e,t,a){Ze(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let i=(function(){return Q2})();const c=e.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,a[d].version);return new Tp(e,t,a,i)}}class cC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uC{constructor(e,t){this.count=e,this.unchangedNames=t}}var kt,$e;function dC(r){switch(r){case re.OK:return Ee(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function IN(r){if(r===void 0)return Ns("GRPC error has no .code"),re.UNKNOWN;switch(r){case kt.OK:return re.OK;case kt.CANCELLED:return re.CANCELLED;case kt.UNKNOWN:return re.UNKNOWN;case kt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case kt.INTERNAL:return re.INTERNAL;case kt.UNAVAILABLE:return re.UNAVAILABLE;case kt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case kt.NOT_FOUND:return re.NOT_FOUND;case kt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case kt.ABORTED:return re.ABORTED;case kt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case kt.DATA_LOSS:return re.DATA_LOSS;default:return Ee(39323,{code:r})}}($e=kt||(kt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function hC(){return new TextEncoder}const fC=new Ea([4294967295,4294967295],0);function Xb(r){const e=hC().encode(r),t=new Gw;return t.update(e),new Uint8Array(t.digest())}function Jb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),i=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ea([t,a],0),new Ea([i,c],0)]}class Sp{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new gc(`Invalid padding: ${t}`);if(a<0)throw new gc(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new gc(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new gc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ea.fromNumber(this.ge)}ye(e,t,a){let i=e.add(t.multiply(Ea.fromNumber(a)));return i.compare(fC)===1&&(i=new Ea([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Xb(e),[a,i]=Jb(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,i,c);if(!this.we(d))return!1}return!0}static create(e,t,a){const i=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Sp(c,i,t);return a.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const t=Xb(e),[a,i]=Jb(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,i,c);this.Se(d)}}Se(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class gc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mh{constructor(e,t,a,i,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const i=new Map;return i.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Mh(je.min(),i,new ft(Fe),Es(),Be())}}class Gc{constructor(e,t,a,i,c){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Gc(a,t,Be(),Be(),Be())}}class Hd{constructor(e,t,a,i){this.be=e,this.removedTargetIds=t,this.key=a,this.De=i}}class DN{constructor(e,t){this.targetId=e,this.Ce=t}}class MN{constructor(e,t,a=en.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=i}}class Wb{constructor(){this.ve=0,this.Fe=Zb(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),a=Be();return this.Fe.forEach(((i,c)=>{switch(c){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:a=a.add(i);break;default:Ee(38017,{changeType:c})}})),new Gc(this.Me,this.xe,e,t,a)}qe(){this.Oe=!1,this.Fe=Zb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class mC{constructor(e){this.Ge=e,this.ze=new Map,this.je=Es(),this.Je=Dd(),this.He=Dd(),this.Ye=new ft(Fe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const a=this.nt(t);switch(e.state){case 0:this.rt(t)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),a.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((a,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,a=e.Ce.count,i=this.ot(t);if(i){const c=i.target;if(Bg(c))if(a===0){const d=new _e(c.path);this.et(t,d,ln.newNoDocument(d,je.min()))}else Ze(a===1,20013,{expectedCount:a});else{const d=this._t(t);if(d!==a){const m=this.ut(e),p=m?this.ct(m,e,d):1;if(p!==0){this.it(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:i=0},hashCount:c=0}=t;let d,m;try{d=Ca(a).toUint8Array()}catch(p){if(p instanceof sN)return Fl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Sp(d,i,c)}catch(p){return Fl(p instanceof gc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,a){return t.Ce.count===a-this.Pt(e,t.targetId)?0:2}Pt(e,t){const a=this.Ge.getRemoteKeysForTarget(t);let i=0;return a.forEach((c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Bg(m.target)){const p=new _e(m.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,ln.newNoDocument(p,e))}c.Be&&(t.set(d,c.ke()),c.qe())}}));let a=Be();this.He.forEach(((c,d)=>{let m=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const i=new Mh(e,t,this.Ye,this.je,a);return this.je=Es(),this.Je=Dd(),this.He=Dd(),this.Ye=new ft(Fe),i}Xe(e,t){if(!this.rt(e))return;const a=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,a),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,a){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),a&&(this.je=this.je.insert(t,a))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Wb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ot(Fe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ot(Fe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dd(){return new ft(_e.comparator)}function Zb(){return new ft(_e.comparator)}const gC={asc:"ASCENDING",desc:"DESCENDING"},pC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yC={and:"AND",or:"OR"};class xC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hg(r,e){return r.useProto3Json||Ah(e)?e:{value:e}}function ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ON(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vC(r,e){return ih(r,e.toTimestamp())}function Dr(r){return Ze(!!r,49232),je.fromTimestamp((function(t){const a=ka(t);return new Xe(a.seconds,a.nanos)})(r))}function jp(r,e){return $g(r,e).canonicalString()}function $g(r,e){const t=(function(i){return new it(["projects",i.projectId,"databases",i.database])})(r).child("documents");return e===void 0?t:t.child(e)}function PN(r){const e=it.fromString(r);return Ze(FN(e),10190,{key:e.toString()}),e}function Gg(r,e){return jp(r.databaseId,e.path)}function yg(r,e){const t=PN(e);if(t.get(1)!==r.databaseId.projectId)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new de(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(VN(t))}function LN(r,e){return jp(r.databaseId,e)}function bC(r){const e=PN(r);return e.length===4?it.emptyPath():VN(e)}function Kg(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function VN(r){return Ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function e_(r,e,t){return{name:Gg(r,e),fields:t.value.mapValue.fields}}function _C(r,e){let t;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],c=(function(y,v){return y.useProto3Json?(Ze(v===void 0||typeof v=="string",58123),en.fromBase64String(v||"")):(Ze(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),en.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const v=y.code===void 0?re.UNKNOWN:IN(y.code);return new de(v,y.message||"")})(d);t=new MN(a,i,c,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const i=yg(r,a.document.name),c=Dr(a.document.updateTime),d=a.document.createTime?Dr(a.document.createTime):je.min(),m=new Sn({mapValue:{fields:a.document.fields}}),p=ln.newFoundDocument(i,c,d,m),y=a.targetIds||[],v=a.removedTargetIds||[];t=new Hd(y,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const i=yg(r,a.document),c=a.readTime?Dr(a.readTime):je.min(),d=ln.newNoDocument(i,c),m=a.removedTargetIds||[];t=new Hd([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const i=yg(r,a.document),c=a.removedTargetIds||[];t=new Hd([],c,i,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:i=0,unchangedNames:c}=a,d=new uC(i,c),m=a.targetId;t=new DN(m,d)}}return t}function wC(r,e){let t;if(e instanceof $c)t={update:e_(r,e.key,e.value)};else if(e instanceof RN)t={delete:Gg(r,e.key)};else if(e instanceof Pa)t={update:e_(r,e.key,e.data),updateMask:RC(e.fieldMask)};else{if(!(e instanceof lC))return Ee(16599,{Vt:e.type});t={verify:Gg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const m=d.transform;if(m instanceof Oc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Pc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ah)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(t.currentDocument=(function(i,c){return c.updateTime!==void 0?{updateTime:vC(i,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ee(27497)})(r,e.precondition)),t}function NC(r,e){return r&&r.length>0?(Ze(e!==void 0,14353),r.map((t=>(function(i,c){let d=i.updateTime?Dr(i.updateTime):Dr(c);return d.isEqual(je.min())&&(d=Dr(c)),new sC(d,i.transformResults||[])})(t,e)))):[]}function EC(r,e){return{documents:[LN(r,e.path)]}}function TC(r,e){const t={structuredQuery:{}},a=e.path;let i;e.collectionGroup!==null?(i=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=LN(r,i);const c=(function(y){if(y.length!==0)return zN(gr.create(y,"and"))})(e.filters);c&&(t.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((v=>(function(N){return{field:Il(N.field),direction:AC(N.dir)}})(v)))})(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=Hg(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:t,parent:i}}function SC(r){let e=bC(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let i=null;if(a>0){Ze(a===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let c=[];t.where&&(c=(function(b){const N=UN(b);return N instanceof gr&&mN(N)?N.getFilters():[N]})(t.where));let d=[];t.orderBy&&(d=(function(b){return b.map((N=>(function(M){return new Mc(Dl(M.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(N)))})(t.orderBy));let m=null;t.limit&&(m=(function(b){let N;return N=typeof b=="object"?b.value:b,Ah(N)?null:N})(t.limit));let p=null;t.startAt&&(p=(function(b){const N=!!b.before,R=b.values||[];return new rh(R,N)})(t.startAt));let y=null;return t.endAt&&(y=(function(b){const N=!b.before,R=b.values||[];return new rh(R,N)})(t.endAt)),H2(e,i,d,c,m,"F",p,y)}function jC(r,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function UN(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Dl(t.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const i=Dl(t.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Dl(t.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Dl(t.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ct.create(Dl(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return gr.create(t.compositeFilter.filters.map((a=>UN(a))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(r):Ee(30097,{filter:r})}function AC(r){return gC[r]}function kC(r){return pC[r]}function CC(r){return yC[r]}function Il(r){return{fieldPath:r.canonicalString()}}function Dl(r){return Wt.fromServerFormat(r.fieldPath)}function zN(r){return r instanceof Ct?(function(t){if(t.op==="=="){if(Fb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NAN"}};if(zb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Fb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NAN"}};if(zb(t.value))return{unaryFilter:{field:Il(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(t.field),op:kC(t.op),value:t.value}}})(r):r instanceof gr?(function(t){const a=t.getFilters().map((i=>zN(i)));return a.length===1?a[0]:{compositeFilter:{op:CC(t.op),filters:a}}})(r):Ee(54877,{filter:r})}function RC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function FN(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class _a{constructor(e,t,a,i,c=je.min(),d=je.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new _a(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _a(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class IC{constructor(e){this.yt=e}}function DC(r){const e=SC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sh(e,e.limit,"L"):e}class MC{constructor(){this.Cn=new OC}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Aa.min())}updateCollectionGroup(e,t,a){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class OC{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t]||new Ot(it.comparator),c=!i.has(a);return this.index[t]=i.add(a),c}has(e){const t=e.lastSegment(),a=e.popLast(),i=this.index[t];return i&&i.has(a)}getEntries(e){return(this.index[e]||new Ot(it.comparator)).toArray()}}const t_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BN=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(BN,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class $l{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new $l(0)}static cr(){return new $l(-1)}}const n_="LruGarbageCollector",PC=1048576;function r_([r,e],[t,a]){const i=Fe(r,t);return i===0?Fe(e,a):i}class LC{constructor(e){this.Ir=e,this.buffer=new Ot(r_),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();r_(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VC{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(n_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){eo(t)?he(n_,"Ignoring IndexedDB error during garbage collection: ",t):await Zl(t)}await this.Vr(3e5)}))}}class UC{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((a=>Math.floor(t/100*a)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(jh.ce);const a=new LC(t);return this.mr.forEachTarget(e,(i=>a.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>a.Ar(i))))).next((()=>a.maxValue))}removeTargets(e,t,a){return this.mr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(t_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let a,i,c,d,m,p,y;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),i=this.params.maximumSequenceNumbersToCollect):i=b,d=Date.now(),this.nthSequenceNumber(e,i)))).next((b=>(a=b,m=Date.now(),this.removeTargets(e,a,t)))).next((b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(y=Date.now(),Cl()<=ze.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${i} in `+(m-d)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:c,documentsRemoved:b}))))}}function zC(r,e){return new UC(r,e)}class FC{constructor(){this.changes=new Oi((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?se.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class BC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class qC{constructor(e,t,a,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=i}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(a=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(a!==null&&Nc(a.mutation,i,Ln.empty(),Xe.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,t,a=Be()){const i=_i();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,a).next((c=>{let d=mc();return c.forEach(((m,p)=>{d=d.insert(m,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,t){const a=_i();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,Be())))}populateOverlays(e,t,a){const i=[];return a.forEach((c=>{t.has(c)||i.push(c)})),this.documentOverlayCache.getOverlays(e,i).next((c=>{c.forEach(((d,m)=>{t.set(d,m)}))}))}computeViews(e,t,a,i){let c=Es();const d=wc(),m=(function(){return wc()})();return t.forEach(((p,y)=>{const v=a.get(y.key);i.has(y.key)&&(v===void 0||v.mutation instanceof Pa)?c=c.insert(y.key,y):v!==void 0?(d.set(y.key,v.mutation.getFieldMask()),Nc(v.mutation,y,v.mutation.getFieldMask(),Xe.now())):d.set(y.key,Ln.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((y,v)=>d.set(y,v))),t.forEach(((y,v)=>m.set(y,new BC(v,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,t){const a=wc();let i=new ft(((d,m)=>d-m)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((d=>{for(const m of d)m.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let v=a.get(p)||Ln.empty();v=m.applyToLocalView(y,v),a.set(p,v);const b=(i.get(m.batchId)||Be()).add(p);i=i.insert(m.batchId,b)}))})).next((()=>{const d=[],m=i.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,v=p.value,b=NN();v.forEach((N=>{if(!c.has(N)){const R=kN(t.get(N),a.get(N));R!==null&&b.set(N,R),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return se.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,t,a,i){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,i):this.getDocumentsMatchingCollectionQuery(e,t,a,i)}getNextDocuments(e,t,a,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,i).next((c=>{const d=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,i-c.size):se.resolve(_i());let m=Cc,p=c;return d.next((y=>se.forEach(y,((v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((N=>{p=p.insert(v,N)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,p,y,Be()))).next((v=>({batchId:m,changes:wN(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((a=>{let i=mc();return a.isFoundDocument()&&(i=i.insert(a.key,a)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,a,i){const c=t.collectionGroup;let d=mc();return this.indexManager.getCollectionParents(e,c).next((m=>se.forEach(m,(p=>{const y=(function(b,N){return new to(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,i).next((v=>{v.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,t,a,i){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,c,i)))).next((d=>{c.forEach(((p,y)=>{const v=y.getKey();d.get(v)===null&&(d=d.insert(v,ln.newInvalidDocument(v)))}));let m=mc();return d.forEach(((p,y)=>{const v=c.get(p);v!==void 0&&Nc(v.mutation,y,Ln.empty(),Xe.now()),Rh(t,y)&&(m=m.insert(p,y))})),m}))}}class HC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Dr(i.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:DC(i.bundledQuery),readTime:Dr(i.readTime)}})(t)),se.resolve()}}class $C{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const a=_i();return se.forEach(t,(i=>this.getOverlay(e,i).next((c=>{c!==null&&a.set(i,c)})))).next((()=>a))}saveOverlays(e,t,a){return a.forEach(((i,c)=>{this.St(e,t,c)})),se.resolve()}removeOverlaysForBatchId(e,t,a){const i=this.qr.get(a);return i!==void 0&&(i.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),se.resolve()}getOverlaysForCollection(e,t,a){const i=_i(),c=t.length+1,d=new _e(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&i.set(p.getKey(),p)}return se.resolve(i)}getOverlaysForCollectionGroup(e,t,a,i){let c=new ft(((y,v)=>y-v));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>a){let v=c.get(y.largestBatchId);v===null&&(v=_i(),c=c.insert(y.largestBatchId,v)),v.set(y.getKey(),y)}}const m=_i(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,v)=>m.set(y,v))),!(m.size()>=i)););return se.resolve(m)}St(e,t,a){const i=this.overlays.get(a.key);if(i!==null){const d=this.qr.get(i.largestBatchId).delete(a.key);this.qr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new cC(t,a));let c=this.qr.get(t);c===void 0&&(c=Be(),this.qr.set(t,c)),this.qr.set(t,c.add(a.key))}}class GC{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}class Ap{constructor(){this.Qr=new Ot(Ft.$r),this.Ur=new Ot(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const a=new Ft(e,t);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,t){e.forEach((a=>this.addReference(a,t)))}removeReference(e,t){this.Gr(new Ft(e,t))}zr(e,t){e.forEach((a=>this.removeReference(a,t)))}jr(e){const t=new _e(new it([])),a=new Ft(t,e),i=new Ft(t,e+1),c=[];return this.Ur.forEachInRange([a,i],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new it([])),a=new Ft(t,e),i=new Ft(t,e+1);let c=Be();return this.Ur.forEachInRange([a,i],(d=>{c=c.add(d.key)})),c}containsKey(e){const t=new Ft(e,0),a=this.Qr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||Fe(e.Yr,t.Yr)}static Kr(e,t){return Fe(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}class KC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ot(Ft.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,i){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new oC(c,t,a,i);this.mutationQueue.push(d);for(const m of i)this.Zr=this.Zr.add(new Ft(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,i=this.ei(a),c=i<0?0:i;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new Ft(t,0),i=new Ft(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,i],(d=>{const m=this.Xr(d.Yr);c.push(m)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Ot(Fe);return t.forEach((i=>{const c=new Ft(i,0),d=new Ft(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(m=>{a=a.add(m.Yr)}))})),se.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,i=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new _e(c),0);let m=new Ot(Fe);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===i&&(m=m.add(p.Yr)),!0)}),d),se.resolve(this.ti(m))}ti(e){const t=[];return e.forEach((a=>{const i=this.Xr(a);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){Ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return se.forEach(t.mutations,(i=>{const c=new Ft(i.key,t.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,t){const a=new Ft(t,0),i=this.Zr.firstAfterOrEqual(a);return se.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class YC{constructor(e){this.ri=e,this.docs=(function(){return new ft(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,i=this.docs.get(a),c=i?i.size:0,d=this.ri(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return se.resolve(a?a.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let a=Es();return t.forEach((i=>{const c=this.docs.get(i);a=a.insert(i,c?c.document.mutableCopy():ln.newInvalidDocument(i))})),se.resolve(a)}getDocumentsMatchingQuery(e,t,a,i){let c=Es();const d=t.path,m=new _e(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:v}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||w2(_2(v),a)<=0||(i.has(v.key)||Rh(t,v))&&(c=c.insert(v.key,v.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,t,a,i){Ee(9500)}ii(e,t){return se.forEach(this.docs,(a=>t(a)))}newChangeBuffer(e){return new QC(this)}getSize(e){return se.resolve(this.size)}}class QC extends FC{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((a,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(a)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class XC{constructor(e){this.persistence=e,this.si=new Oi((t=>_p(t)),wp),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.oi=0,this._i=new Ap,this.targetCount=0,this.ai=$l.ur()}forEachTarget(e,t){return this.si.forEach(((a,i)=>t(i))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new $l(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,a){let i=0;const c=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=t&&a.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)})),se.waitFor(c).next((()=>i))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const a=this.si.get(t)||null;return se.resolve(a)}addMatchingKeys(e,t,a){return this._i.Wr(t,a),se.resolve()}removeMatchingKeys(e,t,a){this._i.zr(t,a);const i=this.persistence.referenceDelegate,c=[];return i&&t.forEach((d=>{c.push(i.markPotentiallyOrphaned(e,d))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const a=this._i.Hr(t);return se.resolve(a)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}class qN{constructor(e,t){this.ui={},this.overlays={},this.ci=new jh(0),this.li=!1,this.li=!0,this.hi=new GC,this.referenceDelegate=e(this),this.Pi=new XC(this),this.indexManager=new MC,this.remoteDocumentCache=(function(i){return new YC(i)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new IC(t),this.Ii=new HC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $C,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.ui[e.toKey()];return a||(a=new KC(t,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,a){he("MemoryPersistence","Starting transaction:",e);const i=new JC(this.ci.next());return this.referenceDelegate.Ei(),a(i).next((c=>this.referenceDelegate.di(i).next((()=>c)))).toPromise().then((c=>(i.raiseOnCommittedEvent(),c)))}Ai(e,t){return se.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,t))))}}class JC extends E2{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.Ri=new Ap,this.Vi=null}static mi(e){return new kp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,a){return this.Ri.addReference(a,t),this.fi.delete(a.toString()),se.resolve()}removeReference(e,t,a){return this.Ri.removeReference(a,t),this.fi.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(a=>{const i=_e.fromPath(a);return this.gi(e,i).next((c=>{c||t.removeEntry(i,je.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((a=>{a?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class lh{constructor(e,t){this.persistence=e,this.pi=new Oi((a=>j2(a.path)),((a,i)=>a.isEqual(i))),this.garbageCollector=zC(this,t)}static mi(e,t){return new lh(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>t.next((i=>a+i))))}wr(e){let t=0;return this.pr(e,(a=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((a,i)=>this.br(e,a,i).next((c=>c?se.resolve():t(i)))))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const i=this.persistence.getRemoteDocumentCache(),c=i.newChangeBuffer();return i.ii(e,(d=>this.br(e,d,t).next((m=>{m||(a++,c.removeEntry(d,je.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,t,a){return this.pi.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Fd(e.data.value)),t}br(e,t,a){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return se.resolve(i!==void 0&&i>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cp{constructor(e,t,a,i){this.targetId=e,this.fromCache=t,this.Es=a,this.ds=i}static As(e,t){let a=Be(),i=Be();for(const c of t.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new Cp(e,t.fromCache,a,i)}}class WC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ZC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return qA()?8:T2(on())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,a,i){const c={result:null};return this.ys(e,t).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,t,i,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new WC;return this.Ss(e,t,d).next((m=>{if(c.result=m,this.Vs)return this.bs(e,t,d,m.size)}))})).next((()=>c.result))}bs(e,t,a,i){return a.documentReadCount<this.fs?(Cl()<=ze.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Rl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(Cl()<=ze.DEBUG&&he("QueryEngine","Query:",Rl(t),"scans",a.documentReadCount,"local documents and returns",i,"documents as results."),a.documentReadCount>this.gs*i?(Cl()<=ze.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Rl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ir(t))):se.resolve())}ys(e,t){if($b(t))return se.resolve(null);let a=Ir(t);return this.indexManager.getIndexType(e,a).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=sh(t,null,"F"),a=Ir(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const y=this.Ds(t,m);return this.Cs(t,y,d,p.readTime)?this.ys(e,sh(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ws(e,t,a,i){return $b(t)||i.isEqual(je.min())?se.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(t,c);return this.Cs(t,d,a,i)?se.resolve(null):(Cl()<=ze.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Rl(t)),this.vs(e,d,t,b2(i,Cc)).next((m=>m)))}))}Ds(e,t){let a=new Ot(bN(e));return t.forEach(((i,c)=>{Rh(e,c)&&(a=a.add(c))})),a}Cs(e,t,a,i){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Ss(e,t,a){return Cl()<=ze.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Rl(t)),this.ps.getDocumentsMatchingQuery(e,t,Aa.min(),a)}vs(e,t,a,i){return this.ps.getDocumentsMatchingQuery(e,a,i).next((c=>(t.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Rp="LocalStore",eR=3e8;class tR{constructor(e,t,a,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new ft(Fe),this.xs=new Oi((c=>_p(c)),wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function nR(r,e,t,a){return new tR(r,e,t,a)}async function HN(r,e){const t=ke(r);return await t.persistence.runTransaction("Handle user change","readonly",(a=>{let i;return t.mutationQueue.getAllMutationBatches(a).next((c=>(i=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],m=[];let p=Be();for(const y of i){d.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}for(const y of c){m.push(y.batchId);for(const v of y.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(a,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function rR(r,e){const t=ke(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const i=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,v){const b=y.batch,N=b.keys();let R=se.resolve();return N.forEach((M=>{R=R.next((()=>v.getEntry(p,M))).next((q=>{const B=y.docVersions.get(M);Ze(B!==null,48541),q.version.compareTo(B)<0&&(b.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),v.addEntry(q)))}))})),R.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(t,a,e,c).next((()=>c.apply(a))).next((()=>t.mutationQueue.performConsistencyCheck(a))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(a,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Be();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(a,i)))}))}function $N(r){const e=ke(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function sR(r,e){const t=ke(r),a=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const m=[];e.targetChanges.forEach(((v,b)=>{const N=i.get(b);if(!N)return;m.push(t.Pi.removeMatchingKeys(c,v.removedDocuments,b).next((()=>t.Pi.addMatchingKeys(c,v.addedDocuments,b))));let R=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?R=R.withResumeToken(en.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,a)),i=i.insert(b,R),(function(q,B,F){return q.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=eR?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(N,R,v)&&m.push(t.Pi.updateTargetData(c,R))}));let p=Es(),y=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,v))})),m.push(aR(c,d,e.documentUpdates).next((v=>{p=v.ks,y=v.qs}))),!a.isEqual(je.min())){const v=t.Pi.getLastRemoteSnapshotVersion(c).next((b=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));m.push(v)}return se.waitFor(m).next((()=>d.apply(c))).next((()=>t.localDocuments.getLocalViewOfDocuments(c,p,y))).next((()=>p))})).then((c=>(t.Ms=i,c)))}function aR(r,e,t){let a=Be(),i=Be();return t.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Es();return t.forEach(((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(i=i.add(m)),p.isNoDocument()&&p.version.isEqual(je.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):he(Rp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:i}}))}function iR(r,e){const t=ke(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=xp),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function lR(r,e){const t=ke(r);return t.persistence.runTransaction("Allocate target","readwrite",(a=>{let i;return t.Pi.getTargetData(a,e).next((c=>c?(i=c,se.resolve(i)):t.Pi.allocateTargetId(a).next((d=>(i=new _a(e,d,"TargetPurposeListen",a.currentSequenceNumber),t.Pi.addTargetData(a,i).next((()=>i)))))))})).then((a=>{const i=t.Ms.get(a.targetId);return(i===null||a.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(a.targetId,a),t.xs.set(e,a.targetId)),a}))}async function Yg(r,e,t){const a=ke(r),i=a.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!eo(d))throw d;he(Rp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(i.target)}function s_(r,e,t){const a=ke(r);let i=je.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,v){const b=ke(p),N=b.xs.get(v);return N!==void 0?se.resolve(b.Ms.get(N)):b.Pi.getTargetData(y,v)})(a,d,Ir(e)).next((m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,m.targetId).next((p=>{c=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,t?i:je.min(),t?c:Be()))).next((m=>(oR(a,G2(e),m),{documents:m,Qs:c})))))}function oR(r,e,t){let a=r.Os.get(e)||je.min();t.forEach(((i,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class a_{constructor(){this.activeTargetIds=W2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cR{constructor(){this.Mo=new a_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,a){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new a_,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class uR{Oo(e){}shutdown(){}}const i_="ConnectivityMonitor";class l_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(i_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Md=null;function Qg(){return Md===null?Md=(function(){return 268435456+Math.round(2147483648*Math.random())})():Md++,"0x"+Md.toString(16)}const xg="RestConnection",dR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${a}/databases/${i}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${i}`}Go(e,t,a,i,c){const d=Qg(),m=this.zo(e,t.toUriEncodedString());he(xg,`Sending RPC '${e}' ${d}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,i,c);const{host:y}=new URL(m),v=Xl(y);return this.Jo(e,m,p,a,v).then((b=>(he(xg,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Fl(xg,`RPC '${e}' ${d} failed with error: `,b,"url: ",m,"request:",a),b}))}Ho(e,t,a,i,c,d){return this.Go(e,t,a,i,c)}jo(e,t,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,c)=>e[c]=i)),a&&a.headers.forEach(((i,c)=>e[c]=i))}zo(e,t){const a=dR[e];return`${this.Uo}/v1/${t}:${a}`}terminate(){}}class fR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const sn="WebChannelConnection";class mR extends hR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,a,i,c){const d=Qg();return new Promise(((m,p)=>{const y=new Kw;y.setWithCredentials(!0),y.listenOnce(Yw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zd.NO_ERROR:const b=y.getResponseJson();he(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),m(b);break;case zd.TIMEOUT:he(sn,`RPC '${e}' ${d} timed out`),p(new de(re.DEADLINE_EXCEEDED,"Request time out"));break;case zd.HTTP_ERROR:const N=y.getStatus();if(he(sn,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let R=y.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R?.error;if(M&&M.status&&M.message){const q=(function(F){const D=F.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(D)>=0?D:re.UNKNOWN})(M.status);p(new de(q,M.message))}else p(new de(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(re.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(sn,`RPC '${e}' ${d} completed.`)}}));const v=JSON.stringify(i);he(sn,`RPC '${e}' ${d} sending request:`,i),y.send(t,"POST",v,a,15)}))}T_(e,t,a){const i=Qg(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Jw(),m=Xw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,a),p.encodeInitMessageHeaders=!0;const v=c.join("");he(sn,`Creating RPC '${e}' stream ${i}: ${v}`,p);const b=d.createWebChannel(v,p);this.I_(b);let N=!1,R=!1;const M=new fR({Yo:B=>{R?he(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,B):(N||(he(sn,`Opening RPC '${e}' stream ${i} transport.`),b.open(),N=!0),he(sn,`RPC '${e}' stream ${i} sending:`,B),b.send(B))},Zo:()=>b.close()}),q=(B,F,D)=>{B.listen(F,(U=>{try{D(U)}catch(X){setTimeout((()=>{throw X}),0)}}))};return q(b,fc.EventType.OPEN,(()=>{R||(he(sn,`RPC '${e}' stream ${i} transport opened.`),M.o_())})),q(b,fc.EventType.CLOSE,(()=>{R||(R=!0,he(sn,`RPC '${e}' stream ${i} transport closed`),M.a_(),this.E_(b))})),q(b,fc.EventType.ERROR,(B=>{R||(R=!0,Fl(sn,`RPC '${e}' stream ${i} transport errored. Name:`,B.name,"Message:",B.message),M.a_(new de(re.UNAVAILABLE,"The operation could not be completed")))})),q(b,fc.EventType.MESSAGE,(B=>{if(!R){const F=B.data[0];Ze(!!F,16349);const D=F,U=D?.error||D[0]?.error;if(U){he(sn,`RPC '${e}' stream ${i} received error:`,U);const X=U.status;let ce=(function(k){const E=kt[k];if(E!==void 0)return IN(E)})(X),ue=U.message;ce===void 0&&(ce=re.INTERNAL,ue="Unknown error status: "+X+" with message "+U.message),R=!0,M.a_(new de(ce,ue)),b.close()}else he(sn,`RPC '${e}' stream ${i} received:`,F),M.u_(F)}})),q(m,Qw.STAT_EVENT,(B=>{B.stat===Lg.PROXY?he(sn,`RPC '${e}' stream ${i} detected buffering proxy`):B.stat===Lg.NOPROXY&&he(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{M.__()}),0),M}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function vg(){return typeof document<"u"?document:null}function Oh(r){return new xC(r,!0)}class GN{constructor(e,t,a=1e3,i=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=a,this.A_=i,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-a);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const o_="PersistentStream";class KN{constructor(e,t,a,i,c,d,m,p){this.Mi=e,this.S_=a,this.b_=i,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new GN(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Ns(t.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,i])=>{this.D_===t&&this.G_(a,i)}),(a=>{e((()=>{const i=new de(re.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(i)}))}))}G_(e,t){const a=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{a((()=>this.z_(i)))})),this.stream.onMessage((i=>{a((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(he(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends KN{constructor(e,t,a,i,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,i,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_C(this.serializer,e),a=(function(c){if(!("targetChange"in c))return je.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?je.min():d.readTime?Dr(d.readTime):je.min()})(e);return this.listener.H_(t,a)}Y_(e){const t={};t.database=Kg(this.serializer),t.addTarget=(function(c,d){let m;const p=d.target;if(m=Bg(p)?{documents:EC(c,p)}:{query:TC(c,p).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=ON(c,d.resumeToken);const y=Hg(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(je.min())>0){m.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=Hg(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const a=jC(this.serializer,e);a&&(t.labels=a),this.q_(t)}Z_(e){const t={};t.database=Kg(this.serializer),t.removeTarget=e,this.q_(t)}}class pR extends KN{constructor(e,t,a,i,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,i,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=NC(e.writeResults,e.commitTime),a=Dr(e.commitTime);return this.listener.na(a,t)}ra(){const e={};e.database=Kg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((a=>wC(this.serializer,a)))};this.q_(t)}}class yR{}class xR extends yR{constructor(e,t,a,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,$g(t,a),i,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(re.UNKNOWN,c.toString())}))}Ho(e,t,a,i,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(e,$g(t,a),i,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(re.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class vR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(t),this.aa=!1):he("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ji="RemoteStore";class bR{constructor(e,t,a,i,c){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Pi(this)&&(he(ji,"Restarting streams for network reachability change."),await(async function(p){const y=ke(p);y.Ea.add(4),await Kc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ph(y)})(this))}))})),this.Ra=new vR(a,i)}}async function Ph(r){if(Pi(r))for(const e of r.da)await e(!0)}async function Kc(r){for(const e of r.da)await e(!1)}function YN(r,e){const t=ke(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Op(t)?Mp(t):no(t).O_()&&Dp(t,e))}function Ip(r,e){const t=ke(r),a=no(t);t.Ia.delete(e),a.O_()&&QN(t,e),t.Ia.size===0&&(a.O_()?a.L_():Pi(t)&&t.Ra.set("Unknown"))}function Dp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}no(r).Y_(e)}function QN(r,e){r.Va.Ue(e),no(r).Z_(e)}function Mp(r){r.Va=new mC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),no(r).start(),r.Ra.ua()}function Op(r){return Pi(r)&&!no(r).x_()&&r.Ia.size>0}function Pi(r){return ke(r).Ea.size===0}function XN(r){r.Va=void 0}async function _R(r){r.Ra.set("Online")}async function wR(r){r.Ia.forEach(((e,t)=>{Dp(r,e)}))}async function NR(r,e){XN(r),Op(r)?(r.Ra.ha(e),Mp(r)):r.Ra.set("Unknown")}async function ER(r,e,t){if(r.Ra.set("Online"),e instanceof MN&&e.state===2&&e.cause)try{await(async function(i,c){const d=c.cause;for(const m of c.targetIds)i.Ia.has(m)&&(await i.remoteSyncer.rejectListen(m,d),i.Ia.delete(m),i.Va.removeTarget(m))})(r,e)}catch(a){he(ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oh(r,a)}else if(e instanceof Hd?r.Va.Ze(e):e instanceof DN?r.Va.st(e):r.Va.tt(e),!t.isEqual(je.min()))try{const a=await $N(r.localStore);t.compareTo(a)>=0&&await(function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const v=c.Ia.get(y);v&&c.Ia.set(y,v.withResumeToken(p.resumeToken,d))}})),m.targetMismatches.forEach(((p,y)=>{const v=c.Ia.get(p);if(!v)return;c.Ia.set(p,v.withResumeToken(en.EMPTY_BYTE_STRING,v.snapshotVersion)),QN(c,p);const b=new _a(v.target,p,y,v.sequenceNumber);Dp(c,b)})),c.remoteSyncer.applyRemoteEvent(m)})(r,t)}catch(a){he(ji,"Failed to raise snapshot:",a),await oh(r,a)}}async function oh(r,e,t){if(!eo(e))throw e;r.Ea.add(1),await Kc(r),r.Ra.set("Offline"),t||(t=()=>$N(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ji,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Ph(r)}))}function JN(r,e){return e().catch((t=>oh(r,t,e)))}async function Lh(r){const e=ke(r),t=Ia(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;TR(e);)try{const i=await iR(e.localStore,a);if(i===null){e.Ta.length===0&&t.L_();break}a=i.batchId,SR(e,i)}catch(i){await oh(e,i)}WN(e)&&ZN(e)}function TR(r){return Pi(r)&&r.Ta.length<10}function SR(r,e){r.Ta.push(e);const t=Ia(r);t.O_()&&t.X_&&t.ea(e.mutations)}function WN(r){return Pi(r)&&!Ia(r).x_()&&r.Ta.length>0}function ZN(r){Ia(r).start()}async function jR(r){Ia(r).ra()}async function AR(r){const e=Ia(r);for(const t of r.Ta)e.ea(t.mutations)}async function kR(r,e,t){const a=r.Ta.shift(),i=Tp.from(a,e,t);await JN(r,(()=>r.remoteSyncer.applySuccessfulWrite(i))),await Lh(r)}async function CR(r,e){e&&Ia(r).X_&&await(async function(a,i){if((function(d){return dC(d)&&d!==re.ABORTED})(i.code)){const c=a.Ta.shift();Ia(a).B_(),await JN(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,i))),await Lh(a)}})(r,e),WN(r)&&ZN(r)}async function c_(r,e){const t=ke(r);t.asyncQueue.verifyOperationInProgress(),he(ji,"RemoteStore received new credentials");const a=Pi(t);t.Ea.add(3),await Kc(t),a&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ph(t)}async function RR(r,e){const t=ke(r);e?(t.Ea.delete(2),await Ph(t)):e||(t.Ea.add(2),await Kc(t),t.Ra.set("Unknown"))}function no(r){return r.ma||(r.ma=(function(t,a,i){const c=ke(t);return c.sa(),new gR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)})(r.datastore,r.asyncQueue,{Xo:_R.bind(null,r),t_:wR.bind(null,r),r_:NR.bind(null,r),H_:ER.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Op(r)?Mp(r):r.Ra.set("Unknown")):(await r.ma.stop(),XN(r))}))),r.ma}function Ia(r){return r.fa||(r.fa=(function(t,a,i){const c=ke(t);return c.sa(),new pR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jR.bind(null,r),r_:CR.bind(null,r),ta:AR.bind(null,r),na:kR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Lh(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ji,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Pp{constructor(e,t,a,i,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=i,this.removalCallback=c,this.deferred=new Ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,i,c){const d=Date.now()+a,m=new Pp(e,t,d,i,c);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(r,e){if(Ns("AsyncQueue",`${e}: ${r}`),eo(r))return new de(re.UNAVAILABLE,`${e}: ${r}`);throw r}class Ol{static emptySet(e){return new Ol(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||_e.comparator(t.key,a.key):(t,a)=>_e.comparator(t.key,a.key),this.keyedMap=mc(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,a)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ol)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,c=a.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Ol;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}class u_{constructor(){this.ga=new ft(_e.comparator)}track(e){const t=e.doc.key,a=this.ga.get(t);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(t,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(t):e.type===1&&a.type===2?this.ga=this.ga.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,a)=>{e.push(a)})),e}}class Gl{constructor(e,t,a,i,c,d,m,p,y){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,a,i,c){const d=[];return t.forEach((m=>{d.push({type:0,doc:m})})),new Gl(e,t,Ol.emptySet(t),d,a,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==a[i].type||!t[i].doc.isEqual(a[i].doc))return!1;return!0}}class IR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class DR{constructor(){this.queries=d_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,a){const i=ke(t),c=i.queries;i.queries=d_(),c.forEach(((d,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new de(re.ABORTED,"Firestore shutting down"))}}function d_(){return new Oi((r=>vN(r)),Ch)}async function MR(r,e){const t=ke(r);let a=3;const i=e.query;let c=t.queries.get(i);c?!c.ba()&&e.Da()&&(a=2):(c=new IR,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await t.onListen(i,!0);break;case 1:c.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(d){const m=Lp(d,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(m)}t.queries.set(i,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&Vp(t)}async function OR(r,e){const t=ke(r),a=e.query;let i=3;const c=t.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?i=e.Da()?0:1:!c.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function PR(r,e){const t=ke(r);let a=!1;for(const i of e){const c=i.query,d=t.queries.get(c);if(d){for(const m of d.Sa)m.Fa(i)&&(a=!0);d.wa=i}}a&&Vp(t)}function LR(r,e,t){const a=ke(r),i=a.queries.get(e);if(i)for(const c of i.Sa)c.onError(t);a.queries.delete(e)}function Vp(r){r.Ca.forEach((e=>{e.next()}))}var Xg,h_;(h_=Xg||(Xg={})).Ma="default",h_.Cache="cache";class VR{constructor(e,t,a){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const i of e.docChanges)i.type!==3&&a.push(i);e=new Gl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const a=t!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xg.Cache}}class eE{constructor(e){this.key=e}}class tE{constructor(e){this.key=e}}class UR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=bN(e),this.tu=new Ol(this.eu)}get nu(){return this.Ya}ru(e,t){const a=t?t.iu:new u_,i=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,y=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,b)=>{const N=i.get(v),R=Rh(this.query,b)?b:null,M=!!N&&this.mutatedKeys.has(N.key),q=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let B=!1;N&&R?N.data.isEqual(R.data)?M!==q&&(a.track({type:3,doc:R}),B=!0):this.su(N,R)||(a.track({type:2,doc:R}),B=!0,(p&&this.eu(R,p)>0||y&&this.eu(R,y)<0)&&(m=!0)):!N&&R?(a.track({type:0,doc:R}),B=!0):N&&!R&&(a.track({type:1,doc:N}),B=!0,(p||y)&&(m=!0)),B&&(R?(d=d.add(R),c=q?c.add(v):c.delete(v)):(d=d.delete(v),c=c.delete(v)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),c=c.delete(v.key),a.track({type:1,doc:v})}return{tu:d,iu:a,Cs:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,i){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((v,b)=>(function(R,M){const q=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:B})}};return q(R)-q(M)})(v.type,b.type)||this.eu(v.doc,b.doc))),this.ou(a),i=i??!1;const m=t&&!i?this._u():[],p=this.Xa.size===0&&this.current&&!i?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Gl(this.query,e.tu,c,d,e.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const t=[];return e.forEach((a=>{this.Xa.has(a)||t.push(new tE(a))})),this.Xa.forEach((a=>{e.has(a)||t.push(new eE(a))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Up="SyncEngine";class zR{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class FR{constructor(e){this.key=e,this.hu=!1}}class BR{constructor(e,t,a,i,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Oi((m=>vN(m)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Ap,this.Vu={},this.mu=new Map,this.fu=$l.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qR(r,e,t=!0){const a=lE(r);let i;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),i=c.view.lu()):i=await nE(a,e,t,!0),i}async function HR(r,e){const t=lE(r);await nE(t,e,!0,!1)}async function nE(r,e,t,a){const i=await lR(r.localStore,Ir(e)),c=i.targetId,d=r.sharedClientState.addLocalQueryTarget(c,t);let m;return a&&(m=await $R(r,e,c,d==="current",i.resumeToken)),r.isPrimaryClient&&t&&YN(r.remoteStore,i),m}async function $R(r,e,t,a,i){r.pu=(b,N,R)=>(async function(q,B,F,D){let U=B.view.ru(F);U.Cs&&(U=await s_(q.localStore,B.query,!1).then((({documents:O})=>B.view.ru(O,U))));const X=D&&D.targetChanges.get(B.targetId),ce=D&&D.targetMismatches.get(B.targetId)!=null,ue=B.view.applyChanges(U,q.isPrimaryClient,X,ce);return m_(q,B.targetId,ue.au),ue.snapshot})(r,b,N,R);const c=await s_(r.localStore,e,!0),d=new UR(e,c.Qs),m=d.ru(c.documents),p=Gc.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",i),y=d.applyChanges(m,r.isPrimaryClient,p);m_(r,t,y.au);const v=new zR(e,t,d);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),y.snapshot}async function GR(r,e,t){const a=ke(r),i=a.Tu.get(e),c=a.Iu.get(i.targetId);if(c.length>1)return a.Iu.set(i.targetId,c.filter((d=>!Ch(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(i.targetId),a.sharedClientState.isActiveQueryTarget(i.targetId)||await Yg(a.localStore,i.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(i.targetId),t&&Ip(a.remoteStore,i.targetId),Jg(a,i.targetId)})).catch(Zl)):(Jg(a,i.targetId),await Yg(a.localStore,i.targetId,!0))}async function KR(r,e){const t=ke(r),a=t.Tu.get(e),i=t.Iu.get(a.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Ip(t.remoteStore,a.targetId))}async function YR(r,e,t){const a=tI(r);try{const i=await(function(d,m){const p=ke(d),y=Xe.now(),v=m.reduce(((R,M)=>R.add(M.key)),Be());let b,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let M=Es(),q=Be();return p.Ns.getEntries(R,v).next((B=>{M=B,M.forEach(((F,D)=>{D.isValidDocument()||(q=q.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(R,M))).next((B=>{b=B;const F=[];for(const D of m){const U=iC(D,b.get(D.key).overlayedDocument);U!=null&&F.push(new Pa(D.key,U,dN(U.value.mapValue),dr.exists(!0)))}return p.mutationQueue.addMutationBatch(R,y,F,m)})).next((B=>{N=B;const F=B.applyToLocalDocumentSet(b,q);return p.documentOverlayCache.saveOverlays(R,B.batchId,F)}))})).then((()=>({batchId:N.batchId,changes:wN(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(i.batchId),(function(d,m,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new ft(Fe)),y=y.insert(m,p),d.Vu[d.currentUser.toKey()]=y})(a,i.batchId,t),await Yc(a,i.changes),await Lh(a.remoteStore)}catch(i){const c=Lp(i,"Failed to persist write");t.reject(c)}}async function rE(r,e){const t=ke(r);try{const a=await sR(t.localStore,e);e.targetChanges.forEach(((i,c)=>{const d=t.Au.get(c);d&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?d.hu=!0:i.modifiedDocuments.size>0?Ze(d.hu,14607):i.removedDocuments.size>0&&(Ze(d.hu,42227),d.hu=!1))})),await Yc(t,a,e)}catch(a){await Zl(a)}}function f_(r,e,t){const a=ke(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const i=[];a.Tu.forEach(((c,d)=>{const m=d.view.va(e);m.snapshot&&i.push(m.snapshot)})),(function(d,m){const p=ke(d);p.onlineState=m;let y=!1;p.queries.forEach(((v,b)=>{for(const N of b.Sa)N.va(m)&&(y=!0)})),y&&Vp(p)})(a.eventManager,e),i.length&&a.Pu.H_(i),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function QR(r,e,t){const a=ke(r);a.sharedClientState.updateQueryState(e,"rejected",t);const i=a.Au.get(e),c=i&&i.key;if(c){let d=new ft(_e.comparator);d=d.insert(c,ln.newNoDocument(c,je.min()));const m=Be().add(c),p=new Mh(je.min(),new Map,new ft(Fe),d,m);await rE(a,p),a.du=a.du.remove(c),a.Au.delete(e),zp(a)}else await Yg(a.localStore,e,!1).then((()=>Jg(a,e,t))).catch(Zl)}async function XR(r,e){const t=ke(r),a=e.batch.batchId;try{const i=await rR(t.localStore,e);aE(t,a,null),sE(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Yc(t,i)}catch(i){await Zl(i)}}async function JR(r,e,t){const a=ke(r);try{const i=await(function(d,m){const p=ke(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let v;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(Ze(b!==null,37113),v=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,v,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v))).next((()=>p.localDocuments.getDocuments(y,v)))}))})(a.localStore,e);aE(a,e,t),sE(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Yc(a,i)}catch(i){await Zl(i)}}function sE(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function aE(r,e,t){const a=ke(r);let i=a.Vu[a.currentUser.toKey()];if(i){const c=i.get(e);c&&(t?c.reject(t):c.resolve(),i=i.remove(e)),a.Vu[a.currentUser.toKey()]=i}}function Jg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),t&&r.Pu.yu(a,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||iE(r,a)}))}function iE(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Ip(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),zp(r))}function m_(r,e,t){for(const a of t)a instanceof eE?(r.Ru.addReference(a.key,e),WR(r,a)):a instanceof tE?(he(Up,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||iE(r,a.key)):Ee(19791,{wu:a})}function WR(r,e){const t=e.key,a=t.path.canonicalString();r.du.get(t)||r.Eu.has(a)||(he(Up,"New document in limbo: "+t),r.Eu.add(a),zp(r))}function zp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new _e(it.fromString(e)),a=r.fu.next();r.Au.set(a,new FR(t)),r.du=r.du.insert(t,a),YN(r.remoteStore,new _a(Ir(Np(t.path)),a,"TargetPurposeLimboResolution",jh.ce))}}async function Yc(r,e,t){const a=ke(r),i=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{d.push(a.pu(p,e,t).then((y=>{if((y||t)&&a.isPrimaryClient){const v=y?!y.fromCache:t?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(y){i.push(y);const v=Cp.As(p.targetId,y);c.push(v)}})))})),await Promise.all(d),a.Pu.H_(i),await(async function(p,y){const v=ke(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(y,(N=>se.forEach(N.Es,(R=>v.persistence.referenceDelegate.addReference(b,N.targetId,R))).next((()=>se.forEach(N.ds,(R=>v.persistence.referenceDelegate.removeReference(b,N.targetId,R)))))))))}catch(b){if(!eo(b))throw b;he(Rp,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const R=v.Ms.get(N),M=R.snapshotVersion,q=R.withLastLimboFreeSnapshotVersion(M);v.Ms=v.Ms.insert(N,q)}}})(a.localStore,c))}async function ZR(r,e){const t=ke(r);if(!t.currentUser.isEqual(e)){he(Up,"User change. New user:",e.toKey());const a=await HN(t.localStore,e);t.currentUser=e,(function(c,d){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(re.CANCELLED,d))}))})),c.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Yc(t,a.Ls)}}function eI(r,e){const t=ke(r),a=t.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let i=Be();const c=t.Iu.get(e);if(!c)return i;for(const d of c){const m=t.Tu.get(d);i=i.unionWith(m.view.nu)}return i}}function lE(r){const e=ke(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=rE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QR.bind(null,e),e.Pu.H_=PR.bind(null,e.eventManager),e.Pu.yu=LR.bind(null,e.eventManager),e}function tI(r){const e=ke(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JR.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nR(this.persistence,new ZC,e.initialUser,this.serializer)}Cu(e){return new qN(kp.mi,this.serializer)}Du(e){return new cR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class nI extends ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ze(this.persistence.referenceDelegate instanceof lh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new VC(a,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new qN((a=>lh.mi(a,t)),this.serializer)}}class Wg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>f_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZR.bind(null,this.syncEngine),await RR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new DR})()}createDatastore(e){const t=Oh(e.databaseInfo.databaseId),a=(function(c){return new mR(c)})(e.databaseInfo);return(function(c,d,m,p){return new xR(c,d,m,p)})(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return(function(a,i,c,d,m){return new bR(a,i,c,d,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>f_(this.syncEngine,t,0)),(function(){return l_.v()?new l_:new uR})())}createSyncEngine(e,t){return(function(i,c,d,m,p,y,v){const b=new BR(i,c,d,m,p,y);return v&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const a=ke(t);he(ji,"RemoteStore shutting down."),a.Ea.add(5),await Kc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wg.provider={build:()=>new Wg};class rI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const Da="FirestoreClient";class sI{constructor(e,t,a,i,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=i,this.user=an.UNAUTHENTICATED,this.clientId=yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{he(Da,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(he(Da,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=Lp(t,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function bg(r,e){r.asyncQueue.verifyOperationInProgress(),he(Da,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener((async i=>{a.isEqual(i)||(await HN(e.localStore,i),a=i)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function g_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await aI(r);he(Da,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((a=>c_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,i)=>c_(e.remoteStore,i))),r._onlineComponents=e}async function aI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Da,"Using user provided OfflineComponentProvider");try{await bg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Fl("Error using user provided cache. Falling back to memory cache: "+t),await bg(r,new ch)}}else he(Da,"Using default OfflineComponentProvider"),await bg(r,new nI(void 0));return r._offlineComponents}async function oE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Da,"Using user provided OnlineComponentProvider"),await g_(r,r._uninitializedComponentsProvider._online)):(he(Da,"Using default OnlineComponentProvider"),await g_(r,new Wg))),r._onlineComponents}function iI(r){return oE(r).then((e=>e.syncEngine))}async function p_(r){const e=await oE(r),t=e.eventManager;return t.onListen=qR.bind(null,e.syncEngine),t.onUnlisten=GR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=HR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KR.bind(null,e.syncEngine),t}function cE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const y_=new Map;const uE="firestore.googleapis.com",x_=!0;class v_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uE,this.ssl=x_}else this.host=e.host,this.ssl=e.ssl??x_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PC)throw new de(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,i){return a.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,t,a,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new c2;switch(a.type){case"firstParty":return new f2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const a=y_.get(t);a&&(he("ComponentProvider","Removing Datastore"),y_.delete(t),a.terminate())})(this),Promise.resolve()}}function lI(r,e,t,a={}){r=xs(r,Vh);const i=Xl(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${t}`;i&&(Lw(`https://${m}`),Vw("Firestore",!0)),c.host!==uE&&c.host!==m&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:i,emulatorOptions:a};if(!ja(p,d)&&(r._setSettings(p),a.mockUserToken)){let y,v;if(typeof a.mockUserToken=="string")y=a.mockUserToken,v=an.MOCK_USER;else{y=OA(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new de(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(b)}r._authCredentials=new u2(new Zw(y,v))}}class La{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class Nt{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,a){if(Hc(t,Nt._jsonSchema))return new Nt(e,a||null,new _e(it.fromString(t.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:Rt("string",Nt._jsonSchemaVersion),referencePath:Rt("string")};class Ta extends La{constructor(e,t,a){super(e,t,Np(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new Ta(this.firestore,e,this._path)}}function hr(r,e,...t){if(r=ht(r),eN("collection","path",e),r instanceof Vh){const a=it.fromString(e,...t);return Rb(a),new Ta(r,null,a)}{if(!(r instanceof Nt||r instanceof Ta))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...t));return Rb(a),new Ta(r.firestore,null,a)}}function Ai(r,e,...t){if(r=ht(r),arguments.length===1&&(e=yp.newId()),eN("doc","path",e),r instanceof Vh){const a=it.fromString(e,...t);return Cb(a),new Nt(r,null,new _e(a))}{if(!(r instanceof Nt||r instanceof Ta))throw new de(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(it.fromString(e,...t));return Cb(a),new Nt(r.firestore,r instanceof Ta?r.converter:null,new _e(a))}}const b_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new GN(this,"async_queue_retry"),this._c=()=>{const a=vg();a&&he(b_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const t=vg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=vg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ei;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eo(e))throw e;he(b_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",w_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=t,t}enqueueAfterDelay(e,t,a){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Pp.createAndSchedule(this,e,t,a,(c=>this.hc(c)));return this.tc.push(i),i}uc(){this.nc&&Ee(47125,{Pc:w_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,a)=>t.targetTimeMs-a.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function w_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function N_(r){return(function(t,a){if(typeof t!="object"||t===null)return!1;const i=t;for(const c of a)if(c in i&&typeof i[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Kl extends Vh{constructor(e,t,a,i){super(e,t,a,i),this.type="firestore",this._queue=new __,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function oI(r,e){const t=typeof r=="object"?r:Th(),a=typeof r=="string"?r:th,i=Mi(t,"firestore").getImmediate({identifier:a});if(!i._initialized){const c=DA("firestore");c&&lI(i,...c)}return i}function dE(r){if(r._terminated)throw new de(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cI(r),r._firestoreClient}function cI(r){const e=r._freezeSettings(),t=(function(i,c,d,m){return new C2(i,c,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,cE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new sI(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(i){const c=i?._online.build();return{_offline:i?._offline.build(c),_online:c}})(r._componentsProvider))}class er{constructor(e){this._byteString=e}static fromBase64String(e){try{return new er(en.fromBase64String(e))}catch(t){throw new de(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new er(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:er._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hc(e,er._jsonSchema))return er.fromBase64String(e.bytes)}}er._jsonSchemaVersion="firestore/bytes/1.0",er._jsonSchema={type:Rt("string",er._jsonSchemaVersion),bytes:Rt("string")};class Uh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zh{constructor(e){this._methodName=e}}class Mr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(e){if(Hc(e,Mr._jsonSchema))return new Mr(e.latitude,e.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:Rt("string",Mr._jsonSchemaVersion),latitude:Rt("number"),longitude:Rt("number")};class Or{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,i){if(a.length!==i.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==i[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hc(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Or(e.vectorValues);throw new de(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:Rt("string",Or._jsonSchemaVersion),vectorValues:Rt("object")};const uI=/^__.*__$/;class dI{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms):new $c(e,this.data,t,this.fieldTransforms)}}class hE{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return new Pa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Fp{constructor(e,t,a,i,c,d){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=i,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.gc(e),a}yc(e){const t=this.path?.child(e),a=this.Vc({path:t,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(fE(this.Ac)&&uI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hI{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||Oh(e)}Cc(e,t,a,i=!1){return new Fp({Ac:e,methodName:t,Dc:a,path:Wt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fh(r){const e=r._freezeSettings(),t=Oh(r._databaseId);return new hI(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mE(r,e,t,a,i,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,t,i);qp("Data must be an object, but it was:",d,a);const m=gE(a,d);let p,y;if(c.merge)p=new Ln(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const v=[];for(const b of c.mergeFields){const N=Zg(e,b,t);if(!d.contains(N))throw new de(re.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);yE(v,N)||v.push(N)}p=new Ln(v),y=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=d.fieldTransforms;return new dI(new Sn(m),p,y)}class Bh extends zh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bh}}class Bp extends zh{_toFieldTransform(e){return new nC(e.path,new Oc)}isEqual(e){return e instanceof Bp}}function fI(r,e,t,a){const i=r.Cc(1,e,t);qp("Data must be an object, but it was:",i,a);const c=[],d=Sn.empty();Oa(a,((p,y)=>{const v=Hp(e,p,t);y=ht(y);const b=i.yc(v);if(y instanceof Bh)c.push(v);else{const N=Qc(y,b);N!=null&&(c.push(v),d.set(v,N))}}));const m=new Ln(c);return new hE(d,m,i.fieldTransforms)}function mI(r,e,t,a,i,c){const d=r.Cc(1,e,t),m=[Zg(e,a,t)],p=[i];if(c.length%2!=0)throw new de(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)m.push(Zg(e,c[N])),p.push(c[N+1]);const y=[],v=Sn.empty();for(let N=m.length-1;N>=0;--N)if(!yE(y,m[N])){const R=m[N];let M=p[N];M=ht(M);const q=d.yc(R);if(M instanceof Bh)y.push(R);else{const B=Qc(M,q);B!=null&&(y.push(R),v.set(R,B))}}const b=new Ln(y);return new hE(v,b,d.fieldTransforms)}function gI(r,e,t,a=!1){return Qc(t,r.Cc(a?4:3,e))}function Qc(r,e){if(pE(r=ht(r)))return qp("Unsupported field value:",e,r),gE(r,e);if(r instanceof zh)return(function(a,i){if(!fE(i.Ac))throw i.Sc(`${a._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(i);c&&i.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,i){const c=[];let d=0;for(const m of a){let p=Qc(m,i.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,i){if((a=ht(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Z2(i.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Xe.fromDate(a);return{timestampValue:ih(i.serializer,c)}}if(a instanceof Xe){const c=new Xe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(i.serializer,c)}}if(a instanceof Mr)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof er)return{bytesValue:ON(i.serializer,a._byteString)};if(a instanceof Nt){const c=i.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw i.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jp(a.firestore._databaseId||i.databaseId,a._key.path)}}if(a instanceof Or)return(function(d,m){return{mapValue:{fields:{[cN]:{stringValue:uN},[nh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ep(m.serializer,y)}))}}}}}})(a,i);throw i.Sc(`Unsupported field value: ${Sh(a)}`)})(r,e)}function gE(r,e){const t={};return rN(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(r,((a,i)=>{const c=Qc(i,e.mc(a));c!=null&&(t[a]=c)})),{mapValue:{fields:t}}}function pE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xe||r instanceof Mr||r instanceof er||r instanceof Nt||r instanceof zh||r instanceof Or)}function qp(r,e,t){if(!pE(t)||!tN(t)){const a=Sh(t);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Zg(r,e,t){if((e=ht(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return Hp(r,e);throw uh("Field path arguments must be of type string or ",r,!1,void 0,t)}const pI=new RegExp("[~\\*/\\[\\]]");function Hp(r,e,t){if(e.search(pI)>=0)throw uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Uh(...e.split("."))._internalPath}catch{throw uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function uh(r,e,t,a,i){const c=a&&!a.isEmpty(),d=i!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${i}`),p+=")"),new de(re.INVALID_ARGUMENT,m+r+p)}function yE(r,e){return r.some((t=>t.isEqual(e)))}class xE{constructor(e,t,a,i,c){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(qh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yI extends xE{data(){return super.data()}}function qh(r,e){return typeof e=="string"?Hp(r,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function xI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}class Gp extends $p{}function vs(r,e,...t){let a=[];e instanceof $p&&a.push(e),a=a.concat(t),(function(c){const d=c.filter((p=>p instanceof Kp)).length,m=c.filter((p=>p instanceof Hh)).length;if(d>1||d>0&&m>0)throw new de(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const i of a)r=i._apply(r);return r}class Hh extends Gp{constructor(e,t,a){super(),this._field=e,this._op=t,this._value=a,this.type="where"}static _create(e,t,a){return new Hh(e,t,a)}_apply(e){const t=this._parse(e);return vE(e._query,t),new La(e.firestore,e.converter,qg(e._query,t))}_parse(e){const t=Fh(e.firestore);return(function(c,d,m,p,y,v,b){let N;if(y.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new de(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){T_(b,v);const M=[];for(const q of b)M.push(E_(p,c,q));N={arrayValue:{values:M}}}else N=E_(p,c,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||T_(b,v),N=gI(m,d,b,v==="in"||v==="not-in");return Ct.create(y,v,N)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Vc(r,e,t){const a=e,i=qh("where",r);return Hh._create(i,a,t)}class Kp extends $p{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Kp(e,t)}_parse(e){const t=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return t.length===1?t[0]:gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,c){let d=i;const m=c.getFlattenedFilters();for(const p of m)vE(d,p),d=qg(d,p)})(e._query,t),new La(e.firestore,e.converter,qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yp extends Gp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yp(e,t)}_apply(e){const t=(function(i,c,d){if(i.startAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mc(c,d)})(e._query,this._field,this._direction);return new La(e.firestore,e.converter,(function(i,c){const d=i.explicitOrderBy.concat([c]);return new to(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function Pl(r,e="asc"){const t=e,a=qh("orderBy",r);return Yp._create(a,t)}class Qp extends Gp{constructor(e,t,a){super(),this.type=e,this._limit=t,this._limitType=a}static _create(e,t,a){return new Qp(e,t,a)}_apply(e){return new La(e.firestore,e.converter,sh(e._query,this._limit,this._limitType))}}function vI(r){return Qp._create("limit",r,"F")}function E_(r,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new de(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xN(e)&&t.indexOf("/")!==-1)throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const a=e.path.child(it.fromString(t));if(!_e.isDocumentKey(a))throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Ub(r,new _e(a))}if(t instanceof Nt)return Ub(r,t._key);throw new de(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(t)}.`)}function T_(r,e){if(!Array.isArray(r)||r.length===0)throw new de(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vE(r,e){const t=(function(i,c){for(const d of i)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bI{convertValue(e,t="none"){switch(Ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Oa(e,((i,c)=>{a[i]=this.convertValue(c,t)})),a}convertVectorValue(e){const t=e.fields?.[nh].arrayValue?.values?.map((a=>_t(a.doubleValue)));return new Or(t)}convertGeoPoint(e){return new Mr(_t(e.latitude),_t(e.longitude))}convertArray(e,t){return(e.values||[]).map((a=>this.convertValue(a,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const a=kh(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const t=ka(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=it.fromString(e);Ze(FN(a),9688,{name:e});const i=new Ic(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return i.isEqual(t)||Ns(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function bE(r,e,t){let a;return a=r?r.toFirestore(e):e,a}class pc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ti extends xE{constructor(e,t,a,i,c,d){super(e,t,a,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(qh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ti._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ti._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ti._jsonSchema={type:Rt("string",Ti._jsonSchemaVersion),bundleSource:Rt("string","DocumentSnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class $d extends Ti{data(e={}){return super.data(e)}}class Ll{constructor(e,t,a,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new pc(i.hasPendingWrites,i.fromCache),this.query=a}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((a=>{e.call(t,new $d(this._firestore,this._userDataWriter,a.key,a,new pc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,c){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map((m=>{const p=new $d(i._firestore,i._userDataWriter,m.doc.key,m.doc,new pc(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new $d(i._firestore,i._userDataWriter,m.doc.key,m.doc,new pc(i._snapshot.mutatedKeys.has(m.doc.key),i._snapshot.fromCache),i.query.converter);let y=-1,v=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),v=d.indexOf(m.doc.key)),{type:_I(m.type),doc:p,oldIndex:y,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ll._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],a=[],i=[];return this.docs.forEach((c=>{c._document!==null&&(t.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),i.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _I(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}Ll._jsonSchemaVersion="firestore/querySnapshot/1.0",Ll._jsonSchema={type:Rt("string",Ll._jsonSchemaVersion),bundleSource:Rt("string","QuerySnapshot"),bundleName:Rt("string"),bundle:Rt("string")};class _E extends bI{constructor(e){super(),this.firestore=e}convertBytes(e){return new er(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function wI(r,e,t){r=xs(r,Nt);const a=xs(r.firestore,Kl),i=bE(r.converter,e);return Xp(a,[mE(Fh(a),"setDoc",r._key,i,r.converter!==null,t).toMutation(r._key,dr.none())])}function Sa(r,e,t,...a){r=xs(r,Nt);const i=xs(r.firestore,Kl),c=Fh(i);let d;return d=typeof(e=ht(e))=="string"||e instanceof Uh?mI(c,"updateDoc",r._key,e,t,a):fI(c,"updateDoc",r._key,e),Xp(i,[d.toMutation(r._key,dr.exists(!0))])}function S_(r,e){const t=xs(r.firestore,Kl),a=Ai(r),i=bE(r.converter,e);return Xp(t,[mE(Fh(r.firestore),"addDoc",a._key,i,r.converter!==null,{}).toMutation(a._key,dr.exists(!1))]).then((()=>a))}function nr(r,...e){r=ht(r);let t={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||N_(e[a])||(t=e[a++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(N_(e[a])){const p=e[a];e[a]=p.next?.bind(p),e[a+1]=p.error?.bind(p),e[a+2]=p.complete?.bind(p)}let c,d,m;if(r instanceof Nt)d=xs(r.firestore,Kl),m=Np(r._key.path),c={next:p=>{e[a]&&e[a](NI(d,r,p))},error:e[a+1],complete:e[a+2]};else{const p=xs(r,La);d=xs(p.firestore,Kl),m=p._query;const y=new _E(d);c={next:v=>{e[a]&&e[a](new Ll(d,y,p,v))},error:e[a+1],complete:e[a+2]},xI(r._query)}return(function(y,v,b,N){const R=new rI(N),M=new VR(v,R,b);return y.asyncQueue.enqueueAndForget((async()=>MR(await p_(y),M))),()=>{R.Nu(),y.asyncQueue.enqueueAndForget((async()=>OR(await p_(y),M)))}})(dE(d),m,i,c)}function Xp(r,e){return(function(a,i){const c=new Ei;return a.asyncQueue.enqueueAndForget((async()=>YR(await iI(a),i,c))),c.promise})(dE(r),e)}function NI(r,e,t){const a=t.docs.get(e._key),i=new _E(r);return new Ti(r,i,e._key,a,new pc(t.hasPendingWrites,t.fromCache),e.converter)}function j_(){return new Bp("serverTimestamp")}(function(e,t=!0){(function(i){Wl=i})(Jl),Vr(new mr("firestore",((a,{instanceIdentifier:i,options:c})=>{const d=a.getProvider("app").getImmediate(),m=new Kl(new d2(a.getProvider("auth-internal")),new m2(d,a.getProvider("app-check-internal")),(function(y,v){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(y.options.projectId,v)})(d,i),d);return c={useFetchStreams:t,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),tr(Sb,jb,e),tr(Sb,jb,"esm2020")})();const wE=I.createContext(void 0),EI=()=>{const r=I.useContext(wE);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},TI=({children:r})=>{const[e,t]=I.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});I.useEffect(()=>{const i=document.documentElement,c=document.body;e?(i.classList.add("dark"),c.classList.add("dark:bg-gray-900"),c.classList.remove("bg-gray-50")):(i.classList.remove("dark"),c.classList.add("bg-gray-50"),c.classList.remove("dark:bg-gray-900")),localStorage.setItem("theme",e?"dark":"light")},[e]);const a=()=>{t(i=>!i)};return o.jsx(wE.Provider,{value:{isDark:e,toggleTheme:a},children:r})};var SI="firebase",jI="12.0.0";tr(SI,jI,"app");const NE="@firebase/installations",Jp="0.6.19";const EE=1e4,TE=`w:${Jp}`,SE="FIS_v2",AI="https://firebaseinstallations.googleapis.com/v1",kI=3600*1e3,CI="installations",RI="Installations";const II={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ki=new Di(CI,RI,II);function jE(r){return r instanceof zn&&r.code.includes("request-failed")}function AE({projectId:r}){return`${AI}/projects/${r}/installations`}function kE(r){return{token:r.token,requestStatus:2,expiresIn:MI(r.expiresIn),creationTime:Date.now()}}async function CE(r,e){const a=(await e.json()).error;return ki.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function RE({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function DI(r,{refreshToken:e}){const t=RE(r);return t.append("Authorization",OI(e)),t}async function IE(r){const e=await r();return e.status>=500&&e.status<600?r():e}function MI(r){return Number(r.replace("s","000"))}function OI(r){return`${SE} ${r}`}async function PI({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const a=AE(r),i=RE(r),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&i.append("x-firebase-client",y)}const d={fid:t,authVersion:SE,appId:r.appId,sdkVersion:TE},m={method:"POST",headers:i,body:JSON.stringify(d)},p=await IE(()=>fetch(a,m));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:kE(y.authToken)}}else throw await CE("Create Installation",p)}function DE(r){return new Promise(e=>{setTimeout(e,r)})}function LI(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const VI=/^[cdef][\w-]{21}$/,ep="";function UI(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=zI(r);return VI.test(t)?t:ep}catch{return ep}}function zI(r){return LI(r).substr(0,22)}function $h(r){return`${r.appName}!${r.appId}`}const ME=new Map;function OE(r,e){const t=$h(r);PE(t,e),FI(t,e)}function PE(r,e){const t=ME.get(r);if(t)for(const a of t)a(e)}function FI(r,e){const t=BI();t&&t.postMessage({key:r,fid:e}),qI()}let wi=null;function BI(){return!wi&&"BroadcastChannel"in self&&(wi=new BroadcastChannel("[Firebase] FID Change"),wi.onmessage=r=>{PE(r.data.key,r.data.fid)}),wi}function qI(){ME.size===0&&wi&&(wi.close(),wi=null)}const HI="firebase-installations-database",$I=1,Ci="firebase-installations-store";let _g=null;function Wp(){return _g||(_g=Bw(HI,$I,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Ci)}}})),_g}async function dh(r,e){const t=$h(r),i=(await Wp()).transaction(Ci,"readwrite"),c=i.objectStore(Ci),d=await c.get(t);return await c.put(e,t),await i.done,(!d||d.fid!==e.fid)&&OE(r,e.fid),e}async function LE(r){const e=$h(r),a=(await Wp()).transaction(Ci,"readwrite");await a.objectStore(Ci).delete(e),await a.done}async function Gh(r,e){const t=$h(r),i=(await Wp()).transaction(Ci,"readwrite"),c=i.objectStore(Ci),d=await c.get(t),m=e(d);return m===void 0?await c.delete(t):await c.put(m,t),await i.done,m&&(!d||d.fid!==m.fid)&&OE(r,m.fid),m}async function Zp(r){let e;const t=await Gh(r.appConfig,a=>{const i=GI(a),c=KI(r,i);return e=c.registrationPromise,c.installationEntry});return t.fid===ep?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function GI(r){const e=r||{fid:UI(),registrationStatus:0};return VE(e)}function KI(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ki.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=YI(r,t);return{installationEntry:t,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:QI(r)}:{installationEntry:e}}async function YI(r,e){try{const t=await PI(r,e);return dh(r.appConfig,t)}catch(t){throw jE(t)&&t.customData.serverCode===409?await LE(r.appConfig):await dh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function QI(r){let e=await A_(r.appConfig);for(;e.registrationStatus===1;)await DE(100),e=await A_(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:a}=await Zp(r);return a||t}return e}function A_(r){return Gh(r,e=>{if(!e)throw ki.create("installation-not-found");return VE(e)})}function VE(r){return XI(r)?{fid:r.fid,registrationStatus:0}:r}function XI(r){return r.registrationStatus===1&&r.registrationTime+EE<Date.now()}async function JI({appConfig:r,heartbeatServiceProvider:e},t){const a=WI(r,t),i=DI(r,t),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&i.append("x-firebase-client",y)}const d={installation:{sdkVersion:TE,appId:r.appId}},m={method:"POST",headers:i,body:JSON.stringify(d)},p=await IE(()=>fetch(a,m));if(p.ok){const y=await p.json();return kE(y)}else throw await CE("Generate Auth Token",p)}function WI(r,{fid:e}){return`${AE(r)}/${e}/authTokens:generate`}async function e0(r,e=!1){let t;const a=await Gh(r.appConfig,c=>{if(!UE(c))throw ki.create("not-registered");const d=c.authToken;if(!e&&t4(d))return c;if(d.requestStatus===1)return t=ZI(r,e),c;{if(!navigator.onLine)throw ki.create("app-offline");const m=r4(c);return t=e4(r,m),m}});return t?await t:a.authToken}async function ZI(r,e){let t=await k_(r.appConfig);for(;t.authToken.requestStatus===1;)await DE(100),t=await k_(r.appConfig);const a=t.authToken;return a.requestStatus===0?e0(r,e):a}function k_(r){return Gh(r,e=>{if(!UE(e))throw ki.create("not-registered");const t=e.authToken;return s4(t)?{...e,authToken:{requestStatus:0}}:e})}async function e4(r,e){try{const t=await JI(r,e),a={...e,authToken:t};return await dh(r.appConfig,a),t}catch(t){if(jE(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await LE(r.appConfig);else{const a={...e,authToken:{requestStatus:0}};await dh(r.appConfig,a)}throw t}}function UE(r){return r!==void 0&&r.registrationStatus===2}function t4(r){return r.requestStatus===2&&!n4(r)}function n4(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+kI}function r4(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function s4(r){return r.requestStatus===1&&r.requestTime+EE<Date.now()}async function a4(r){const e=r,{installationEntry:t,registrationPromise:a}=await Zp(e);return a?a.catch(console.error):e0(e).catch(console.error),t.fid}async function i4(r,e=!1){const t=r;return await l4(t),(await e0(t,e)).token}async function l4(r){const{registrationPromise:e}=await Zp(r);e&&await e}function o4(r){if(!r||!r.options)throw wg("App Configuration");if(!r.name)throw wg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw wg(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function wg(r){return ki.create("missing-app-config-values",{valueName:r})}const zE="installations",c4="installations-internal",u4=r=>{const e=r.getProvider("app").getImmediate(),t=o4(e),a=Mi(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},d4=r=>{const e=r.getProvider("app").getImmediate(),t=Mi(e,zE).getImmediate();return{getId:()=>a4(t),getToken:i=>i4(t,i)}};function h4(){Vr(new mr(zE,u4,"PUBLIC")),Vr(new mr(c4,d4,"PRIVATE"))}h4();tr(NE,Jp);tr(NE,Jp,"esm2020");const hh="analytics",f4="firebase_id",m4="origin",g4=60*1e3,p4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",t0="https://www.googletagmanager.com/gtag/js";const jn=new Eh("@firebase/analytics");const y4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new Di("analytics","Analytics",y4);function x4(r){if(!r.startsWith(t0)){const e=Vn.create("invalid-gtag-resource",{gtagURL:r});return jn.warn(e.message),""}return r}function FE(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function v4(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function b4(r,e){const t=v4("firebase-js-sdk-policy",{createScriptURL:x4}),a=document.createElement("script"),i=`${t0}?l=${r}&id=${e}`;a.src=t?t?.createScriptURL(i):i,a.async=!0,document.head.appendChild(a)}function _4(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function w4(r,e,t,a,i,c){const d=a[i];try{if(d)await e[d];else{const p=(await FE(t)).find(y=>y.measurementId===i);p&&await e[p.appId]}}catch(m){jn.error(m)}r("config",i,c)}async function N4(r,e,t,a,i){try{let c=[];if(i&&i.send_to){let d=i.send_to;Array.isArray(d)||(d=[d]);const m=await FE(t);for(const p of d){const y=m.find(b=>b.measurementId===p),v=y&&e[y.appId];if(v)c.push(v);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",a,i||{})}catch(c){jn.error(c)}}function E4(r,e,t,a){async function i(c,...d){try{if(c==="event"){const[m,p]=d;await N4(r,e,t,m,p)}else if(c==="config"){const[m,p]=d;await w4(r,e,t,a,m,p)}else if(c==="consent"){const[m,p]=d;r("consent",m,p)}else if(c==="get"){const[m,p,y]=d;r("get",m,p,y)}else if(c==="set"){const[m]=d;r("set",m)}else r(c,...d)}catch(m){jn.error(m)}}return i}function T4(r,e,t,a,i){let c=function(...d){window[a].push(arguments)};return window[i]&&typeof window[i]=="function"&&(c=window[i]),window[i]=E4(c,r,e,t),{gtagCore:c,wrappedGtag:window[i]}}function S4(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(t0)&&t.src.includes(r))return t;return null}const j4=30,A4=1e3;class k4{constructor(e={},t=A4){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BE=new k4;function C4(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function R4(r){const{appId:e,apiKey:t}=r,a={method:"GET",headers:C4(t)},i=p4.replace("{app-id}",e),c=await fetch(i,a);if(c.status!==200&&c.status!==304){let d="";try{const m=await c.json();m.error?.message&&(d=m.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:d})}return c.json()}async function I4(r,e=BE,t){const{appId:a,apiKey:i,measurementId:c}=r.options;if(!a)throw Vn.create("no-app-id");if(!i){if(c)return{measurementId:c,appId:a};throw Vn.create("no-api-key")}const d=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new O4;return setTimeout(async()=>{m.abort()},g4),qE({appId:a,apiKey:i,measurementId:c},d,m,e)}async function qE(r,{throttleEndTimeMillis:e,backoffCount:t},a,i=BE){const{appId:c,measurementId:d}=r;try{await D4(a,e)}catch(m){if(d)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:c,measurementId:d};throw m}try{const m=await R4(r);return i.deleteThrottleMetadata(c),m}catch(m){const p=m;if(!M4(p)){if(i.deleteThrottleMetadata(c),d)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:c,measurementId:d};throw m}const y=Number(p?.customData?.httpStatus)===503?pb(t,i.intervalMillis,j4):pb(t,i.intervalMillis),v={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return i.setThrottleMetadata(c,v),jn.debug(`Calling attemptFetch again in ${y} millis`),qE(r,v,a,i)}}function D4(r,e){return new Promise((t,a)=>{const i=Math.max(e-Date.now(),0),c=setTimeout(t,i);r.addEventListener(()=>{clearTimeout(c),a(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function M4(r){if(!(r instanceof zn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class O4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function P4(r,e,t,a,i){if(i&&i.global){r("event",t,a);return}else{const c=await e,d={...a,send_to:c};r("event",t,d)}}async function L4(){if(fp())try{await mp()}catch(r){return jn.warn(Vn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return jn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function V4(r,e,t,a,i,c,d){const m=I4(r);m.then(N=>{t[N.measurementId]=N.appId,r.options.measurementId&&N.measurementId!==r.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>jn.error(N)),e.push(m);const p=L4().then(N=>{if(N)return a.getId()}),[y,v]=await Promise.all([m,p]);S4(c)||b4(c,y.measurementId),i("js",new Date);const b=d?.config??{};return b[m4]="firebase",b.update=!0,v!=null&&(b[f4]=v),i("config",y.measurementId,b),y.measurementId}class U4{constructor(e){this.app=e}_delete(){return delete Ec[this.app.options.appId],Promise.resolve()}}let Ec={},C_=[];const R_={};let Ng="dataLayer",z4="gtag",I_,HE,D_=!1;function F4(){const r=[];if(hp()&&r.push("This is a browser extension environment."),Uw()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,i)=>`(${i+1}) ${a}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});jn.warn(t.message)}}function B4(r,e,t){F4();const a=r.options.appId;if(!a)throw Vn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(Ec[a]!=null)throw Vn.create("already-exists",{id:a});if(!D_){_4(Ng);const{wrappedGtag:c,gtagCore:d}=T4(Ec,C_,R_,Ng,z4);HE=c,I_=d,D_=!0}return Ec[a]=V4(r,C_,R_,e,I_,Ng,t),new U4(r)}function q4(r=Th()){r=ht(r);const e=Mi(r,hh);return e.isInitialized()?e.getImmediate():H4(r)}function H4(r,e={}){const t=Mi(r,hh);if(t.isInitialized()){const i=t.getImmediate();if(ja(e,t.getOptions()))return i;throw Vn.create("already-initialized")}return t.initialize({options:e})}async function $4(){if(hp()||!Uw()||!fp())return!1;try{return await mp()}catch{return!1}}function G4(r,e,t,a){r=ht(r),P4(HE,Ec[r.app.options.appId],e,t,a).catch(i=>jn.error(i))}const M_="@firebase/analytics",O_="0.10.18";function K4(){Vr(new mr(hh,(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return B4(a,i,t)},"PUBLIC")),Vr(new mr("analytics-internal",r,"PRIVATE")),tr(M_,O_),tr(M_,O_,"esm2020");function r(e){try{const t=e.getProvider(hh).getImmediate();return{logEvent:(a,i,c)=>G4(t,a,i,c)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}}}K4();function $E(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y4=$E,GE=new Di("auth","Firebase",$E());const fh=new Eh("@firebase/auth");function Q4(r,...e){fh.logLevel<=ze.WARN&&fh.warn(`Auth (${Jl}): ${r}`,...e)}function Gd(r,...e){fh.logLevel<=ze.ERROR&&fh.error(`Auth (${Jl}): ${r}`,...e)}function pr(r,...e){throw n0(r,...e)}function Pr(r,...e){return n0(r,...e)}function KE(r,e,t){const a={...Y4(),[e]:t};return new Di("auth","Firebase",a).create(e,{appName:r.name})}function bs(r){return KE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n0(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return GE.create(r,...e)}function Ne(r,e,...t){if(!r)throw n0(e,...t)}function gs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Gd(e),new Error(e)}function Ts(r,e){r||gs(e)}function tp(){return typeof self<"u"&&self.location?.href||""}function X4(){return P_()==="http:"||P_()==="https:"}function P_(){return typeof self<"u"&&self.location?.protocol||null}function J4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X4()||hp()||"connection"in navigator)?navigator.onLine:!0}function W4(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ts(t>e,"Short delay should be less than long delay!"),this.isMobile=VA()||FA()}get(){return J4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function r0(r,e){Ts(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class YE{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tD=new Xc(3e4,6e4);function Va(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ss(r,e,t,a,i={}){return QE(r,i,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const m=qc({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:p,...c};return zA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(y.credentials="include"),YE.fetch()(await XE(r,r.config.apiHost,t,m),y)})}async function QE(r,e,t){r._canInitEmulator=!1;const a={...Z4,...e};try{const i=new rD(r),c=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Od(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Od(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Od(r,"user-disabled",d);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw KE(r,v,y);pr(r,v)}}catch(i){if(i instanceof zn)throw i;pr(r,"network-request-failed",{message:String(i)})}}async function Jc(r,e,t,a,i={}){const c=await Ss(r,e,t,a,i);return"mfaPendingCredential"in c&&pr(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function XE(r,e,t,a){const i=`${e}${t}?${a}`,c=r,d=c.config.emulator?r0(r.config,i):`${r.config.apiScheme}://${i}`;return eD.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function nD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class rD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(Pr(this.auth,"network-request-failed")),tD.get())})}}function Od(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const i=Pr(r,e,a);return i.customData._tokenResponse=t,i}function L_(r){return r!==void 0&&r.enterprise!==void 0}class sD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return nD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function aD(r,e){return Ss(r,"GET","/v2/recaptchaConfig",Va(r,e))}async function iD(r,e){return Ss(r,"POST","/v1/accounts:delete",e)}async function mh(r,e){return Ss(r,"POST","/v1/accounts:lookup",e)}function Tc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lD(r,e=!1){const t=ht(r),a=await t.getIdToken(e),i=s0(a);Ne(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const c=typeof i.firebase=="object"?i.firebase:void 0,d=c?.sign_in_provider;return{claims:i,token:a,authTime:Tc(Eg(i.auth_time)),issuedAtTime:Tc(Eg(i.iat)),expirationTime:Tc(Eg(i.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Eg(r){return Number(r)*1e3}function s0(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Dw(t);return i?JSON.parse(i):(Gd("Failed to decode base64 JWT payload"),null)}catch(i){return Gd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function V_(r){const e=s0(r);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Yl(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof zn&&oD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function oD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class cD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class np{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const e=r.auth,t=await r.getIdToken(),a=await Yl(r,mh(e,{idToken:t}));Ne(a?.users.length,e,"internal-error");const i=a.users[0];r._notifyReloadListener(i);const c=i.providerUserInfo?.length?JE(i.providerUserInfo):[],d=dD(r.providerData,c),m=r.isAnonymous,p=!(r.email&&i.passwordHash)&&!d?.length,y=m?p:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:d,metadata:new np(i.createdAt,i.lastLoginAt),isAnonymous:y};Object.assign(r,v)}async function uD(r){const e=ht(r);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dD(r,e){return[...r.filter(a=>!e.some(i=>i.providerId===a.providerId)),...e]}function JE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function hD(r,e){const t=await QE(r,{},async()=>{const a=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:c}=r.config,d=await XE(r,i,"/v1/token",`key=${c}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return r.emulatorConfig&&Xl(r.emulatorConfig.host)&&(p.credentials="include"),YE.fetch()(d,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function fD(r,e){return Ss(r,"POST","/v2/accounts:revokeToken",Va(r,e))}class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=V_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:i,expiresIn:c}=await hD(e,t);this.updateTokensAndExpiration(a,i,Number(c))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:i,expirationTime:c}=t,d=new Vl;return a&&(Ne(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),i&&(Ne(typeof i=="string","internal-error",{appName:e}),d.accessToken=i),c&&(Ne(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return gs("not implemented")}}function ga(r,e){Ne(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ur{constructor({uid:e,auth:t,stsTokenManager:a,...i}){this.providerId="firebase",this.proactiveRefresh=new cD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new np(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Yl(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lD(this,e)}reload(){return uD(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ur({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(bs(this.auth));const e=await this.getIdToken();return await Yl(this,iD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const a=t.displayName??void 0,i=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,y=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:R,providerData:M,stsTokenManager:q}=t;Ne(b&&q,e,"internal-error");const B=Vl.fromJSON(this.name,q);Ne(typeof b=="string",e,"internal-error"),ga(a,e.name),ga(i,e.name),Ne(typeof N=="boolean",e,"internal-error"),Ne(typeof R=="boolean",e,"internal-error"),ga(c,e.name),ga(d,e.name),ga(m,e.name),ga(p,e.name),ga(y,e.name),ga(v,e.name);const F=new ur({uid:b,auth:e,email:i,emailVerified:N,displayName:a,isAnonymous:R,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:B,createdAt:y,lastLoginAt:v});return M&&Array.isArray(M)&&(F.providerData=M.map(D=>({...D}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,a=!1){const i=new Vl;i.updateFromServerResponse(t);const c=new ur({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:a});return await gh(c),c}static async _fromGetAccountInfoResponse(e,t,a){const i=t.users[0];Ne(i.localId!==void 0,"internal-error");const c=i.providerUserInfo!==void 0?JE(i.providerUserInfo):[],d=!(i.email&&i.passwordHash)&&!c?.length,m=new Vl;m.updateFromIdToken(a);const p=new ur({uid:i.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new np(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!c?.length};return Object.assign(p,y),p}}const U_=new Map;function ps(r){Ts(r instanceof Function,"Expected a class definition");let e=U_.get(r);return e?(Ts(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,U_.set(r,e),e)}class WE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}WE.type="NONE";const z_=WE;function Kd(r,e,t){return`firebase:${r}:${e}:${t}`}class Ul{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:i,name:c}=this.auth;this.fullUserKey=Kd(this.userKey,i.apiKey,c),this.fullPersistenceKey=Kd("persistence",i.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mh(this.auth,{idToken:e}).catch(()=>{});return t?ur._fromGetAccountInfoResponse(this.auth,t,e):null}return ur._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Ul(ps(z_),e,a);const i=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=i[0]||ps(z_);const d=Kd(a,e.config.apiKey,e.name);let m=null;for(const y of t)try{const v=await y._get(d);if(v){let b;if(typeof v=="string"){const N=await mh(e,{idToken:v}).catch(()=>{});if(!N)break;b=await ur._fromGetAccountInfoResponse(e,N,v)}else b=ur._fromJSON(e,v);y!==c&&(m=b),c=y;break}}catch{}const p=i.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ul(c,e,a):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ul(c,e,a))}}function F_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(aT(e))return"Webos";if(eT(e))return"Safari";if((e.includes("chrome/")||tT(e))&&!e.includes("edge/"))return"Chrome";if(rT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if(a?.length===2)return a[1]}return"Other"}function ZE(r=on()){return/firefox\//i.test(r)}function eT(r=on()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tT(r=on()){return/crios\//i.test(r)}function nT(r=on()){return/iemobile/i.test(r)}function rT(r=on()){return/android/i.test(r)}function sT(r=on()){return/blackberry/i.test(r)}function aT(r=on()){return/webos/i.test(r)}function a0(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mD(r=on()){return a0(r)&&!!window.navigator?.standalone}function gD(){return BA()&&document.documentMode===10}function iT(r=on()){return a0(r)||rT(r)||aT(r)||sT(r)||/windows phone/i.test(r)||nT(r)}function lT(r,e=[]){let t;switch(r){case"Browser":t=F_(on());break;case"Worker":t=`${F_(on())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jl}/${a}`}class pD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});a.onAbort=t,this.queue.push(a);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function yD(r,e={}){return Ss(r,"GET","/v2/passwordPolicy",Va(r,e))}const xD=6;class vD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??xD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let i=0;i<e.length;i++)a=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,i,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class bD{constructor(e,t,a,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new pD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ps(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ul.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mh(this,{idToken:e}),a=await ur._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let a=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&m?.user&&(a=m.user,i=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=W4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(bs(this));const t=e?ht(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(bs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(bs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yD(this),t=new vD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Di("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await fD(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ps(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Ul.create(this,[ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,i){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,a,i);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Q4(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Li(r){return ht(r)}class B_{constructor(e){this.auth=e,this.observer=null,this.addObserver=YA(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _D(r){Kh=r}function oT(r){return Kh.loadJS(r)}function wD(){return Kh.recaptchaEnterpriseScript}function ND(){return Kh.gapiScript}function ED(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class TD{constructor(){this.enterprise=new SD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class SD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jD="recaptcha-enterprise",cT="NO_RECAPTCHA";class AD{constructor(e){this.type=jD,this.auth=Li(e)}async verify(e="verify",t=!1){async function a(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{aD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new sD(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function i(c,d,m){const p=window.grecaptcha;L_(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(cT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TD().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(m=>{if(!t&&L_(window.grecaptcha))i(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=wD();p.length!==0&&(p+=m),oT(p).then(()=>{i(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function q_(r,e,t,a=!1,i=!1){const c=new AD(r);let d;if(i)d=cT;else try{d=await c.verify(t)}catch{d=await c.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function rp(r,e,t,a,i){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await q_(r,e,t,t==="getOobCode");return a(r,c)}else return a(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await q_(r,e,t,t==="getOobCode");return a(r,d)}else return Promise.reject(c)})}function kD(r,e){const t=Mi(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),c=t.getOptions();if(ja(c,e??{}))return i;pr(i,"already-initialized")}return t.initialize({options:e})}function CD(r,e){const t=e?.persistence||[],a=(Array.isArray(t)?t:[t]).map(ps);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function RD(r,e,t){const a=Li(r);Ne(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const i=!1,c=uT(e),{host:d,port:m}=ID(e),p=m===null?"":`:${m}`,y={url:`${c}//${d}${p}/`},v=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!a._canInitEmulator){Ne(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ne(ja(y,a.config.emulator)&&ja(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,Xl(d)?(Lw(`${c}//${d}${p}`),Vw("Auth",!0)):DD()}function uT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ID(r){const e=uT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(a);if(i){const c=i[1];return{host:c,port:H_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:H_(d)}}}function H_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function DD(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class i0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,t){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function MD(r,e){return Ss(r,"POST","/v1/accounts:signUp",e)}async function OD(r,e){return Jc(r,"POST","/v1/accounts:signInWithPassword",Va(r,e))}async function PD(r,e){return Jc(r,"POST","/v1/accounts:signInWithEmailLink",Va(r,e))}async function LD(r,e){return Jc(r,"POST","/v1/accounts:signInWithEmailLink",Va(r,e))}class Uc extends i0{constructor(e,t,a,i=null){super("password",a),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Uc(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Uc(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,t,"signInWithPassword",OD);case"emailLink":return PD(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rp(e,a,"signUpPassword",MD);case"emailLink":return LD(e,{idToken:t,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zl(r,e){return Jc(r,"POST","/v1/accounts:signInWithIdp",Va(r,e))}const VD="http://localhost";class Ri extends i0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ri(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:i,...c}=t;if(!a||!i)return null;const d=new Ri(a,i);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return zl(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,zl(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zl(e,t)}buildRequest(){const e={requestUri:VD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qc(t)}return e}}function UD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zD(r){const e=dc(hc(r)).link,t=e?dc(hc(e)).deep_link_id:null,a=dc(hc(r)).deep_link_id;return(a?dc(hc(a)).link:null)||a||t||e||r}class l0{constructor(e){const t=dc(hc(e)),a=t.apiKey??null,i=t.oobCode??null,c=UD(t.mode??null);Ne(a&&i&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zD(e);try{return new l0(t)}catch{return null}}}class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,t){return Uc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=l0.parseLink(t);return Ne(a,"argument-error"),Uc._fromEmailAndCode(e,a.code,a.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class dT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wc extends dT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ya extends Wc{constructor(){super("facebook.com")}static credential(e){return Ri._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ya.credential(e.oauthAccessToken)}catch{return null}}}ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";ya.PROVIDER_ID="facebook.com";class xa extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ri._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return xa.credential(t,a)}catch{return null}}}xa.GOOGLE_SIGN_IN_METHOD="google.com";xa.PROVIDER_ID="google.com";class va extends Wc{constructor(){super("github.com")}static credential(e){return Ri._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.GITHUB_SIGN_IN_METHOD="github.com";va.PROVIDER_ID="github.com";class ba extends Wc{constructor(){super("twitter.com")}static credential(e,t){return Ri._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return ba.credential(t,a)}catch{return null}}}ba.TWITTER_SIGN_IN_METHOD="twitter.com";ba.PROVIDER_ID="twitter.com";async function FD(r,e){return Jc(r,"POST","/v1/accounts:signUp",Va(r,e))}class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,i=!1){const c=await ur._fromIdTokenResponse(e,a,i),d=$_(a);return new Ii({user:c,providerId:d,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const i=$_(a);return new Ii({user:e,providerId:i,_tokenResponse:a,operationType:t})}}function $_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class ph extends zn{constructor(e,t,a,i){super(t.code,t.message),this.operationType=a,this.user=i,Object.setPrototypeOf(this,ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,i){return new ph(e,t,a,i)}}function hT(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ph._fromErrorAndOperation(r,c,e,a):c})}async function BD(r,e,t=!1){const a=await Yl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ii._forOperation(r,"link",a)}async function qD(r,e,t=!1){const{auth:a}=r;if(Zn(a.app))return Promise.reject(bs(a));const i="reauthenticate";try{const c=await Yl(r,hT(a,i,e,r),t);Ne(c.idToken,a,"internal-error");const d=s0(c.idToken);Ne(d,a,"internal-error");const{sub:m}=d;return Ne(r.uid===m,a,"user-mismatch"),Ii._forOperation(r,i,c)}catch(c){throw c?.code==="auth/user-not-found"&&pr(a,"user-mismatch"),c}}async function fT(r,e,t=!1){if(Zn(r.app))return Promise.reject(bs(r));const a="signIn",i=await hT(r,a,e),c=await Ii._fromIdTokenResponse(r,a,i);return t||await r._updateCurrentUser(c.user),c}async function HD(r,e){return fT(Li(r),e)}async function mT(r){const e=Li(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gT(r,e,t){if(Zn(r.app))return Promise.reject(bs(r));const a=Li(r),d=await rp(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&mT(r),p}),m=await Ii._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(m.user),m}function $D(r,e,t){return Zn(r.app)?Promise.reject(bs(r)):HD(ht(r),ro.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&mT(r),a})}async function GD(r,e){return Ss(r,"POST","/v1/accounts:update",e)}async function KD(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=ht(r),c={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await Yl(a,GD(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const m=a.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=a.displayName,m.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function G_(r,e){return ht(r).setPersistence(e)}function YD(r,e,t,a){return ht(r).onIdTokenChanged(e,t,a)}function QD(r,e,t){return ht(r).beforeAuthStateChanged(e,t)}function XD(r,e,t,a){return ht(r).onAuthStateChanged(e,t,a)}function JD(r){return ht(r).signOut()}const yh="__sak";class pT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const WD=1e3,ZD=10;class yT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),i=this.localCache[t];a!==i&&e(t,i,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const a=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const d=this.storage.getItem(a);!t&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);gD()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZD):i()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},WD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yT.type="LOCAL";const sp=yT;class xT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xT.type="SESSION";const o0=xT;function e6(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const a=new Yh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:i,data:c}=t.data,d=this.handlersMap[i];if(!d?.size)return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:i});const m=Array.from(d).map(async y=>y(t.origin,c)),p=await e6(m);t.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function c0(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}class t6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const y=c0("",20);i.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:i,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(v),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(N.data.response);break;default:clearTimeout(v),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),i.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[i.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Lr(){return window}function n6(r){Lr().location.href=r}function vT(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function r6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s6(){return navigator?.serviceWorker?.controller||null}function a6(){return vT()?self:null}const bT="firebaseLocalStorageDb",i6=1,xh="firebaseLocalStorage",_T="fbase_key";class Zc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Qh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function l6(){const r=indexedDB.deleteDatabase(bT);return new Zc(r).toPromise()}function ap(){const r=indexedDB.open(bT,i6);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(xh,{keyPath:_T})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(xh)?e(a):(a.close(),await l6(),e(await ap()))})})}async function K_(r,e,t){const a=Qh(r,!0).put({[_T]:e,value:t});return new Zc(a).toPromise()}async function o6(r,e){const t=Qh(r,!1).get(e),a=await new Zc(t).toPromise();return a===void 0?null:a.value}function Y_(r,e){const t=Qh(r,!0).delete(e);return new Zc(t).toPromise()}const c6=800,u6=3;class wT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>u6)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(a6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await r6(),!this.activeServiceWorker)return;this.sender=new t6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await K_(e,yh,"1"),await Y_(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>K_(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>o6(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Y_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const c=Qh(i,!1).getAll();return new Zc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:i,value:c}of e)a.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(c)&&(this.notifyListeners(i,c),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!a.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const i of Array.from(a))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wT.type="LOCAL";const d6=wT;new Xc(3e4,6e4);function h6(r,e){return e?ps(e):(Ne(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class u0 extends i0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function f6(r){return fT(r.auth,new u0(r),r.bypassAuthState)}function m6(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),qD(t,new u0(r),r.bypassAuthState)}async function g6(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),BD(t,new u0(r),r.bypassAuthState)}class NT{constructor(e,t,a,i,c=!1){this.auth=e,this.resolver=a,this.user=i,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:i,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:a,tenantId:c||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return f6;case"linkViaPopup":case"linkViaRedirect":return g6;case"reauthViaPopup":case"reauthViaRedirect":return m6;default:pr(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const p6=new Xc(2e3,1e4);class Ml extends NT{constructor(e,t,a,i,c){super(e,t,i,c),this.provider=a,this.authWindow=null,this.pollId=null,Ml.currentPopupAction&&Ml.currentPopupAction.cancel(),Ml.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=c0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ml.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,p6.get())};e()}}Ml.currentPopupAction=null;const y6="pendingRedirect",Yd=new Map;class x6 extends NT{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Yd.get(this.auth._key());if(!e){try{const a=await v6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Yd.set(this.auth._key(),e)}return this.bypassAuthState||Yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v6(r,e){const t=w6(e),a=_6(r);if(!await a._isAvailable())return!1;const i=await a._get(t)==="true";return await a._remove(t),i}function b6(r,e){Yd.set(r._key(),e)}function _6(r){return ps(r._redirectPersistence)}function w6(r){return Kd(y6,r.config.apiKey,r.name)}async function N6(r,e,t=!1){if(Zn(r.app))return Promise.reject(bs(r));const a=Li(r),i=h6(a,e),d=await new x6(a,i,t).execute();return d&&!t&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const E6=600*1e3;class T6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ET(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Pr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q_(e))}saveEventToCache(e){this.cachedEventUids.add(Q_(e)),this.lastProcessedEventTime=Date.now()}}function Q_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ET({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function S6(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(r);default:return!1}}async function j6(r,e={}){return Ss(r,"GET","/v1/projects",e)}const A6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,k6=/^https?/;async function C6(r){if(r.config.emulator)return;const{authorizedDomains:e}=await j6(r);for(const t of e)try{if(R6(t))return}catch{}pr(r,"unauthorized-domain")}function R6(r){const e=tp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===a}if(!k6.test(t))return!1;if(A6.test(r))return a===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(a)}const I6=new Xc(3e4,6e4);function X_(){const r=Lr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function D6(r){return new Promise((e,t)=>{function a(){X_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{X_(),t(Pr(r,"network-request-failed"))},timeout:I6.get()})}if(Lr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Lr().gapi?.load)a();else{const i=ED("iframefcb");return Lr()[i]=()=>{gapi.load?a():t(Pr(r,"network-request-failed"))},oT(`${ND()}?onload=${i}`).catch(c=>t(c))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function M6(r){return Qd=Qd||D6(r),Qd}const O6=new Xc(5e3,15e3),P6="__/auth/iframe",L6="emulator/auth/iframe",V6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z6(r){const e=r.config;Ne(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?r0(e,L6):`https://${r.config.authDomain}/${P6}`,a={apiKey:e.apiKey,appName:r.name,v:Jl},i=U6.get(r.config.apiHost);i&&(a.eid=i);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${t}?${qc(a).slice(1)}`}async function F6(r){const e=await M6(r),t=Lr().gapi;return Ne(t,r,"internal-error"),e.open({where:document.body,url:z6(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:V6,dontclear:!0},a=>new Promise(async(i,c)=>{await a.restyle({setHideOnLeave:!1});const d=Pr(r,"network-request-failed"),m=Lr().setTimeout(()=>{c(d)},O6.get());function p(){Lr().clearTimeout(m),i(a)}a.ping(p).then(p,()=>{c(d)})}))}const B6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q6=500,H6=600,$6="_blank",G6="http://localhost";class J_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K6(r,e,t,a=q6,i=H6){const c=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p={...B6,width:a.toString(),height:i.toString(),top:c,left:d},y=on().toLowerCase();t&&(m=tT(y)?$6:t),ZE(y)&&(e=e||G6,p.scrollbars="yes");const v=Object.entries(p).reduce((N,[R,M])=>`${N}${R}=${M},`,"");if(mD(y)&&m!=="_self")return Y6(e||"",m),new J_(null);const b=window.open(e||"",m,v);Ne(b,r,"popup-blocked");try{b.focus()}catch{}return new J_(b)}function Y6(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}const Q6="__/auth/handler",X6="emulator/auth/handler",J6=encodeURIComponent("fac");async function W_(r,e,t,a,i,c){Ne(r.config.authDomain,r,"auth-domain-config-required"),Ne(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:Jl,eventId:i};if(e instanceof dT){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",KA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))d[v]=b}if(e instanceof Wc){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(d.scopes=v.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await r._getAppCheckToken(),y=p?`#${J6}=${encodeURIComponent(p)}`:"";return`${W6(r)}?${qc(m).slice(1)}${y}`}function W6({config:r}){return r.emulator?r0(r,X6):`https://${r.authDomain}/${Q6}`}const Tg="webStorageSupport";class Z6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o0,this._completeRedirectFn=N6,this._overrideRedirectResult=b6}async _openPopup(e,t,a,i){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await W_(e,t,a,tp(),i);return K6(e,c,c0())}async _openRedirect(e,t,a,i){await this._originValidation(e);const c=await W_(e,t,a,tp(),i);return n6(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:c}=this.eventManagers[t];return i?Promise.resolve(i):(Ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await F6(e),a=new T6(e);return t.register("authEvent",i=>(Ne(i?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tg,{type:Tg},i=>{const c=i?.[0]?.[Tg];c!==void 0&&t(!!c),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iT()||eT()||a0()}}const eM=Z6;var Z_="@firebase/auth",ew="1.11.0";class tM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nM(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rM(r){Vr(new mr("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=a.options;Ne(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(r)},y=new bD(a,i,c,p);return CD(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),Vr(new mr("auth-internal",e=>{const t=Li(e.getProvider("auth").getImmediate());return(a=>new tM(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(Z_,ew,nM(r)),tr(Z_,ew,"esm2020")}const sM=300,aM=Pw("authIdTokenMaxAge")||sM;let tw=null;const iM=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>aM)return;const i=t?.token;tw!==i&&(tw=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lM(r=Th()){const e=Mi(r,"auth");if(e.isInitialized())return e.getImmediate();const t=kD(r,{popupRedirectResolver:eM,persistence:[d6,sp,o0]}),a=Pw("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=iM(c.toString());QD(t,d,()=>d(t.currentUser)),YD(t,m=>d(m))}}const i=Mw("auth");return i&&RD(t,`http://${i}`),t}function oM(){return document.getElementsByTagName("head")?.[0]??document}_D({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=i=>{const c=Pr("internal-error");c.customData=i,t(c)},a.type="text/javascript",a.charset="UTF-8",oM().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rM("Browser");const cM={apiKey:"AIzaSyDyo2mO3V_udQY_KiVrTItXOD3ETSGufAo",authDomain:"familymatters-98d8f.firebaseapp.com",projectId:"familymatters-98d8f",storageBucket:"familymatters-98d8f.firebasestorage.app",messagingSenderId:"472637655089",appId:"1:472637655089:web:83f2c1599e79f20a20ed10",measurementId:"G-GPLQ4XPXGJ"},d0=Wk().length?Th():qw(cM),pi=lM(d0),Zt=oI(d0);typeof window<"u"&&$4().then(r=>{r&&q4(d0)});const pn=()=>{const r=Un(),e=Ma(),[t,a]=I.useState(!1),[i,c]=I.useState(0);I.useEffect(()=>{const p=vs(hr(Zt,"users"),Vc("status","==","pending")),y=nr(p,v=>{c(v.size)},v=>{console.error("Error fetching request count:",v)});return()=>y()},[]);const d=[{id:"dashboard",label:"Dashboard",icon:"ri-dashboard-line",path:"/"},{id:"requests",label:"New Requests",icon:"ri-file-list-3-line",path:"/requests",badge:i>0?i:void 0},{id:"inquiries",label:"Inquiries",icon:"ri-question-answer-line",path:"/inquiries"},{id:"surrogates",label:"Surrogates",icon:"ri-user-heart-line",path:"/surrogates"},{id:"parents",label:"Intended Parents",icon:"ri-parent-line",path:"/parents"},{id:"matches",label:"Matches",icon:"ri-links-line",path:"/matches"},{id:"contracts",label:"Contracts",icon:"ri-file-text-line",path:"/contracts"},{id:"medical",label:"Medical Records",icon:"ri-health-book-line",path:"/medical"},{id:"payments",label:"Payments",icon:"ri-money-dollar-circle-line",path:"/payments"},{id:"calendar",label:"Calendar",icon:"ri-calendar-line",path:"/calendar"},{id:"reports",label:"Reports",icon:"ri-bar-chart-line",path:"/reports"},{id:"settings",label:"Settings",icon:"ri-settings-3-line",path:"/settings"}],m=p=>{r(p)};return o.jsxs("div",{className:`bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 h-screen transition-all duration-300 ${t?"w-16":"w-64"}`,children:[o.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex items-center justify-between",children:[!t&&o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("i",{className:"ri-heart-3-fill text-white text-lg"})}),o.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",style:{fontFamily:'"Pacifico", serif'},children:"Family Matters"})]}),o.jsx("button",{onClick:()=>a(!t),className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:o.jsx("i",{className:`ri-menu-${t?"unfold":"fold"}-line text-gray-600 dark:text-gray-300`})})]})}),o.jsx("nav",{className:"p-4",children:o.jsx("ul",{className:"space-y-2",children:d.map(p=>{const y=e.pathname===p.path||e.pathname.startsWith(`${p.path}/`);return o.jsx("li",{children:o.jsxs("button",{onClick:()=>m(p.path),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 cursor-pointer ${y?"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-r-2 border-blue-600":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-white"}`,children:[o.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:o.jsx("i",{className:`${p.icon} text-lg`})}),!t&&o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"font-medium flex-1 text-left",children:p.label}),p.badge&&o.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full min-w-[20px] text-center",children:p.badge})]})]})},p.id)})})})]})},oe=({children:r,variant:e="primary",size:t="md",color:a,onClick:i,disabled:c=!1,className:d="",type:m="button"})=>{const p="whitespace-nowrap cursor-pointer font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2",y=()=>{if(a)switch(a){case"green":return e==="outline"?"border border-green-300 hover:border-green-400 text-green-700 bg-white hover:bg-green-50":"bg-green-600 hover:bg-green-700 text-white shadow-sm";case"red":return e==="outline"?"border border-red-300 hover:border-red-400 text-red-700 bg-white hover:bg-red-50":"bg-red-600 hover:bg-red-700 text-white shadow-sm";case"blue":return e==="outline"?"border border-blue-300 hover:border-blue-400 text-blue-700 bg-white hover:bg-blue-50":"bg-blue-600 hover:bg-blue-700 text-white shadow-sm";default:return"bg-blue-600 hover:bg-blue-700 text-white shadow-sm"}return{primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm",secondary:"bg-gray-100 hover:bg-gray-200 text-gray-700",outline:"border border-gray-300 hover:border-gray-400 text-gray-700 bg-white",danger:"bg-red-600 hover:bg-red-700 text-white shadow-sm"}[e]},v={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},b=c?"opacity-50 cursor-not-allowed":"";return o.jsx("button",{type:m,onClick:i,disabled:c,className:`${p} ${y()} ${v[t]} ${b} ${d}`,children:r})},TT=I.createContext(void 0);function uM({children:r}){const[e,t]=I.useState(null),[a,i]=I.useState(!0),[c,d]=I.useState(null),[m,p]=I.useState(!1),[y,v]=I.useState(null);I.useEffect(()=>{const q=XD(pi,B=>{t(B),i(!1)});return()=>q()},[]),I.useEffect(()=>{if(!e){d(null),p(!1),v(null);return}p(!0),v(null);const q=Ai(Zt,"users",e.uid),B=nr(q,F=>{if(F.exists()){const D=F.data();d({id:F.id,...D})}else d(null);p(!1)},F=>{console.error("Failed to subscribe to user profile",F),d(null),v(F.message),p(!1)});return()=>B()},[e]);const b=async({email:q,password:B,rememberMe:F=!0})=>(await G_(pi,F?sp:o0),$D(pi,q,B)),N=async({email:q,password:B})=>(await G_(pi,sp),gT(pi,q,B)),R=async()=>{await JD(pi)},M=I.useMemo(()=>({user:e,initializing:a,profile:c,profileLoading:m,profileError:y,login:b,signup:N,logout:R}),[e,a,c,m,y]);return o.jsx(TT.Provider,{value:M,children:r})}function Xh(){const r=I.useContext(TT);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const dM=({onClose:r})=>{const[e,t]=I.useState([]),[a,i]=I.useState(!0),c=Un();I.useEffect(()=>{const m=vs(hr(Zt,"users"),Pl("createdAt","desc"),vI(5)),p=nr(m,y=>{const v=y.docs.map(b=>{const N=b.data(),M=(N.role||"inquiry")==="inquiry"?"inquiry":"request";let q="Just now";if(N.createdAt instanceof Xe){const F=Xe.now().seconds-N.createdAt.seconds;F<60?q="Just now":F<3600?q=`${Math.floor(F/60)}m ago`:F<86400?q=`${Math.floor(F/3600)}h ago`:q=`${Math.floor(F/86400)}d ago`}const B=N.displayName||N.firstName||N.email||"New User";return{id:b.id,type:M,name:B,time:q,isRead:!1,source:N.source||"online"}});t(v),i(!1)});return()=>p()},[]);const d=m=>{m.type==="request"?c("/requests"):c("/inquiries"),r()};return o.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-100 dark:border-gray-700 overflow-hidden z-50 animate-in fade-in zoom-in-95 duration-200",children:[o.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center",children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Notifications"}),o.jsxs("span",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium bg-blue-50 dark:bg-blue-900/30 px-2 py-1 rounded-full",children:[e.length," New"]})]}),o.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:a?o.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"Loading..."}):e.length===0?o.jsxs("div",{className:"p-8 text-center text-gray-500 text-sm",children:[o.jsx("i",{className:"ri-notification-off-line text-2xl mb-2 block text-gray-400"}),"No new notifications"]}):o.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700",children:e.map(m=>o.jsx("div",{onClick:()=>d(m),className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer transition-colors group",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:`mt-1 w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${m.type==="request"?"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400":"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"}`,children:o.jsx("i",{className:m.type==="request"?"ri-file-list-3-line":"ri-question-line"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:m.type==="request"?"New Request received":"New Inquiry received"}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["From ",o.jsx("span",{className:"font-medium",children:m.name})," (",m.source,")"]}),o.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 block",children:m.time})]})]})},m.id))})}),o.jsx("div",{className:"p-3 border-t border-gray-100 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 text-center",children:o.jsx("button",{onClick:r,className:"text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Close Notifications"})})]})},yn=({onToggleSidebar:r})=>{const{isDark:e,toggleTheme:t}=EI(),a=Un(),{user:i,logout:c,initializing:d,profile:m,profileLoading:p}=Xh(),[y,v]=I.useState(!1),[b,N]=I.useState(!1),R=Ov.useRef(null);Ov.useEffect(()=>{const X=ce=>{R.current&&!R.current.contains(ce.target)&&N(!1)};return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[]);const M=I.useMemo(()=>{if(m&&typeof m=="object"){const X=m.firstName?.trim(),ce=m.lastName?.trim(),ue=[X,ce].filter(Boolean).join(" ");if(ue.length>0)return ue;const O=m.formData?.firstName,k=m.formData?.lastName,E=[O,k].filter(Boolean).join(" ");if(E.length>0)return E;const T=m.parent1?.name;if(T&&T.trim().length>0)return T.trim()}if(i?.displayName&&i.displayName.trim().length>0)return i.displayName;if(i?.email){const[X]=i.email.split("@");return X.charAt(0).toUpperCase()+X.slice(1)}return"Administrator"},[i,m]),q=I.useMemo(()=>{if(m&&typeof m=="object"){const X=m.role;if(X)return X}return"Signed in user"},[m]),B=I.useMemo(()=>p?"":m&&typeof m=="object"?m.email??i?.email??"Signed in user":i?.email??"Signed in user",[m,p,i]),F=I.useMemo(()=>d||p?"":[q,B].filter(ce=>ce&&ce.length>0).join("  "),[B,d,p,q]),D=I.useMemo(()=>{const ce=(M||B||"FM").split(" ").filter(Boolean).map(ue=>ue[0]?.toUpperCase()??"").join("").slice(0,2);return ce.length>0?ce:"FM"},[M,B]),U=async()=>{if(!y){v(!0);try{await c(),a("/auth/login")}catch(X){console.error("Failed to log out",X)}finally{v(!1)}}};return o.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 transition-colors duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[r&&o.jsx("button",{onClick:r,className:"lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:o.jsx("i",{className:"ri-menu-line text-xl text-gray-600 dark:text-gray-300"})}),o.jsxs("div",{className:"hidden sm:block",children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Family Matters Admin"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Surrogacy Program Management"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors duration-200",title:e?"Switch to light mode":"Switch to dark mode",children:e?o.jsx("i",{className:"ri-sun-line text-xl text-yellow-500"}):o.jsx("i",{className:"ri-moon-line text-xl text-gray-600"})}),o.jsxs("div",{className:"relative",ref:R,children:[o.jsxs("button",{onClick:()=>N(!b),className:`p-2 rounded-lg transition-colors relative ${b?"bg-gray-100 dark:bg-gray-700 text-blue-600":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:[o.jsx("i",{className:`text-xl ${b?"ri-notification-fill":"ri-notification-line"}`}),o.jsx("span",{className:"absolute top-2 right-2 w-2 h-2 bg-red-500 rounded-full border-2 border-white dark:border-gray-800"})]}),b&&o.jsx(dM,{onClose:()=>N(!1)})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"hidden md:block text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d||p?"Loading...":M}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d||p?"":F})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-sm font-medium text-white",children:D})}),o.jsxs(oe,{onClick:U,disabled:y,variant:"outline",size:"sm",className:"hidden sm:flex items-center gap-2 text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400 border-gray-300 dark:border-gray-600 hover:border-red-300 dark:hover:border-red-600",children:[o.jsx("i",{className:"ri-logout-box-line text-sm"}),o.jsx("span",{className:"hidden lg:inline",children:"Logout"})]}),o.jsx("button",{onClick:U,disabled:y,className:"sm:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",title:"Logout",children:o.jsx("i",{className:"ri-logout-box-line text-xl text-gray-600 dark:text-gray-300 hover:text-red-600 dark:hover:text-red-400"})})]})]})]})})},pe=({children:r,className:e="",padding:t="md",onClick:a})=>{const i={sm:"p-4",md:"p-6",lg:"p-8"};return o.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 transition-colors duration-200 ${i[t]} ${e}`,onClick:a,children:r})},me=({children:r,variant:e="neutral",color:t,size:a="md",className:i=""})=>{const c="inline-flex items-center font-medium rounded-full whitespace-nowrap",d=()=>{if(t)switch(t){case"yellow":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"blue":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"green":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"red":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"gray":return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200";case"purple":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"indigo":return"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200";case"pink":return"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}return{success:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",danger:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",info:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",neutral:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}[e]},m={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm"};return o.jsx("span",{className:`${c} ${d()} ${m[a]} ${i}`,children:r})},nw={upcomingAppointments:[{id:"APP-001",title:"Medical Screening - Sarah Johnson",time:"10:00 AM Today"},{id:"APP-002",title:"Consultation - Davis Family",time:"2:30 PM Today"},{id:"APP-003",title:"Legal Review - Contract Signing",time:"11:00 AM Tomorrow"},{id:"APP-004",title:"Psychological Evaluation",time:"3:00 PM Tomorrow"}],recentMedicalRecords:[{id:"MED-001",title:"Initial Medical Screening",patient:"Emma Thompson",date:"2024-01-10",doctor:"Dr. Michael Chen",facility:"Reproductive Health Center",status:"completed",attachments:2},{id:"MED-002",title:"Psychological Evaluation",patient:"Sarah Johnson",date:"2024-01-08",doctor:"Dr. Lisa Park",facility:"Mental Health Associates",status:"pending",attachments:1},{id:"MED-003",title:"Fertility Assessment",patient:"Maria Garcia",date:"2024-01-05",doctor:"Dr. Robert Kim",facility:"Advanced Fertility Clinic",status:"in-progress",attachments:3}]},hM=r=>typeof r=="object"&&r!==null&&!Array.isArray(r),fM=r=>typeof r=="object"&&r!==null&&typeof r.toDate=="function",mM=r=>r.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/\s+/g," ").trim().replace(/^\w/,e=>e.toUpperCase()),ST=r=>r==null?"":typeof r=="boolean"?r?"Yes":"No":r instanceof Date?r.toLocaleString():fM(r)?r.toDate().toLocaleString():Array.isArray(r)?r.length===0?"":o.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.map((e,t)=>o.jsx("li",{className:"text-sm text-gray-700 dark:text-gray-300",children:ST(e)},t))}):typeof r=="object"?h0(r,1):String(r),Pd=["firstname","lastname","name","email","phone","phonenumber","city","state","country","address","zipcode","zip","dob","dateofbirth"],rw=r=>r.replace(/[^a-z0-9]/gi,"").toLowerCase(),gM=r=>[...r].sort(([e],[t])=>{const a=rw(e),i=rw(t),c=Pd.indexOf(a),d=Pd.indexOf(i),m=c===-1?Pd.length:c,p=d===-1?Pd.length:d;return m!==p?m-p:e.localeCompare(t,void 0,{sensitivity:"base"})}),h0=(r,e=0)=>{const t=gM(Object.entries(r));return t.length===0?o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No data available."}):o.jsx("div",{className:`space-y-3 ${e>0?"pl-4 border-l border-gray-200 dark:border-gray-700":""}`,children:t.map(([a,i])=>{const c=mM(a);return hM(i)?o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400",children:c}),h0(i,e+1)]},a):o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500 dark:text-gray-400",children:c}),o.jsx("span",{className:"text-sm text-gray-900 dark:text-white break-words",children:ST(i)})]},a)})})},wt=({title:r,data:e,emptyMessage:t})=>!e||Object.keys(e).length===0?t?o.jsxs("div",{children:[r&&r.trim().length>0&&o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:r}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]}):null:o.jsxs("div",{children:[r&&r.trim().length>0&&o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:r}),h0(e)]}),pM=()=>{const r=Un(),[e,t]=I.useState([]),[a,i]=I.useState([]),[c,d]=I.useState([]),[m,p]=I.useState(!0),[y,v]=I.useState(!0),[b,N]=I.useState(null),[R,M]=I.useState(null),q=()=>{r("/medical")},B=()=>{r("/requests")},F=()=>{r("/appointments")};I.useEffect(()=>{const E=vs(hr(Zt,"users"),Vc("role","==","Intended Parent"),Pl("updatedAt","desc")),T=nr(E,A=>{const P=A.docs.map(C=>({id:C.id,data:C.data()}));t(P),p(!1),N(null)},A=>{console.error("Failed to load parents for dashboard",A),t([]),N("Unable to load intended parent updates."),p(!1)});return()=>T()},[]),I.useEffect(()=>{const E=vs(hr(Zt,"users"),Vc("role","==","Surrogate"),Pl("updatedAt","desc")),T=nr(E,A=>{const P=A.docs.map(C=>({id:C.id,data:C.data()}));i(P),v(!1),M(null)},A=>{console.error("Failed to load surrogates for dashboard",A),i([]),M("Unable to load surrogate updates."),v(!1)});return()=>T()},[]),I.useEffect(()=>{const E=vs(hr(Zt,"users"),Pl("createdAt","desc")),T=nr(E,A=>{const P=A.docs.map(C=>{const xe=C.data();return{id:C.id,data:{...xe,source:xe.source||"online"}}});d(P)},A=>{console.error("Failed to load inquiries for dashboard",A)});return()=>T()},[]);const D=I.useMemo(()=>{const E=e.length,T=e.filter(P=>P.data.profileCompleted).length,A=e.filter(P=>P.data.form2Completed).length;return[{label:"Tracked Parents",value:E},{label:"Profiles Complete",value:T},{label:"Form 2 Complete",value:A}]},[e]),U=I.useMemo(()=>{const E=a.length,T=a.filter(P=>P.data.profileCompleted).length,A=a.filter(P=>P.data.form2Completed).length;return[{label:"Tracked Surrogates",value:E},{label:"Profiles Complete",value:T},{label:"Form 2 Complete",value:A}]},[a]),X=E=>{if(!E)return null;if(typeof E=="object"&&E!==null&&"toDate"in E&&typeof E.toDate=="function")return E.toDate();const T=new Date(E);return Number.isNaN(T.getTime())?null:T},ce=E=>E?E.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}):"",ue=I.useMemo(()=>[...e].sort((E,T)=>{const A=X(E.data.updatedAt)??X(E.data.createdAt)??new Date(0);return(X(T.data.updatedAt)??X(T.data.createdAt)??new Date(0)).getTime()-A.getTime()}).slice(0,5).map(({id:E,data:T})=>{const A=T.parent1?.name,C=[T.formData?.firstName,T.formData?.lastName].filter(Boolean).join(" "),xe=C.length>0?C:void 0,Je=T.firstName,Y=T.email,ae=A??xe??Je??Y??"Intended Parent",ye=!!T.profileCompleted,Ie=!!T.form2Completed;let Oe="new";Ie?Oe="form2":ye&&(Oe="profile");const V={new:{label:"New",color:"yellow"},profile:{label:"Profile Complete",color:"blue"},form2:{label:"Form 2 Complete",color:"green"}},Z=X(T.updatedAt)??X(T.createdAt);return{id:E,name:ae,statusConfig:V[Oe],dateLabel:ce(Z),timeline:T.formData?.whenToStart,location:[T.formData?.city,T.formData?.state].filter(Boolean).join(", ")}}),[e]),O=I.useMemo(()=>{const E=e.length,T=a.length,A=e.filter(Y=>Y.data.profileCompleted).length,P=a.filter(Y=>Y.data.profileCompleted).length,C=(Y,ae)=>ae===0?"0 of 0":`${Y} of ${ae}  ${Math.round(Y/ae*100)}%`,xe=c.filter(Y=>Y.data.source==="online").length,Je=c.filter(Y=>Y.data.source==="phone").length;return[{id:"online-inquiries",label:"Online Inquiries",value:xe,subText:"Real-time",icon:"ri-global-line",colorClass:"bg-indigo-100 text-indigo-600"},{id:"phone-inquiries",label:"Phone Inquiries",value:Je,subText:"Real-time",icon:"ri-phone-line",colorClass:"bg-pink-100 text-pink-600"},{id:"parents-total",label:"Intended Parents",value:E,subText:C(A,E)+" profiles ready",icon:"ri-parent-line",colorClass:"bg-blue-100 text-blue-600"},{id:"surrogates-total",label:"Surrogates",value:T,subText:C(P,T)+" profiles ready",icon:"ri-user-heart-line",colorClass:"bg-rose-100 text-rose-600"}]},[e,a,c]),k=E=>{r(`/parents/${E}`)};return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Dashboard"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Welcome back! Here's what's happening with your surrogacy program."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:O.map(E=>o.jsx(pe,{className:"hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:E.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-2",children:E.value}),o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:E.subText})]}),o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${E.colorClass}`,children:o.jsx("i",{className:`${E.icon} text-lg`})})]})},E.id))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs(pe,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Requests"}),o.jsxs(oe,{variant:"outline",size:"sm",onClick:B,children:[o.jsx("i",{className:"ri-arrow-right-line mr-1"}),"View All"]})]}),m?o.jsx("div",{className:"space-y-3",children:Array.from({length:4}).map((E,T)=>o.jsx("div",{className:"h-16 w-full rounded-xl bg-gray-100 dark:bg-gray-800 animate-pulse"},T))}):b?o.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:b}):ue.length===0?o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent requests yet."}):o.jsx("div",{className:"space-y-4",children:ue.map(E=>o.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between p-4 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",onClick:()=>k(E.id),children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-line text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:E.name}),o.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 mt-0.5",children:E.dateLabel}),o.jsxs("div",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[E.timeline&&o.jsxs("p",{children:["Timeline: ",E.timeline]}),E.location&&o.jsxs("p",{children:["Location: ",E.location]})]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(me,{color:E.statusConfig.color,children:E.statusConfig.label}),o.jsxs(oe,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),k(E.id)},children:[o.jsx("i",{className:"ri-eye-line mr-1"}),"View"]})]})]},E.id))})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs(pe,{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(oe,{className:"w-full justify-start",variant:"outline",onClick:()=>r("/requests"),children:[o.jsx("i",{className:"ri-add-line mr-2"}),"New Application"]}),o.jsxs(oe,{className:"w-full justify-start",variant:"outline",onClick:()=>r("/matches"),children:[o.jsx("i",{className:"ri-links-line mr-2"}),"Create Match"]}),o.jsxs(oe,{className:"w-full justify-start",variant:"outline",onClick:()=>r("/appointments"),children:[o.jsx("i",{className:"ri-calendar-line mr-2"}),"Schedule Meeting"]}),o.jsxs(oe,{className:"w-full justify-start",variant:"outline",onClick:()=>r("/reports"),children:[o.jsx("i",{className:"ri-file-text-line mr-2"}),"Generate Report"]})]})]}),o.jsxs(pe,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Upcoming"}),o.jsxs(oe,{variant:"outline",size:"sm",onClick:F,children:[o.jsx("i",{className:"ri-calendar-line mr-1"}),"Calendar"]})]}),o.jsx("div",{className:"space-y-3",children:nw.upcomingAppointments.map(E=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors cursor-pointer",onClick:F,children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:E.title}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:E.time})]})]},E.id))})]})]})]}),o.jsx("div",{className:"mt-8",children:o.jsxs(pe,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Recent Medical Records"}),o.jsxs(oe,{variant:"outline",size:"sm",onClick:q,children:[o.jsx("i",{className:"ri-arrow-right-line mr-1"}),"View All"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:nw.recentMedicalRecords.map(E=>o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:q,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400",children:o.jsx("i",{className:"ri-search-line text-lg"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:E.title}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("i",{className:"ri-user-heart-line text-xs"}),o.jsx("span",{children:E.patient}),o.jsx("span",{children:""}),o.jsx("span",{children:E.date})]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[E.doctor,"  ",E.facility]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx(me,{color:E.status==="completed"?"green":E.status==="pending"?"yellow":"blue",children:E.status}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[E.attachments," attachments"]})]})]})},E.id))})]})}),o.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(pe,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Intended Parents Snapshot"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Latest families onboarding to Family Matters."})]}),o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>r("/parents"),children:[o.jsx("i",{className:"ri-parent-line mr-1"}),"View All"]})]}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:D.map(E=>o.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400",children:E.label}),o.jsx("p",{className:"mt-2 text-lg font-semibold text-gray-900 dark:text-white",children:E.value})]},E.label))}),m?o.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((E,T)=>o.jsx("div",{className:"h-20 w-full rounded-2xl bg-gray-100 dark:bg-gray-800 animate-pulse"},T))}):b?o.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:b}):e.length===0?o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No intended parents found."}):o.jsx("div",{className:"space-y-4",children:e.map(({id:E,data:T})=>o.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/60 p-4 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>r(`/parents/${E}`),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:T.firstName??T.email??"Intended Parent"}),o.jsxs("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 mt-1",children:["ID: ",E]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(me,{color:T.profileCompleted?"green":"yellow",children:T.profileCompleted?"Profile Complete":"Profile Pending"}),o.jsx(me,{color:T.form2Completed?"blue":"gray",children:T.form2Completed?"Form 2 Complete":"Form 2 Pending"})]})]}),o.jsx("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:o.jsx(wt,{title:"",data:{"When To Start":T.formData?.whenToStart,Location:[T.formData?.city,T.formData?.state].filter(Boolean).join(", ")},emptyMessage:"No journey details yet."})})]},E))})]}),o.jsxs(pe,{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Surrogate Snapshot"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Recent surrogates progressing through screening."})]}),o.jsxs(oe,{variant:"outline",size:"sm",onClick:()=>r("/surrogates"),children:[o.jsx("i",{className:"ri-user-heart-line mr-1"}),"View All"]})]}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:U.map(E=>o.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 p-3 shadow-sm",children:[o.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400",children:E.label}),o.jsx("p",{className:"mt-2 text-lg font-semibold text-gray-900 dark:text-white",children:E.value})]},E.label))}),y?o.jsx("div",{className:"space-y-3",children:Array.from({length:3}).map((E,T)=>o.jsx("div",{className:"h-20 w-full rounded-2xl bg-gray-100 dark:bg-gray-800 animate-pulse"},T))}):R?o.jsx("p",{className:"text-sm text-red-500 dark:text-red-400",children:R}):a.length===0?o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No surrogates found."}):o.jsx("div",{className:"space-y-4",children:a.map(({id:E,data:T})=>o.jsxs("div",{className:"rounded-2xl border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/60 p-4 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors cursor-pointer",onClick:()=>r(`/surrogates/${E}`),children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:T.firstName??T.email??"Surrogate"}),o.jsxs("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 mt-1",children:["ID: ",E]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(me,{color:T.profileCompleted?"green":"yellow",children:T.profileCompleted?"Profile Complete":"Profile Pending"}),o.jsx(me,{color:T.form2Completed?"blue":"gray",children:T.form2Completed?"Form 2 Complete":"Form 2 Pending"})]})]}),o.jsx("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400",children:o.jsx(wt,{title:"",data:{Availability:T.form2?.availability,Location:[T.formData?.city,T.formData?.state].filter(Boolean).join(", ")},emptyMessage:"No readiness details yet."})})]},E))})]})]})]})]})]})},jT=({isOpen:r,onClose:e,onSuccess:t,variant:a="simple"})=>{const[i,c]=I.useState(!1),[d,m]=I.useState({name:"",email:"",phone:"",message:"",role:"Intended Parents",age:"",location:"",experience:""});if(!r)return null;const p=async y=>{y.preventDefault(),c(!0);try{const v={displayName:d.name,email:d.email,phone:d.phone,message:d.message,source:"phone",status:"new",role:a==="detailed"?d.role==="Surrogate"?"Surrogate":"Intended Parents":"inquiry",createdAt:j_(),updatedAt:j_()};if(a==="detailed"&&(v.age=d.age,v.location=d.location,v.experience=d.experience),d.email){d.phone.length<6&&alert("Phone number too short to be used as password (min 6 chars). Inquiry saved without account creation.");try{const N=(await gT(pi,d.email,d.phone)).user.uid;await wI(Ai(Zt,"users",N),v)}catch(b){if(console.error("Auth creation failed:",b),b.code==="auth/email-already-in-use")alert("Email already in use. Saving inquiry without creating a new account."),await S_(hr(Zt,"users"),v);else throw b}}else await S_(hr(Zt,"users"),v);m({name:"",email:"",phone:"",message:"",role:"Intended Parents",age:"",location:"",experience:""}),t(),e()}catch(v){console.error("Error recording inquiry:",v),alert("Failed to record inquiry. Please check the details and try again.")}finally{c(!1)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Record Phone ",a==="detailed"?"Request":"Inquiry"]}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a==="detailed"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type *"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{type:"button",onClick:()=>m({...d,role:"Intended Parents"}),className:`px-4 py-2 rounded-lg border text-sm font-medium transition-colors ${d.role==="Intended Parents"?"border-blue-600 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"Intended Parent"}),o.jsx("button",{type:"button",onClick:()=>m({...d,role:"Surrogate"}),className:`px-4 py-2 rounded-lg border text-sm font-medium transition-colors ${d.role==="Surrogate"?"border-blue-600 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:"Surrogate"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name *"}),o.jsx("input",{type:"text",required:!0,value:d.name,onChange:y=>m({...d,name:y.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors",placeholder:"Caller's Name"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone *"}),o.jsx("input",{type:"tel",required:!0,value:d.phone,onChange:y=>m({...d,phone:y.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors",placeholder:"Phone Number"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),o.jsx("input",{type:"email",value:d.email,onChange:y=>m({...d,email:y.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors",placeholder:"Email (Optional)"})]})]}),a==="detailed"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Age"}),o.jsx("input",{type:"text",value:d.age,onChange:y=>m({...d,age:y.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors",placeholder:"Age"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:d.location,onChange:y=>m({...d,location:y.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors",placeholder:"City, State"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Experience / Background"}),o.jsx("textarea",{rows:2,value:d.experience,onChange:y=>m({...d,experience:y.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors resize-none",placeholder:"Relevant experience..."})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message / Notes"}),o.jsx("textarea",{rows:a==="detailed"?3:4,value:d.message,onChange:y=>m({...d,message:y.target.value}),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none transition-colors resize-none",placeholder:"Notes from the call..."})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[o.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 rounded-lg text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),o.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:i?o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-save-line"}),"Save ",a==="detailed"?"Request":"Inquiry"]})})]})]})]})})})},yM=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState("online"),[i,c]=I.useState(!1),[d,m]=I.useState(null),[p,y]=I.useState(!1),[v,b]=I.useState([]),[N,R]=I.useState(!0),M=Un();I.useEffect(()=>{const E=vs(hr(Zt,"users"),Pl("createdAt","desc")),T=nr(E,A=>{const P=A.docs.map(C=>{const xe=C.data(),Je=xe.source||"online";return{id:C.id,...xe,applicantName:xe.displayName||`${xe.firstName||""} ${xe.lastName||""}`.trim()||xe.email,type:xe.role==="Surrogate"?"Surrogate Application":"Intended Parents",status:xe.status||"pending",source:Je,submittedDate:xe.createdAt instanceof Xe?xe.createdAt.toDate().toLocaleDateString():xe.submittedDate||"N/A"}});b(P),R(!1)},A=>{console.error("Error fetching requests:",A),R(!1)});return()=>T()},[]);const[q,B]=I.useState(!1),F=async E=>{if(d){B(!0);try{await Sa(Ai(Zt,"users",d.id),{status:E,updatedAt:Xe.now()}),m(null)}catch(T){console.error("Error updating status:",T),alert("Failed to update status. Please try again.")}finally{B(!1)}}},D=()=>{if(!d?.email){alert("No email address available for this request.");return}window.open(`mailto:${d.email}?subject=Regarding your application`,"_blank")},U=async()=>{if(d){B(!0);try{await Sa(Ai(Zt,"users",d.id),{role:"inquiry",status:"new",updatedAt:Xe.now()}),M("/inquiries")}catch(E){console.error("Error converting to inquiry:",E),alert("Failed to convert to inquiry.")}finally{B(!1)}}},X=v.filter(E=>E.source===t),ce=r==="all"?X:X.filter(E=>E.status===r),ue=E=>E==="all"?X.length:X.filter(T=>T.status===E).length,O=[{value:"all",label:"All Requests"},{value:"pending",label:"Pending"},{value:"under-review",label:"Under Review"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],k=E=>{switch(E){case"pending":return o.jsx(me,{color:"yellow",children:"Pending"});case"under-review":return o.jsx(me,{color:"blue",children:"Under Review"});case"approved":return o.jsx(me,{color:"green",children:"Approved"});case"rejected":return o.jsx(me,{color:"red",children:"Rejected"});default:return o.jsx(me,{children:E})}};return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{onToggleSidebar:()=>y(!p)}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Requests Management"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all incoming surrogacy applications and requests."})]}),o.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2 w-fit shadow-sm",children:[o.jsx("i",{className:"ri-phone-line"}),"Record Phone Request"]})]}),o.jsx(jT,{isOpen:i,onClose:()=>c(!1),onSuccess:()=>a("phone"),variant:"detailed"}),o.jsx("div",{className:"mb-6 border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex space-x-8",children:[o.jsxs("button",{onClick:()=>{a("online"),e("all")},className:`pb-4 px-2 text-sm font-medium transition-colors cursor-pointer relative ${t==="online"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Online Inquiries",t==="online"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]}),o.jsxs("button",{onClick:()=>{a("phone"),e("all")},className:`pb-4 px-2 text-sm font-medium transition-colors cursor-pointer relative ${t==="phone"?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Phone Inquiries",t==="phone"&&o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-600 dark:bg-blue-400"})]})]})}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:O.map(E=>o.jsxs("button",{onClick:()=>e(E.value),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===E.value?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[E.label," (",ue(E.value),")"]},E.value))})}),N?o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Array.from({length:6}).map((E,T)=>o.jsx("div",{className:"h-64 bg-gray-100 dark:bg-gray-800 rounded-xl animate-pulse"},T))}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:ce.map(E=>o.jsxs(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>m(E),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-line text-blue-600 dark:text-blue-400 text-lg"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:E.applicantName}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:E.type})]})]}),k(E.status)]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Age:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:E.age})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Location:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:E.location})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Experience:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:E.experience})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Submitted:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:E.submittedDate})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{size:"sm",className:"flex-1",children:[o.jsx("i",{className:"ri-eye-line mr-1"}),"View Details"]}),E.status==="pending"&&o.jsx(oe,{size:"sm",color:"green",onClick:T=>{T.stopPropagation()},children:o.jsx("i",{className:"ri-check-line"})})]})]},E.id))}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Request Details"}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-line text-blue-600 dark:text-blue-400 text-2xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:d.applicantName}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d.type}),k(d.status)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Age"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:d.age||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Location"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:d.location||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Experience"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:d.experience||"N/A"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Submitted Date"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:d.submittedDate})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Contact Information"}),o.jsxs("div",{className:"mt-2 space-y-1",children:[o.jsxs("p",{className:"text-gray-900 dark:text-white",children:["Email: ",d.email]}),o.jsxs("p",{className:"text-gray-900 dark:text-white",children:["Phone: ",d.phone]})]})]}),d.message&&o.jsxs("div",{children:[o.jsx("label",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Notes / Message"}),o.jsx("p",{className:"text-gray-900 dark:text-white bg-gray-50 dark:bg-gray-900 p-3 rounded mt-2",children:d.message})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"green",className:"flex-1",onClick:()=>F("approved"),disabled:q||d.status==="approved",children:[q?o.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}):o.jsx("i",{className:"ri-check-line mr-2"}),"Approve"]}),o.jsxs(oe,{color:"red",className:"flex-1",onClick:()=>F("rejected"),disabled:q||d.status==="rejected",children:[q?o.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}):o.jsx("i",{className:"ri-close-line mr-2"}),"Reject"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",onClick:D,children:[o.jsx("i",{className:"ri-message-line mr-2"}),"Contact"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",onClick:U,disabled:q,children:[q?o.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}):o.jsx("i",{className:"ri-share-forward-line mr-2"}),"Convert to Inquiry"]})]})]})]})})})]})]})]})},xM=()=>{const[r,e]=I.useState("online"),[t,a]=I.useState(null),[i,c]=I.useState(!1),[d,m]=I.useState([]),[p,y]=I.useState(!0);I.useEffect(()=>{const N=vs(hr(Zt,"users"),Pl("createdAt","desc")),R=nr(N,M=>{const q=M.docs.map(B=>{const F=B.data(),D=F.formData||{},U=F.source==="phone"?"phone":"online";let X="Recently";if(F.createdAt){if(F.createdAt instanceof Xe)X=F.createdAt.toDate().toLocaleDateString();else if(typeof F.createdAt=="string"){const ue=new Date(F.createdAt);isNaN(ue.getTime())?X=F.createdAt:X=ue.toLocaleDateString()}}const ce=F.displayName||(F.firstName&&F.lastName?`${F.firstName} ${F.lastName}`:"")||(D.firstName&&D.lastName?`${D.firstName} ${D.lastName}`:"")||F.email||"Unknown User";return{id:B.id,name:ce,type:U,email:F.email||D.email||"No email provided",phone:F.phone||D.phone||"No phone provided",message:F.message||D.message||"No message content",date:X,status:F.status||"new",fullData:F}});m(q),y(!1)},M=>{console.error("Error fetching inquiries:",M),y(!1)});return()=>R()},[]);const v=d.filter(N=>N.type===r),b=N=>{switch(N){case"new":return o.jsx(me,{color:"blue",children:"New"});case"in-progress":return o.jsx(me,{color:"yellow",children:"In Progress"});case"closed":return o.jsx(me,{color:"green",children:"Closed"});default:return o.jsx(me,{children:N})}};return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Inquiries"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage online and phone inquiries."})]}),o.jsxs("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2 w-fit shadow-sm",children:[o.jsx("i",{className:"ri-phone-line"}),"Record Phone Inquiry"]})]}),o.jsx(jT,{isOpen:i,onClose:()=>c(!1),onSuccess:()=>{},variant:"detailed"}),"     ",o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:[o.jsx("button",{onClick:()=>e("online"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r==="online"?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Online Inquiries"}),o.jsx("button",{onClick:()=>e("phone"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r==="phone"?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:"Phone Inquiries"})]})}),p?o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[1,2,3].map(N=>o.jsx("div",{className:"h-48 bg-gray-100 dark:bg-gray-800 rounded-lg animate-pulse"},N))}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[v.map(N=>o.jsxs(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(N),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${N.type==="online"?"bg-purple-100 dark:bg-purple-900":"bg-green-100 dark:bg-green-900"}`,children:o.jsx("i",{className:`${N.type==="online"?"ri-global-line text-purple-600 dark:text-purple-400":"ri-phone-line text-green-600 dark:text-green-400"} text-lg`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:N.name}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:N.type})]})]}),b(N.status)]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:N.date})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:N.email})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Phone:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:N.phone})]})]}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-4",children:N.message})]},N.id)),v.length===0&&o.jsxs("div",{className:"col-span-full text-center py-10 text-gray-500 dark:text-gray-400",children:["No ",r," inquiries found."]})]}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Inquiry Details"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${t.type==="online"?"bg-purple-100 dark:bg-purple-900":"bg-green-100 dark:bg-green-900"}`,children:o.jsx("i",{className:`${t.type==="online"?"ri-global-line text-purple-600 dark:text-purple-400":"ri-phone-line text-green-600 dark:text-green-400"} text-2xl`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.name}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t.email}),b(t.status)]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Message"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:t.message})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 block text-sm",children:"Phone"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.phone})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400 block text-sm",children:"Date"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.date})]})]})]})]})})})]})]})]})},Sg=[{id:"all",label:"All",filter:r=>!0},{id:"available",label:"Available",filter:r=>r.status==="Available"||!r.form2Completed&&!r.profileCompleted},{id:"potential",label:"Potential",filter:r=>r.status==="Potential"},{id:"records_review",label:"Records Review",filter:r=>r.status==="Records Review"},{id:"screening",label:"Screening",filter:r=>r.status==="Screening"},{id:"legal",label:"Legal",filter:r=>r.status==="Legal"},{id:"cycling",label:"Cycling",filter:r=>r.status==="Cycling"},{id:"pregnant",label:"Pregnant",filter:r=>r.status==="Pregnant"}],vM=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState(null),[i,c]=I.useState([]),[d,m]=I.useState(!0),[p,y]=I.useState(null),v=Un();I.useEffect(()=>{const D=vs(hr(Zt,"users"),Vc("role","==","Surrogate")),U=nr(D,X=>{const ce=X.docs.map(ue=>({id:ue.id,...ue.data()}));c(ce),m(!1),y(null)},X=>{console.error("Failed to load surrogates",X),y("Unable to load surrogate records. Please try again later."),m(!1)});return()=>U()},[]);const b=I.useMemo(()=>Sg.reduce((D,U)=>(D[U.id]=i.filter(X=>U.filter(X)).length,D),{}),[i]),N=I.useMemo(()=>{const D=Sg.find(U=>U.id===r);return D?i.filter(U=>D.filter(U)):i},[r,i]),R=D=>{switch(D.status){case"Available":return o.jsx(me,{color:"green",children:"Available"});case"Potential":return o.jsx(me,{color:"blue",children:"Potential"});case"Records Review":return o.jsx(me,{color:"yellow",children:"Records Review"});case"Screening":return o.jsx(me,{color:"purple",children:"Screening"});case"Legal":return o.jsx(me,{color:"indigo",children:"Legal"});case"Cycling":return o.jsx(me,{color:"pink",children:"Cycling"});case"Pregnant":return o.jsx(me,{color:"red",children:"Pregnant"});default:return D.form2Completed?o.jsx(me,{color:"green",children:"Form 2 Complete"}):D.profileCompleted?o.jsx(me,{color:"blue",children:"Profile Complete"}):o.jsx(me,{color:"gray",children:"Unknown"})}},M=D=>{const U=D.formData?.firstName,X=D.formData?.lastName,ce=[U,X].filter(Boolean).join(" ");if(ce.length>0)return ce;const ue=D.firstName??"",O=D.lastName??"",k=[ue,O].filter(Boolean).join(" ");return k.length>0?k:D.email??"Surrogate"},q=D=>{const U=D.formData,X=U?.city??"",ce=U?.state??"";return[X,ce].filter(Boolean).join(", ")||"Not specified"},B=D=>(D.form2??{})?.pregnancyHistory?.total??D.form2?.surrogacyChildren??"",F=D=>D.form2?.availability??"Not provided";return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Surrogates Management"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all registered surrogates and their profiles."})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:Sg.map(D=>o.jsxs("button",{onClick:()=>e(D.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===D.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[D.label," (",b[D.id]??0,")"]},D.id))})}),p&&o.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900 dark:bg-red-950/60 dark:text-red-300",children:p}),d?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Array.from({length:6}).map((D,U)=>o.jsx(pe,{className:"animate-pulse",children:o.jsx("div",{className:"h-48 w-full rounded-lg bg-gray-100 dark:bg-gray-800"})},U))}):o.jsx(o.Fragment,{children:N.length===0?o.jsx(pe,{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:"No surrogate profiles match this filter."}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:N.map(D=>o.jsxs(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(D),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 dark:bg-pink-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-heart-line text-pink-600 dark:text-pink-400 text-lg"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:M(D)}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 break-all",children:["ID: ",D.id]})]})]}),R(D)]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email:"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-right break-words",children:D.email??""})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Location:"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-right",children:q(D)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Experience:"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-right",children:B(D)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Availability:"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-right",children:F(D)})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{size:"sm",className:"flex-1",onClick:U=>{U.stopPropagation(),v(`/surrogates/${D.id}`)},children:[o.jsx("i",{className:"ri-eye-line mr-1"}),"View Profile"]}),o.jsx(oe,{size:"sm",color:"blue",children:o.jsx("i",{className:"ri-message-line"})})]})]},D.id))})}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Surrogate Profile"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-pink-100 dark:bg-pink-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-heart-line text-pink-600 dark:text-pink-400 text-2xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:M(t)}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 break-all",children:["Surrogate ID: ",t.id]}),R(t)]})]}),o.jsx(wt,{title:"Profile Overview",data:{Email:t.email,Role:t.role,"Profile Completed":t.profileCompleted,"Form 2 Completed":t.form2Completed,"Created At":t.createdAt,"Updated At":t.updatedAt}}),o.jsx(wt,{title:"Form 1 Responses",data:t.formData??null,emptyMessage:"No form data available."}),o.jsx(wt,{title:"Form 2 Responses",data:t.form2??null,emptyMessage:"Form 2 has not been completed."}),o.jsx(wt,{title:"Additional Profile Data",data:t.form2Data??null,emptyMessage:"No additional data provided."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-links-line mr-2"}),"Create Match"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-message-line mr-2"}),"Send Message"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Profile"]})]})]})]})})})]})]})]})},Ld=(r,e)=>{try{const t=r&&Object.keys(r).length>0,a=e&&Object.keys(e).length>0;return JSON.stringify((t?r:a?e:{})??{},null,2)}catch{return"{}"}},Xt=({title:r,data:e,emptyMessage:t,description:a,templateData:i,onSave:c})=>{const[d,m]=I.useState(!1),[p,y]=I.useState(Ld(e,i)),[v,b]=I.useState(null),[N,R]=I.useState(!1),M=!e||Object.keys(e).length===0;I.useEffect(()=>{d||y(Ld(e,i))},[e,i,d]);const q=()=>{y(Ld(e,i)),b(null),m(!0)},B=()=>{m(!1),b(null),y(Ld(e,i))},F=async()=>{try{const D=p.trim()===""?{}:JSON.parse(p);if(D===null||Array.isArray(D)||typeof D!="object"){b("Please provide a valid JSON object.");return}R(!0),await c(D),R(!1),m(!1),b(null)}catch(D){console.error(D),R(!1),b("Unable to parse the JSON. Please ensure it is valid.")}};return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r}),a&&o.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:a})]}),d?null:M?o.jsxs(oe,{size:"sm",color:"blue",onClick:q,children:[o.jsx("i",{className:"ri-add-line text-sm"}),"Add Details"]}):o.jsxs(oe,{size:"sm",variant:"outline",onClick:q,children:[o.jsx("i",{className:"ri-edit-line text-sm"}),"Edit"]})]}),d?o.jsxs(o.Fragment,{children:[o.jsx("textarea",{value:p,onChange:D=>y(D.target.value),rows:14,spellCheck:!1,className:"w-full rounded-2xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 px-4 py-3 font-mono text-sm text-gray-800 dark:text-gray-100 shadow-inner focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:`{
  "example": "value"
}`}),v&&o.jsx("p",{className:"text-xs font-medium text-red-500 dark:text-red-400",children:v}),o.jsxs("div",{className:"flex items-center justify-end gap-3",children:[o.jsx(oe,{size:"sm",variant:"outline",onClick:B,disabled:N,children:"Cancel"}),o.jsx(oe,{size:"sm",color:"blue",onClick:F,disabled:N,children:N?o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-loader-4-line animate-spin text-sm"}),"Saving..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-save-3-line text-sm"}),"Save"]})})]})]}):o.jsx(wt,{title:"",data:e??void 0,emptyMessage:t})]})},AT=({message:r,subMessage:e,type:t="success",onClose:a,duration:i=3e3})=>{I.useEffect(()=>{const p=setTimeout(()=>{a()},i);return()=>clearTimeout(p)},[i,a]);const c={success:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-800",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-800",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-800"},d={success:"text-emerald-500 dark:text-emerald-400",error:"text-red-500 dark:text-red-400",info:"text-blue-500 dark:text-blue-400"},m={success:"ri-checkbox-circle-fill",error:"ri-error-warning-fill",info:"ri-information-fill"};return o.jsx("div",{className:"fixed bottom-6 right-6 z-50 animate-slide-up",children:o.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg shadow-lg border ${c[t]} max-w-md`,children:[o.jsx("i",{className:`${m[t]} ${d[t]} text-xl mt-0.5`}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:r}),e&&o.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:e})]}),o.jsx("button",{onClick:a,className:"ml-4 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:o.jsx("i",{className:"ri-close-line"})})]})})},kT={firstName:"",lastName:"",role:"",profileCompleted:!1,form2Completed:!1,profileCompletedAt:"",form2CompletedAt:""},CT={firstName:"",lastName:"",email:"",phoneNumber:"",city:"",state:"",country:"",zip:"",address:"",whenToStart:"",preferredContactMethod:""},bM={availability:"",pregnancyHistory:{total:"",vaginal:"",cSection:""},surrogacyChildren:"",bmi:"",smoker:!1,medications:"",supportSystem:""},_M={preferences:"",notes:"",availabilityWindow:"",languages:[]},wM={fertilityClinic:"",embryosAvailable:"",embryoQuality:"",medicalHistory:"",timeline:"",surrogacyBudget:"",legalCounsel:""},NM={clinicName:"",physician:"",clinicContact:"",embryoReport:"",geneticTesting:""},sw={name:"",dateOfBirth:"",occupation:"",phoneNumber:"",email:"",preferredPronouns:"",notes:""},EM={location:"",experiencePreference:"",communicationStyle:"",budgetRange:"",lifestylePreferences:""},TM={ivfEvaluationSummary:"",ovarianReserveAMH:"",semenAnalysis:"",diagnosis:""},SM={hiv:"",hbsag:"",hcv:"",vdrl:"",cmv:""},jM={embryoFreezingReport:"",donorScreeningReport:""},AM={gynecologicalExam:"",obstetricHistory:"",bmi:"",bp:"",generalHealthClearance:""},kM={hiv:"",hbsag:"",hcv:"",vdrl:"",torch:""},CM={mentalHealthClearanceDoc:""},aw=["firstName","lastName","role","profileCompleted","form2Completed","profileCompletedAt","form2CompletedAt"],RM=["Available","Potential","Records Review","Screening","Legal","Cycling","Pregnant"],IM=()=>{const{id:r}=Nw(),e=Un(),[t,a]=I.useState(null),[i,c]=I.useState(!0),[d,m]=I.useState(null),[p,y]=I.useState(!1),[v,b]=I.useState(null),N=I.useMemo(()=>r?Ai(Zt,"users",r):null,[r]);I.useEffect(()=>{if(!r){m("No surrogate id provided."),c(!1);return}if(!N){a(null),m("Surrogate profile not found."),c(!1);return}const A=nr(N,P=>{P.exists()?(a({id:P.id,...P.data()}),m(null)):(a(null),m("Surrogate profile not found.")),c(!1)},P=>{console.error("Failed to load surrogate profile",P),m("Unable to load surrogate profile. Please try again later."),a(null),c(!1)});return()=>A()},[r,N]);const R=A=>{if(!A)return"";if(typeof A=="string"||typeof A=="number"){const P=new Date(A);return Number.isNaN(P.getTime())?String(A):P.toLocaleString()}return typeof A=="object"&&A!==null&&"toDate"in A&&typeof A.toDate=="function"?A.toDate().toLocaleString():String(A)},M=I.useMemo(()=>{if(!t)return"Surrogate Profile";const A=t.formData?.firstName,P=t.formData?.lastName,C=[A,P].filter(Boolean).join(" ");if(C.length>0)return C;const xe=t.firstName??"",Je=t.lastName??"",Y=[xe,Je].filter(Boolean).join(" ");return Y.length>0?Y:t.email??"Surrogate Profile"},[t]),q=I.useMemo(()=>M&&M.split(" ").filter(Boolean).map(A=>A[0]?.toUpperCase()??"").join("").slice(0,2)||"FM",[M]),B=I.useMemo(()=>{if(!t)return null;const A=t.formData,P=A?.city?.trim(),C=A?.state?.trim(),xe=[P,C].filter(Boolean).join(", ");return xe.length>0?xe:null},[t]),F=I.useMemo(()=>{if(!t)return null;const P=t.form2?.availability??t.form2Data?.availability;return P?String(P):null},[t]),D=I.useMemo(()=>{if(!t)return null;const A=t.form2??{},P=A?.pregnancyHistory?.total,C=A?.surrogacyChildren??t.form2Data?.surrogacyChildren;return P?`${P} pregnancies`:C?`${C} surrogacy journey${C==="1"?"":"s"}`:null},[t]),U=I.useMemo(()=>R(t?.createdAt),[t]),X=I.useMemo(()=>R(t?.updatedAt),[t]),ce=I.useMemo(()=>[t?.email&&{icon:"ri-mail-line",label:"Email",value:t.email},B&&{icon:"ri-map-pin-line",label:"Location",value:B},F&&{icon:"ri-calendar-check-line",label:"Availability",value:F}].filter(Boolean),[F,B,t?.email]),ue=I.useMemo(()=>[{label:"Profile Status",value:t?.profileCompleted?"Ready":"In Progress",icon:t?.profileCompleted?"ri-heart-3-line":"ri-time-line",className:t?.profileCompleted?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-amber-500/10 text-amber-400 border border-amber-500/20"},{label:"Form 2",value:t?.form2Completed?"Complete":"Pending",icon:t?.form2Completed?"ri-clipboard-check-line":"ri-clipboard-line",className:t?.form2Completed?"bg-fuchsia-500/10 text-fuchsia-400 border border-fuchsia-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"},{label:"Experience",value:D??"",icon:"ri-user-heart-line",className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200"},{label:"Last Updated",value:X,icon:"ri-refresh-line",className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200"}],[D,t?.form2Completed,t?.profileCompleted,X]),O=I.useMemo(()=>t?aw.reduce((A,P)=>(P in t&&t[P]!==void 0&&(A[P]=t[P]),A),{}):null,[t]),k=I.useCallback(async(A,P)=>{N&&await Sa(N,{[A]:P})},[N]),E=I.useCallback(async A=>{if(!N)return;const P=Object.keys(A).reduce((C,xe)=>(aw.includes(xe)&&(C[xe]=A[xe]),C),{});Object.keys(P).length!==0&&await Sa(N,P)},[N]),T=async A=>{if(N){y(!0);try{await Sa(N,{status:A}),b({message:"Status updated successfully",type:"success"})}catch(P){console.error("Failed to update status",P),b({message:"Failed to update status",type:"error"})}finally{y(!1)}}};return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),v&&o.jsx(AT,{message:v.message,type:v.type,onClose:()=>b(null)}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(oe,{variant:"outline",onClick:()=>e("/surrogates"),children:[o.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Back to list"]})}),i?o.jsxs("div",{className:"grid gap-6",children:[o.jsx(pe,{className:"animate-pulse h-48",children:o.jsx("div",{className:"h-full w-full rounded-xl bg-gray-100 dark:bg-gray-800"})}),o.jsx(pe,{className:"animate-pulse h-48",children:o.jsx("div",{className:"h-full w-full rounded-xl bg-gray-100 dark:bg-gray-800"})})]}):d?o.jsx(pe,{className:"p-6 text-red-600 dark:text-red-400",children:d}):t?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-rose-500 via-fuchsia-500 to-indigo-500 p-8 text-white shadow-2xl",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.3),_transparent_65%)] opacity-80"}),o.jsxs("div",{className:"relative flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-2xl border border-white/40 bg-white/10 text-3xl font-semibold backdrop-blur-xl",children:q}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("h1",{className:"text-3xl font-semibold leading-tight",children:M}),o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white/80",children:[o.jsx("i",{className:"ri-user-heart-line text-sm"}),"Surrogate"]})]}),o.jsx("p",{className:"mt-3 text-sm text-white/80",children:"Compassionate partner ready to support intended parents throughout the journey."}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-3 text-sm font-medium text-white/90",children:ce.map(A=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur-md",children:[o.jsx("i",{className:`${A.icon} text-base text-white/90`}),o.jsx("span",{children:A.value})]},A.label))})]})]}),o.jsxs("div",{className:"flex flex-col gap-3 text-sm text-white/80",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur",children:[o.jsx("i",{className:"ri-donut-chart-line text-base text-white/90"}),o.jsx("span",{className:"font-medium mr-1",children:"Status:"}),o.jsx("select",{value:t.status||"Available",onChange:A=>T(A.target.value),disabled:p,className:"bg-transparent border-none text-white focus:ring-0 cursor-pointer py-0 pl-0 pr-8 font-semibold [&>option]:text-gray-900 [&>option]:bg-white",children:RM.map(A=>o.jsx("option",{value:A,children:A},A))})]}),o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur",children:[o.jsx("i",{className:"ri-hashtag text-base text-white/90"}),"ID: ",t.id]}),o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur",children:[o.jsx("i",{className:"ri-time-line text-base text-white/90"}),"Joined: ",U]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:ue.map(A=>o.jsx(pe,{padding:"sm",className:`${A.className} border-none shadow-sm backdrop-blur`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide opacity-70",children:A.label}),o.jsx("p",{className:"mt-2 text-lg font-semibold",children:A.value})]}),o.jsx("span",{className:"text-xl opacity-70",children:o.jsx("i",{className:A.icon})})]})},A.label))}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[o.jsx(pe,{className:"xl:col-span-2",children:o.jsx(Xt,{title:"Core Profile",description:"Update the surrogates headline details such as role and completion flags.",data:O,emptyMessage:"No core profile data available.",templateData:kT,onSave:E})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Form 1 Responses",description:"Update the initial intake form shared by the surrogate.",data:t.formData??null,emptyMessage:"No form data available.",templateData:CT,onSave:A=>k("formData",A)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Form 2 Responses",description:"Modify detailed screening information.",data:t.form2??null,emptyMessage:"Form 2 has not been completed.",templateData:bM,onSave:A=>k("form2",A)})}),o.jsx(pe,{className:"xl:col-span-2",children:o.jsx(Xt,{title:"Additional Profile Data",description:"Capture any supplementary information stored alongside the surrogate profile.",data:t.form2Data??null,emptyMessage:"No additional data provided.",templateData:_M,onSave:A=>k("form2Data",A)})}),o.jsx(pe,{className:"xl:col-span-2",children:o.jsx(Xt,{title:"Comprehensive Medical Fitness Certificate",description:"Gynecological exam, obstetric history, BMI, BP, and general health clearance.",data:t.form2?.medicalFitness??null,emptyMessage:"No medical fitness report available.",templateData:AM,onSave:A=>k("form2.medicalFitness",A)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Infectious Disease Screening Report",description:"Screening results for HIV, HBsAg, HCV, VDRL, TORCH.",data:t.form2?.infectiousDisease??null,emptyMessage:"No screening report available.",templateData:kM,onSave:A=>k("form2.infectiousDisease",A)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Psychological / Mental Health Clearance",description:"Upload evaluation by certified psychologist/psychiatrist.",data:t.form2?.psychClearance??null,emptyMessage:"No psychological clearance available.",templateData:CM,onSave:A=>k("form2.psychClearance",A)})})]})]}):o.jsx(pe,{className:"p-6 text-gray-600 dark:text-gray-300",children:"Surrogate profile not found."})]})]})]})},jg=[{id:"all",label:"All",filter:r=>!0},{id:"to_be_matched",label:"To be Matched",filter:r=>r.status==="To be Matched"||!r.form2Completed&&!r.profileCompleted},{id:"matched",label:"Matched",filter:r=>r.status==="Matched"},{id:"rematch",label:"Rematch",filter:r=>r.status==="Rematch"}],DM=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState(null),[i,c]=I.useState([]),[d,m]=I.useState(!0),[p,y]=I.useState(null),v=Un();I.useEffect(()=>{const D=vs(hr(Zt,"users"),Vc("role","==","Intended Parent")),U=nr(D,X=>{const ce=X.docs.map(ue=>({id:ue.id,...ue.data()}));c(ce),m(!1),y(null)},X=>{console.error("Failed to load intended parents",X),y("Unable to load intended parent records. Please try again later."),m(!1)});return()=>U()},[]);const b=I.useMemo(()=>jg.reduce((D,U)=>(D[U.id]=i.filter(X=>U.filter(X)).length,D),{}),[i]),N=I.useMemo(()=>{const D=jg.find(U=>U.id===r);return D?i.filter(U=>D.filter(U)):i},[r,i]),R=D=>{switch(D.status){case"To be Matched":return o.jsx(me,{color:"yellow",children:"To be Matched"});case"Matched":return o.jsx(me,{color:"green",children:"Matched"});case"Rematch":return o.jsx(me,{color:"red",children:"Rematch"});default:return D.form2Completed?o.jsx(me,{color:"green",children:"Form 2 Complete"}):D.profileCompleted?o.jsx(me,{color:"blue",children:"Profile Complete"}):o.jsx(me,{color:"gray",children:"Unknown"})}},M=D=>{const U=D.parent1?.name;if(U&&U.trim().length>0)return U;const X=D.formData?.firstName,ce=D.formData?.lastName,ue=[X,ce].filter(Boolean).join(" ");if(ue.length>0)return ue;const O=D.firstName??"",k=D.lastName??"",E=[O,k].filter(Boolean).join(" ");return E.length>0?E:D.email??"Intended Parent"},q=D=>{const U=D.formData,X=U?.city??"",ce=U?.state??"";return[X,ce].filter(Boolean).join(", ")||"Not specified"},B=D=>D.formData?.whenToStart??"No timeline set",F=D=>D.form2Data?.budget??"Not provided";return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Intended Parents"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all intended parents and their journey progress."})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:jg.map(D=>o.jsxs("button",{onClick:()=>e(D.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===D.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[D.label," (",b[D.id]??0,")"]},D.id))})}),p&&o.jsx("div",{className:"mb-6 rounded-lg border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700 dark:border-red-900 dark:bg-red-950/60 dark:text-red-300",children:p}),d?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:Array.from({length:6}).map((D,U)=>o.jsx(pe,{className:"animate-pulse",children:o.jsx("div",{className:"h-48 w-full rounded-lg bg-gray-100 dark:bg-gray-800"})},U))}):o.jsx(o.Fragment,{children:N.length===0?o.jsx(pe,{className:"p-6 text-center text-gray-600 dark:text-gray-300",children:"No intended parents found for this filter."}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:N.map(D=>o.jsxs(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(D),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-parent-line text-purple-600 dark:text-purple-400 text-lg"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:M(D)}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 break-all",children:["ID: ",D.id]})]})]}),R(D)]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Email:"}),o.jsx("span",{className:"text-gray-900 dark:text-white break-words text-right",children:D.email??""})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Location:"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-right",children:q(D)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Timeline:"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-right",children:B(D)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Budget:"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-right",children:F(D)})]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{size:"sm",className:"flex-1",onClick:U=>{U.stopPropagation(),v(`/parents/${D.id}`)},children:[o.jsx("i",{className:"ri-eye-line mr-1"}),"View Profile"]}),o.jsx(oe,{size:"sm",color:"blue",children:o.jsx("i",{className:"ri-message-line"})})]})]},D.id))})}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Intended Parents Profile"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-parent-line text-purple-600 dark:text-purple-400 text-2xl"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:M(t)}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400 break-all",children:["Parent ID: ",t.id]}),R(t)]})]}),o.jsx(wt,{title:"Profile Overview",data:{Email:t.email,Role:t.role,"Profile Completed":t.profileCompleted,"Form 2 Completed":t.form2Completed,"Created At":t.createdAt,"Updated At":t.updatedAt}}),o.jsx(wt,{title:"Form 1 Responses",data:t.formData??null,emptyMessage:"No form data available."}),o.jsx(wt,{title:"Form 2 Responses",data:t.form2Data??null,emptyMessage:"Form 2 has not been completed."}),o.jsx(wt,{title:"Fertility Information",data:t.form2Data?.fertility??null,emptyMessage:"No fertility information provided."}),o.jsx(wt,{title:"Parent 1",data:t.parent1??null,emptyMessage:"Parent 1 details not provided."}),o.jsx(wt,{title:"Parent 2",data:t.parent2??null,emptyMessage:"Parent 2 details not provided."}),o.jsx(wt,{title:"Surrogate Preferences",data:t.surrogateRelated??null,emptyMessage:"No surrogate preferences captured."}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-links-line mr-2"}),"Find Match"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-message-line mr-2"}),"Send Message"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Profile"]})]})]})]})})})]})]})]})},iw=["firstName","lastName","role","profileCompleted","form2Completed","profileCompletedAt","form2CompletedAt"],MM=["To be Matched","Matched","Rematch"],OM=()=>{const{id:r}=Nw(),e=Un(),[t,a]=I.useState(null),[i,c]=I.useState(!0),[d,m]=I.useState(null),[p,y]=I.useState(!1),[v,b]=I.useState(null),N=I.useMemo(()=>r?Ai(Zt,"users",r):null,[r]);I.useEffect(()=>{if(!r){m("No parent id provided."),c(!1);return}if(!N){a(null),m("Parent profile not found."),c(!1);return}const T=nr(N,A=>{A.exists()?(a({id:A.id,...A.data()}),m(null)):(a(null),m("Parent profile not found.")),c(!1)},A=>{console.error("Failed to load parent profile",A),m("Unable to load parent profile. Please try again later."),a(null),c(!1)});return()=>T()},[r,N]);const R=T=>{if(!T)return"";if(typeof T=="string"||typeof T=="number"){const A=new Date(T);return Number.isNaN(A.getTime())?String(T):A.toLocaleString()}return typeof T=="object"&&T!==null&&"toDate"in T&&typeof T.toDate=="function"?T.toDate().toLocaleString():String(T)},M=I.useMemo(()=>{if(!t)return"Parent Profile";const T=t.parent1?.name;if(T&&T.trim().length>0)return T;const A=t.formData?.firstName,P=t.formData?.lastName,C=[A,P].filter(Boolean).join(" ");if(C.length>0)return C;const xe=t.firstName??"",Je=t.lastName??"",Y=[xe,Je].filter(Boolean).join(" ");return Y.length>0?Y:t.email??"Parent Profile"},[t]),q=I.useMemo(()=>M&&M.split(" ").filter(Boolean).map(T=>T[0]?.toUpperCase()??"").join("").slice(0,2)||"FM",[M]),B=I.useMemo(()=>{if(!t)return null;const T=t.formData,A=T?.city?.trim(),P=T?.state?.trim(),C=[A,P].filter(Boolean).join(", ");return C.length>0?C:null},[t]),F=I.useMemo(()=>t?t.formData?.whenToStart??null:null,[t]),D=I.useMemo(()=>R(t?.createdAt),[t]),U=I.useMemo(()=>R(t?.updatedAt),[t]),X=I.useMemo(()=>[t?.email&&{icon:"ri-mail-line",label:"Email",value:t.email},B&&{icon:"ri-map-pin-line",label:"Location",value:B},F&&{icon:"ri-timer-line",label:"Intended Timeline",value:F}].filter(Boolean),[B,t?.email,F]),ce=I.useMemo(()=>[{label:"Profile Status",value:t?.profileCompleted?"Complete":"In Progress",icon:t?.profileCompleted?"ri-shield-check-line":"ri-time-line",className:t?.profileCompleted?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-amber-500/10 text-amber-400 border border-amber-500/20"},{label:"Form 2",value:t?.form2Completed?"Submitted":"Pending",icon:t?.form2Completed?"ri-file-check-line":"ri-draft-line",className:t?.form2Completed?"bg-indigo-500/10 text-indigo-400 border border-indigo-500/20":"bg-blue-500/10 text-blue-400 border border-blue-500/20"},{label:"Created",value:D,icon:"ri-calendar-line",className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200"},{label:"Last Updated",value:U,icon:"ri-refresh-line",className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 text-gray-700 dark:text-gray-200"}],[D,t?.form2Completed,t?.profileCompleted,U]),ue=I.useMemo(()=>t?iw.reduce((T,A)=>(A in t&&t[A]!==void 0&&(T[A]=t[A]),T),{}):null,[t]),O=I.useCallback(async(T,A)=>{N&&await Sa(N,{[T]:A})},[N]),k=I.useCallback(async T=>{if(!N)return;const A=Object.keys(T).reduce((P,C)=>(iw.includes(C)&&(P[C]=T[C]),P),{});Object.keys(A).length!==0&&await Sa(N,A)},[N]),E=async T=>{if(N){y(!0);try{await Sa(N,{status:T}),b({message:"Status updated successfully",type:"success"})}catch(A){console.error("Failed to update status",A),b({message:"Failed to update status",type:"error"})}finally{y(!1)}}};return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),v&&o.jsx(AT,{message:v.message,type:v.type,onClose:()=>b(null)}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs(oe,{variant:"outline",onClick:()=>e("/parents"),children:[o.jsx("i",{className:"ri-arrow-left-line mr-2"}),"Back to list"]})}),i?o.jsxs("div",{className:"grid gap-6",children:[o.jsx(pe,{className:"animate-pulse h-48",children:o.jsx("div",{className:"h-full w-full rounded-xl bg-gray-100 dark:bg-gray-800"})}),o.jsx(pe,{className:"animate-pulse h-48",children:o.jsx("div",{className:"h-full w-full rounded-xl bg-gray-100 dark:bg-gray-800"})})]}):d?o.jsx(pe,{className:"p-6 text-red-600 dark:text-red-400",children:d}):t?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 p-8 text-white shadow-2xl",children:[o.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.28),_transparent_60%)] opacity-70"}),o.jsxs("div",{className:"relative flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[o.jsxs("div",{className:"flex items-start gap-6",children:[o.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-2xl border border-white/30 bg-white/10 text-3xl font-semibold backdrop-blur-xl",children:q}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[o.jsx("h1",{className:"text-3xl font-semibold leading-tight",children:M}),o.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-white/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-white/80",children:[o.jsx("i",{className:"ri-parent-line text-sm"}),"Intended Parent"]})]}),o.jsx("p",{className:"mt-3 text-sm text-white/80",children:"Building their family journey through the Family Matters program."}),o.jsx("div",{className:"mt-4 flex flex-wrap gap-3 text-sm font-medium text-white/90",children:X.map(T=>o.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur-md",children:[o.jsx("i",{className:`${T.icon} text-base text-white/90`}),o.jsx("span",{children:T.value})]},T.label))})]})]}),o.jsxs("div",{className:"flex flex-col gap-3 text-sm text-white/80",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur",children:[o.jsx("i",{className:"ri-donut-chart-line text-base text-white/90"}),o.jsx("span",{className:"font-medium mr-1",children:"Status:"}),o.jsx("select",{value:t.status||"To be Matched",onChange:T=>E(T.target.value),disabled:p,className:"bg-transparent border-none text-white focus:ring-0 cursor-pointer py-0 pl-0 pr-8 font-semibold [&>option]:text-gray-900 [&>option]:bg-white",children:MM.map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur",children:[o.jsx("i",{className:"ri-hashtag text-base text-white/90"}),"ID: ",t.id]})]})]})]}),o.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4",children:ce.map(T=>o.jsx(pe,{padding:"sm",className:`${T.className} border-none shadow-sm backdrop-blur`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide opacity-70",children:T.label}),o.jsx("p",{className:"mt-2 text-lg font-semibold",children:T.value})]}),o.jsx("span",{className:"text-xl opacity-70",children:o.jsx("i",{className:T.icon})})]})},T.label))}),o.jsxs("div",{className:"grid grid-cols-1 gap-6 xl:grid-cols-2",children:[o.jsx(pe,{className:"xl:col-span-2",children:o.jsx(Xt,{title:"Core Profile",description:"Update top-level information such as role and completion status. For contact details, edit the form responses below.",data:ue,emptyMessage:"No core profile data available.",templateData:kT,onSave:k})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Form 1 Responses",description:"Update the intake details shared by the intended parents.",data:t.formData??null,emptyMessage:"No form data available.",templateData:CT,onSave:T=>O("formData",T)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Form 2 Responses",description:"Modify the extended questionnaire answers for this family.",data:t.form2Data??null,emptyMessage:"Form 2 has not been completed.",templateData:wM,onSave:T=>O("form2Data",T)})}),o.jsx(pe,{className:"xl:col-span-2",children:o.jsx(Xt,{title:"Fertility Information",description:"Capture fertility clinic, embryo and related details.",data:t.form2Data?.fertility??null,emptyMessage:"No fertility information provided.",templateData:NM,onSave:T=>O("form2Data.fertility",T)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Parent 1",description:"Edit details for Parent 1.",data:t.parent1??null,emptyMessage:"Parent 1 details not provided.",templateData:sw,onSave:T=>O("parent1",T)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Parent 2",description:"Edit details for Parent 2.",data:t.parent2??null,emptyMessage:"Parent 2 details not provided.",templateData:sw,onSave:T=>O("parent2",T)})}),o.jsx(pe,{className:"xl:col-span-2",children:o.jsx(Xt,{title:"Surrogate Preferences",description:"Fine-tune the family's preferences for potential surrogates.",data:t.surrogateRelated??null,emptyMessage:"No surrogate preferences captured.",templateData:EM,onSave:T=>O("surrogateRelated",T)})}),o.jsx(pe,{className:"xl:col-span-2",children:o.jsx(Xt,{title:"Fertility & Reproductive Health Report",description:"IVF evaluation, ovarian reserve, and diagnosis.",data:t.form2Data?.fertilityReport??null,emptyMessage:"No fertility report available.",templateData:TM,onSave:T=>O("form2Data.fertilityReport",T)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Infectious Disease Screening Report",description:"Screening results for HIV, HBsAg, HCV, VDRL, CMV.",data:t.form2Data?.infectiousDisease??null,emptyMessage:"No screening report available.",templateData:SM,onSave:T=>O("form2Data.infectiousDisease",T)})}),o.jsx(pe,{children:o.jsx(Xt,{title:"Embryo / Gamete Medical Records",description:"Embryo freezing and donor screening reports.",data:t.form2Data?.embryoRecords??null,emptyMessage:"No embryo records available.",templateData:jM,onSave:T=>O("form2Data.embryoRecords",T)})})]})]}):o.jsx(pe,{className:"p-6 text-gray-600 dark:text-gray-300",children:"Parent profile not found."})]})]})]})},yi=[{id:"MATCH-001",surrogate:{id:"SUR-002",name:"Lisa Rodriguez",age:31,location:"Miami, Florida",experience:"Experienced (2 previous)"},intendedParents:{id:"PAR-001",names:"Michael & Emma Davis",ages:"32 & 29",location:"Austin, Texas"},matchDate:"2024-01-25",status:"active",stage:"medical-screening",contractSigned:!0,expectedDueDate:"2024-10-15",compensation:"$55,000",milestones:[{name:"Initial Match",date:"2024-01-25",completed:!0},{name:"Meet & Greet",date:"2024-01-28",completed:!0},{name:"Legal Consultation",date:"2024-02-01",completed:!0},{name:"Contract Signing",date:"2024-02-05",completed:!0},{name:"Medical Screening",date:"2024-02-10",completed:!1},{name:"Embryo Transfer",date:"2024-02-20",completed:!1}]},{id:"MATCH-002",surrogate:{id:"SUR-004",name:"Amanda Wilson",age:33,location:"Chicago, Illinois",experience:"Experienced (1 previous)"},intendedParents:{id:"PAR-004",names:"Robert & Jennifer Martinez",ages:"34 & 31",location:"Denver, Colorado"},matchDate:"2024-01-21",status:"active",stage:"pregnancy",contractSigned:!0,expectedDueDate:"2024-09-30",compensation:"$52,000",milestones:[{name:"Initial Match",date:"2024-01-21",completed:!0},{name:"Meet & Greet",date:"2024-01-24",completed:!0},{name:"Legal Consultation",date:"2024-01-28",completed:!0},{name:"Contract Signing",date:"2024-02-01",completed:!0},{name:"Medical Screening",date:"2024-02-05",completed:!0},{name:"Embryo Transfer",date:"2024-02-15",completed:!0}]},{id:"MATCH-003",surrogate:{id:"SUR-006",name:"Jennifer Thompson",age:29,location:"Seattle, Washington",experience:"First time"},intendedParents:{id:"PAR-006",names:"David & Sarah Kim",ages:"36 & 34",location:"Portland, Oregon"},matchDate:"2024-01-18",status:"completed",stage:"delivery",contractSigned:!0,expectedDueDate:"2024-01-20",compensation:"$48,000",milestones:[{name:"Initial Match",date:"2023-05-15",completed:!0},{name:"Meet & Greet",date:"2023-05-18",completed:!0},{name:"Legal Consultation",date:"2023-05-22",completed:!0},{name:"Contract Signing",date:"2023-05-25",completed:!0},{name:"Medical Screening",date:"2023-06-01",completed:!0},{name:"Embryo Transfer",date:"2023-06-10",completed:!0},{name:"Successful Delivery",date:"2024-01-20",completed:!0}]}],PM=[{value:"all",label:"All Matches",count:yi.length},{value:"active",label:"Active",count:yi.filter(r=>r.status==="active").length},{value:"completed",label:"Completed",count:yi.filter(r=>r.status==="completed").length},{value:"pending",label:"Pending",count:yi.filter(r=>r.status==="pending").length},{value:"cancelled",label:"Cancelled",count:yi.filter(r=>r.status==="cancelled").length}],LM=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState(null),[i,c]=I.useState(!1),d=r==="all"?yi:yi.filter(y=>y.status===r),m=y=>{switch(y){case"pending":return o.jsx(me,{color:"yellow",children:"Pending"});case"active":return o.jsx(me,{color:"green",children:"Active"});case"pregnant":return o.jsx(me,{color:"blue",children:"Pregnant"});case"completed":return o.jsx(me,{color:"gray",children:"Completed"});default:return o.jsx(me,{children:y})}},p=(y,v)=>Math.round(y/v*100);return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{onToggleSidebar:()=>c(!i)}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Matches Management"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track all surrogate-parent matches and their journey progress."})]}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:PM.map(y=>o.jsxs("button",{onClick:()=>e(y.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===y.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[y.label," (",y.count,")"]},y.id))})}),o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.map(y=>o.jsxs(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(y),children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-links-line text-green-600 dark:text-green-400 text-lg"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white",children:["Match #",y.id]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Created ",y.matchDate]})]})]}),m(y.status)]}),o.jsxs("div",{className:"space-y-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-pink-100 dark:bg-pink-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-heart-line text-pink-600 dark:text-pink-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:y.surrogateName}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Surrogate  ",y.surrogateLocation]})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-parent-line text-purple-600 dark:text-purple-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:y.parentNames}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Intended Parents  ",y.parentLocation]})]})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Journey Progress"}),o.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[p(y.currentStep,y.totalSteps),"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p(y.currentStep,y.totalSteps)}%`}})}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Step ",y.currentStep," of ",y.totalSteps,": ",y.currentMilestone]})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(oe,{size:"sm",className:"flex-1",children:[o.jsx("i",{className:"ri-eye-line mr-1"}),"View Details"]}),o.jsx(oe,{size:"sm",color:"blue",children:o.jsx("i",{className:"ri-calendar-line"})})]})]},y.id))}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Match Details"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-links-line text-green-600 dark:text-green-400 text-2xl"})}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:["Match #",t.id]}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Created on ",t.matchDate]}),m(t.status)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{className:"p-4 bg-pink-50 dark:bg-pink-900/20 rounded-lg",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[o.jsx("i",{className:"ri-user-heart-line text-pink-600 dark:text-pink-400"}),"Surrogate Information"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.surrogateName}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Location: ",t.surrogateLocation]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Age: ",t.surrogateAge]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Experience: ",t.surrogateExperience]})]})]}),o.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[o.jsx("i",{className:"ri-parent-line text-purple-600 dark:text-purple-400"}),"Intended Parents"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("p",{className:"text-gray-900 dark:text-white font-medium",children:t.parentNames}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Location: ",t.parentLocation]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Ages: ",t.parentAges]}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Journey Type: ",t.journeyType]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Journey Timeline"}),o.jsx("div",{className:"space-y-3",children:t.milestones.map((y,v)=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${y.completed?"bg-green-100 dark:bg-green-900":v===t.currentStep-1?"bg-blue-100 dark:bg-blue-900":"bg-gray-100 dark:bg-gray-700"}`,children:y.completed?o.jsx("i",{className:"ri-check-line text-green-600 dark:text-green-400"}):v===t.currentStep-1?o.jsx("i",{className:"ri-time-line text-blue-600 dark:text-blue-400"}):o.jsx("span",{className:"text-gray-400 text-sm",children:v+1})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:`font-medium ${y.completed?"text-green-600 dark:text-green-400":v===t.currentStep-1?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`,children:y.title}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:y.description}),y.date&&o.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:y.date})]})]},v))})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-calendar-line mr-2"}),"Schedule Appointment"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-message-line mr-2"}),"Send Update"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-file-text-line mr-2"}),"View Contract"]})]})]})]})})})]})]})]})},xi=[{id:"APT001",title:"Initial Consultation",type:"consultation",date:"2024-01-15",time:"10:00 AM",duration:"60 min",participants:["Dr. Sarah Wilson","Emma Thompson","John & Mary Davis"],location:"Clinic Room 1",status:"confirmed",notes:"First meeting between intended parents and surrogate"},{id:"APT002",title:"Medical Screening",type:"medical",date:"2024-01-16",time:"2:00 PM",duration:"90 min",participants:["Dr. Michael Chen","Lisa Rodriguez"],location:"Medical Center",status:"pending",notes:"Comprehensive medical evaluation"},{id:"APT003",title:"Legal Review Meeting",type:"legal",date:"2024-01-17",time:"11:00 AM",duration:"45 min",participants:["Attorney Johnson","Robert & Susan Miller","Jennifer Adams"],location:"Law Office",status:"confirmed",notes:"Contract review and legal procedures"},{id:"APT004",title:"Psychological Evaluation",type:"psychological",date:"2024-01-18",time:"9:00 AM",duration:"120 min",participants:["Dr. Patricia Lee","Amanda Wilson"],location:"Psychology Clinic",status:"completed",notes:"Mental health assessment completed"},{id:"APT005",title:"IVF Transfer Procedure",type:"medical",date:"2024-01-20",time:"8:00 AM",duration:"180 min",participants:["Dr. Michael Chen","Emma Thompson","John & Mary Davis"],location:"IVF Center",status:"scheduled",notes:"Embryo transfer procedure"}],VM=[{id:"all",label:"All Appointments",count:xi.length},{id:"consultation",label:"Consultations",count:xi.filter(r=>r.type==="consultation").length},{id:"medical",label:"Medical",count:xi.filter(r=>r.type==="medical").length},{id:"legal",label:"Legal",count:xi.filter(r=>r.type==="legal").length},{id:"psychological",label:"Psychological",count:xi.filter(r=>r.type==="psychological").length}],UM=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState(null),[i,c]=I.useState("list"),d=r==="all"?xi:xi.filter(v=>v.type===r),m=v=>{switch(v){case"confirmed":return o.jsx(me,{color:"green",children:"Confirmed"});case"pending":return o.jsx(me,{color:"yellow",children:"Pending"});case"scheduled":return o.jsx(me,{color:"blue",children:"Scheduled"});case"completed":return o.jsx(me,{color:"gray",children:"Completed"});case"cancelled":return o.jsx(me,{color:"red",children:"Cancelled"});default:return o.jsx(me,{children:v})}},p=v=>{switch(v){case"consultation":return"ri-discuss-line";case"medical":return"ri-health-book-line";case"legal":return"ri-file-text-line";case"psychological":return"ri-mind-map";default:return"ri-calendar-line"}},y=v=>{switch(v){case"consultation":return"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400";case"medical":return"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400";case"legal":return"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400";case"psychological":return"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}};return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Appointments"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all appointments and scheduling."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:[o.jsxs("button",{onClick:()=>c("list"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors cursor-pointer ${i==="list"?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400"}`,children:[o.jsx("i",{className:"ri-list-unordered mr-1"}),"List"]}),o.jsxs("button",{onClick:()=>c("calendar"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors cursor-pointer ${i==="calendar"?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400"}`,children:[o.jsx("i",{className:"ri-calendar-line mr-1"}),"Calendar"]})]}),o.jsxs(oe,{color:"blue",children:[o.jsx("i",{className:"ri-add-line mr-2"}),"New Appointment"]})]})]})}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:VM.map(v=>o.jsxs("button",{onClick:()=>e(v.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===v.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[v.label," (",v.count,")"]},v.id))})}),i==="list"?o.jsx("div",{className:"space-y-4",children:d.map(v=>o.jsx(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(v),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${y(v.type)}`,children:o.jsx("i",{className:`${p(v.type)} text-lg`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:v.title}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[v.date," at ",v.time,"  ",v.duration]}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:v.location})]})]}),o.jsxs("div",{className:"text-right",children:[m(v.status),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[v.participants.length," participants"]})]})]})},v.id))}):o.jsx(pe,{children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("i",{className:"ri-calendar-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Calendar View"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Calendar integration coming soon. View appointments in a monthly calendar format."}),o.jsxs(oe,{onClick:()=>c("list"),children:[o.jsx("i",{className:"ri-list-unordered mr-2"}),"Switch to List View"]})]})})}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Appointment Details"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center ${y(t.type)}`,children:o.jsx("i",{className:`${p(t.type)} text-2xl`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.title}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Appointment ID: ",t.id]}),m(t.status)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Schedule Details"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.date})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.time})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.duration})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Location:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.location})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Participants"}),o.jsx("div",{className:"space-y-2",children:t.participants.map((v,b)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-line text-blue-600 dark:text-blue-400 text-xs"})}),o.jsx("span",{className:"text-gray-900 dark:text-white text-sm",children:v})]},b))})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Notes"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:t.notes})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Appointment"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-calendar-line mr-2"}),"Reschedule"]}),o.jsxs(oe,{color:"red",variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-close-line mr-2"}),"Cancel"]})]})]})]})})})]})]})]})},zM=[{id:"total-matches",title:"Total Matches",value:"156",change:"+12%",changeType:"increase",icon:"ri-links-line",color:"blue"},{id:"active-journeys",title:"Active Journeys",value:"43",change:"+8%",changeType:"increase",icon:"ri-road-map-line",color:"green"},{id:"successful-births",title:"Successful Births",value:"89",change:"+15%",changeType:"increase",icon:"ri-heart-3-line",color:"pink"},{id:"total-revenue",title:"Total Revenue",value:"$2.4M",change:"+22%",changeType:"increase",icon:"ri-money-dollar-circle-line",color:"purple"}],FM=[{month:"Jan",matches:12,births:8,revenue:18e4},{month:"Feb",matches:15,births:10,revenue:22e4},{month:"Mar",matches:18,births:12,revenue:28e4},{month:"Apr",matches:14,births:9,revenue:195e3},{month:"May",matches:20,births:15,revenue:32e4},{month:"Jun",matches:16,births:11,revenue:24e4}],BM=[{name:"Dr. Sarah Wilson",role:"Lead Coordinator",matches:45,rating:4.9},{name:"Dr. Michael Chen",role:"Medical Director",procedures:38,rating:4.8},{name:"Jennifer Adams",role:"Surrogate Coordinator",matches:32,rating:4.7},{name:"Attorney Johnson",role:"Legal Advisor",contracts:28,rating:4.9}],qM=()=>{const[r,e]=I.useState("6months"),[t,a]=I.useState("overview"),i=[{id:"overview",label:"Overview",icon:"ri-dashboard-line"},{id:"financial",label:"Financial",icon:"ri-money-dollar-circle-line"},{id:"medical",label:"Medical",icon:"ri-health-book-line"},{id:"performance",label:"Performance",icon:"ri-bar-chart-line"}],c=[{id:"1month",label:"Last Month"},{id:"3months",label:"Last 3 Months"},{id:"6months",label:"Last 6 Months"},{id:"1year",label:"Last Year"}];return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Reports & Analytics"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive insights into your surrogacy program performance."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("select",{value:r,onChange:d=>e(d.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white pr-8",children:c.map(d=>o.jsx("option",{value:d.id,children:d.label},d.id))}),o.jsxs(oe,{color:"blue",children:[o.jsx("i",{className:"ri-download-line mr-2"}),"Export Report"]})]})]})}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:i.map(d=>o.jsxs("button",{onClick:()=>a(d.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer flex items-center gap-2 ${t===d.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[o.jsx("i",{className:d.icon}),d.label]},d.id))})}),t==="overview"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:zM.map(d=>o.jsx(pe,{className:"hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-1",children:d.title}),o.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:d.value}),o.jsxs("div",{className:"flex items-center mt-2",children:[o.jsx("span",{className:`text-sm font-medium ${d.changeType==="increase"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:d.change}),o.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:"from last period"})]})]}),o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${d.color==="blue"?"bg-blue-100 dark:bg-blue-900":d.color==="green"?"bg-green-100 dark:bg-green-900":d.color==="pink"?"bg-pink-100 dark:bg-pink-900":"bg-purple-100 dark:bg-purple-900"}`,children:o.jsx("i",{className:`${d.icon} text-xl ${d.color==="blue"?"text-blue-600 dark:text-blue-400":d.color==="green"?"text-green-600 dark:text-green-400":d.color==="pink"?"text-pink-600 dark:text-pink-400":"text-purple-600 dark:text-purple-400"}`})})]})},d.id))}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(pe,{children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Monthly Trends"}),o.jsx("div",{className:"space-y-4",children:FM.map((d,m)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:d.month}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm text-gray-900 dark:text-white",children:[d.matches," matches"]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[d.births," births"]})]}),o.jsx("div",{className:"w-20 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${d.matches/20*100}%`}})})]})]},m))})]})}),o.jsx(pe,{children:o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Performers"}),o.jsx("div",{className:"space-y-4",children:BM.map((d,m)=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:o.jsx("i",{className:"ri-user-line text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:d.name}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.role})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("i",{className:"ri-star-fill text-yellow-400 text-sm"}),o.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:d.rating})]}),o.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[d.matches&&`${d.matches} matches`,d.procedures&&`${d.procedures} procedures`,d.contracts&&`${d.contracts} contracts`]})]})]},m))})]})})]})]}),t==="financial"&&o.jsx(pe,{children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("i",{className:"ri-money-dollar-circle-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Financial Reports"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Detailed financial analytics including revenue, expenses, and profit margins."}),o.jsxs(oe,{color:"blue",children:[o.jsx("i",{className:"ri-file-chart-line mr-2"}),"Generate Financial Report"]})]})})}),t==="medical"&&o.jsx(pe,{children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("i",{className:"ri-health-book-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Medical Reports"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Medical outcomes, success rates, and health statistics."}),o.jsxs(oe,{color:"blue",children:[o.jsx("i",{className:"ri-file-chart-line mr-2"}),"Generate Medical Report"]})]})})}),t==="performance"&&o.jsx(pe,{children:o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("i",{className:"ri-bar-chart-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Performance Reports"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Team performance metrics, efficiency ratings, and productivity analysis."}),o.jsxs(oe,{color:"blue",children:[o.jsx("i",{className:"ri-file-chart-line mr-2"}),"Generate Performance Report"]})]})})})]})]})]})},HM=()=>{const{user:r,profile:e,profileLoading:t}=Xh(),[a,i]=I.useState("general"),[c,d]=I.useState({siteName:"Family Matters",adminEmail:"admin@familymatters.com",timezone:"UTC-5",language:"English",notifications:{email:!0,sms:!0,push:!0,newRequests:!0,appointments:!0,payments:!1},security:{twoFactor:!1,sessionTimeout:"30",passwordExpiry:"90"},matching:{autoMatch:!1,requireApproval:!0,maxMatches:"3"}});I.useEffect(()=>{e&&typeof e=="object"&&e.email&&d(U=>U.adminEmail===e.email?U:{...U,adminEmail:e.email})},[e]);const m=I.useMemo(()=>{if(r?.displayName&&r.displayName.trim().length>0)return r.displayName;if(r?.email){const[U]=r.email.split("@");return U.charAt(0).toUpperCase()+U.slice(1)}return"Administrator"},[r]),p=(e&&typeof e=="object"&&e.email)??r?.email??c.adminEmail,y=I.useMemo(()=>{const X=(m||p||"FM").split(" ").filter(Boolean).map(ce=>ce[0]?.toUpperCase()??"").join("").slice(0,2);return X.length>0?X:"FM"},[m,p]),v=I.useMemo(()=>r?.metadata?.creationTime?new Date(r.metadata.creationTime).toLocaleDateString():null,[r]),b=I.useMemo(()=>r?.metadata?.lastSignInTime?new Date(r.metadata.lastSignInTime).toLocaleString():null,[r]),N=I.useMemo(()=>r?.providerData?.length?r.providerData.map(U=>{switch(U.providerId){case"password":return"Email & Password";case"google.com":return"Google";case"facebook.com":return"Facebook";case"apple.com":return"Apple";default:return U.providerId}}).join(", "):"Email & Password",[r]),R=[{id:"general",label:"General",icon:"ri-settings-3-line"},{id:"notifications",label:"Notifications",icon:"ri-notification-3-line"},{id:"security",label:"Security",icon:"ri-shield-check-line"},{id:"matching",label:"Matching Rules",icon:"ri-links-line"},{id:"billing",label:"Billing",icon:"ri-money-dollar-circle-line"},{id:"integrations",label:"Integrations",icon:"ri-plug-line"}],M=(U,X,ce)=>{d(ue=>({...ue,[U]:{...ue[U],[X]:ce}}))},q=()=>o.jsxs("div",{className:"space-y-8",children:[t?o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),o.jsx("div",{className:"h-48 bg-gray-100 dark:bg-gray-800 rounded"})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsx(wt,{title:"Profile Overview",data:{Name:m,Email:p,Role:e?.role??"","Profile Completed":e?.profileCompleted,"Form 2 Completed":e?.form2Completed,"Created At":e?.createdAt,"Updated At":e?.updatedAt}}),o.jsx(wt,{title:"Form 1 Responses",data:e?.formData??null,emptyMessage:"No form data available."}),o.jsx(wt,{title:"Form 2 Responses",data:e?.form2Data??null,emptyMessage:"Form 2 has not been completed yet."}),o.jsx(wt,{title:"Fertility Information",data:e?.form2Data?.fertility??null,emptyMessage:"No fertility information provided."}),o.jsx(wt,{title:"Parent 1",data:e?.parent1??null,emptyMessage:"Parent 1 details not provided."}),o.jsx(wt,{title:"Parent 2",data:e?.parent2??null,emptyMessage:"Parent 2 details not provided."}),o.jsx(wt,{title:"Surrogate Related Preferences",data:e?.surrogateRelated??null,emptyMessage:"No surrogate preferences provided."})]}),o.jsxs("div",{className:"space-y-6 border-t border-gray-200 dark:border-gray-700 pt-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Site Name"}),o.jsx("input",{type:"text",value:c.siteName,onChange:U=>d(X=>({...X,siteName:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Admin Email"}),o.jsx("input",{type:"email",value:c.adminEmail,onChange:U=>d(X=>({...X,adminEmail:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Timezone"}),o.jsxs("select",{value:c.timezone,onChange:U=>d(X=>({...X,timezone:U.target.value})),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"UTC-5",children:"Eastern Time (UTC-5)"}),o.jsx("option",{value:"UTC-6",children:"Central Time (UTC-6)"}),o.jsx("option",{value:"UTC-7",children:"Mountain Time (UTC-7)"}),o.jsx("option",{value:"UTC-8",children:"Pacific Time (UTC-8)"})]})]})]})]}),B=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Notification Channels"}),o.jsx("div",{className:"space-y-4",children:Object.entries(c.notifications).slice(0,3).map(([U,X])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-gray-700 dark:text-gray-300 capitalize",children:[U," Notifications"]}),o.jsx("button",{onClick:()=>M("notifications",U,!X),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors cursor-pointer ${X?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${X?"translate-x-6":"translate-x-1"}`})})]},U))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Event Notifications"}),o.jsx("div",{className:"space-y-4",children:Object.entries(c.notifications).slice(3).map(([U,X])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-700 dark:text-gray-300 capitalize",children:U.replace(/([A-Z])/g," $1")}),o.jsx("button",{onClick:()=>M("notifications",U,!X),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors cursor-pointer ${X?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${X?"translate-x-6":"translate-x-1"}`})})]},U))})]})]}),F=()=>o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add an extra layer of security to your account"})]}),o.jsx("button",{onClick:()=>M("security","twoFactor",!c.security.twoFactor),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors cursor-pointer ${c.security.twoFactor?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.security.twoFactor?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Session Timeout (minutes)"}),o.jsxs("select",{value:c.security.sessionTimeout,onChange:U=>M("security","sessionTimeout",U.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"15",children:"15 minutes"}),o.jsx("option",{value:"30",children:"30 minutes"}),o.jsx("option",{value:"60",children:"1 hour"}),o.jsx("option",{value:"120",children:"2 hours"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password Expiry (days)"}),o.jsxs("select",{value:c.security.passwordExpiry,onChange:U=>M("security","passwordExpiry",U.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"30",children:"30 days"}),o.jsx("option",{value:"60",children:"60 days"}),o.jsx("option",{value:"90",children:"90 days"}),o.jsx("option",{value:"never",children:"Never"})]})]})]}),D=()=>{switch(a){case"general":return q();case"notifications":return B();case"security":return F();case"matching":return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Auto-Matching"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Automatically suggest matches based on criteria"})]}),o.jsx("button",{onClick:()=>M("matching","autoMatch",!c.matching.autoMatch),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors cursor-pointer ${c.matching.autoMatch?"bg-blue-600":"bg-gray-200 dark:bg-gray-600"}`,children:o.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${c.matching.autoMatch?"translate-x-6":"translate-x-1"}`})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Active Matches per Surrogate"}),o.jsxs("select",{value:c.matching.maxMatches,onChange:U=>M("matching","maxMatches",U.target.value),className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"1",children:"1 Match"}),o.jsx("option",{value:"2",children:"2 Matches"}),o.jsx("option",{value:"3",children:"3 Matches"}),o.jsx("option",{value:"5",children:"5 Matches"})]})]})]});case"billing":return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("i",{className:"ri-money-dollar-circle-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Billing Settings"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Configure payment methods and billing preferences"}),o.jsxs(oe,{color:"blue",children:[o.jsx("i",{className:"ri-add-line mr-2"}),"Add Payment Method"]})]})});case"integrations":return o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(pe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center",children:o.jsx("i",{className:"ri-mail-line text-blue-600 dark:text-blue-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Email Service"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"SMTP configuration"})]})]}),o.jsx(oe,{variant:"outline",children:"Configure"})]})}),o.jsx(pe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900 rounded-lg flex items-center justify-center",children:o.jsx("i",{className:"ri-phone-line text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"SMS Service"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Twilio integration"})]})]}),o.jsx(oe,{variant:"outline",children:"Configure"})]})})]})});default:return null}};return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Settings"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your application preferences and configurations."})]}),o.jsx(pe,{className:"mb-8",children:o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-blue-600 text-white flex items-center justify-center text-xl font-semibold",children:y}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t?"Loading...":m}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t?"Loading account...":p})]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 w-full md:w-auto",children:[v&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 tracking-wide",children:"Member Since"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:v})]}),b&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 tracking-wide",children:"Last Sign-in"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs uppercase text-gray-500 dark:text-gray-400 tracking-wide",children:"Auth Provider"}),o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N})]})]})]})}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("div",{className:"w-64 flex-shrink-0",children:o.jsx(pe,{children:o.jsx("nav",{className:"space-y-1",children:R.map(U=>o.jsxs("button",{onClick:()=>i(U.id),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors cursor-pointer ${a===U.id?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[o.jsx("i",{className:`${U.icon} text-lg`}),o.jsx("span",{className:"font-medium",children:U.label})]},U.id))})})}),o.jsx("div",{className:"flex-1",children:o.jsxs(pe,{children:[o.jsx("div",{className:"mb-6",children:o.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:R.find(U=>U.id===a)?.label})}),D(),o.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",children:[o.jsx("i",{className:"ri-save-line mr-2"}),"Save Changes"]}),o.jsxs(oe,{variant:"outline",children:[o.jsx("i",{className:"ri-refresh-line mr-2"}),"Reset to Default"]})]})})]})})]})]})]})]})},lw=[{id:"CAL001",title:"Initial Consultation",type:"consultation",date:"2024-01-15",time:"10:00 AM",duration:60,participants:["Dr. Sarah Wilson","Emma Thompson","John & Mary Davis"],location:"Clinic Room 1",status:"confirmed"},{id:"CAL002",title:"Medical Screening",type:"medical",date:"2024-01-16",time:"2:00 PM",duration:90,participants:["Dr. Michael Chen","Lisa Rodriguez"],location:"Medical Center",status:"pending"},{id:"CAL003",title:"Legal Review",type:"legal",date:"2024-01-17",time:"11:00 AM",duration:45,participants:["Attorney Johnson","Robert & Susan Miller"],location:"Law Office",status:"confirmed"},{id:"CAL004",title:"Psychological Evaluation",type:"psychological",date:"2024-01-18",time:"9:00 AM",duration:120,participants:["Dr. Patricia Lee","Amanda Wilson"],location:"Psychology Clinic",status:"completed"},{id:"CAL005",title:"IVF Transfer",type:"medical",date:"2024-01-20",time:"8:00 AM",duration:180,participants:["Dr. Michael Chen","Emma Thompson"],location:"IVF Center",status:"scheduled"}],$M=()=>{const[r,e]=I.useState(new Date),[t,a]=I.useState("month"),[i,c]=I.useState(null),[d,m]=I.useState(!1),p=["January","February","March","April","May","June","July","August","September","October","November","December"],y=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],v=F=>{const D=F.getFullYear(),U=F.getMonth(),X=new Date(D,U,1),ue=new Date(D,U+1,0).getDate(),O=X.getDay(),k=[];for(let E=0;E<O;E++)k.push(null);for(let E=1;E<=ue;E++)k.push(E);return k},b=F=>{const D=`2024-01-${F.toString().padStart(2,"0")}`;return lw.filter(U=>U.date===D)},N=F=>{switch(F){case"consultation":return"bg-blue-500";case"medical":return"bg-green-500";case"legal":return"bg-purple-500";case"psychological":return"bg-orange-500";default:return"bg-gray-500"}},R=F=>{switch(F){case"confirmed":return o.jsx(me,{color:"green",children:"Confirmed"});case"pending":return o.jsx(me,{color:"yellow",children:"Pending"});case"scheduled":return o.jsx(me,{color:"blue",children:"Scheduled"});case"completed":return o.jsx(me,{color:"gray",children:"Completed"});default:return o.jsx(me,{children:F})}},M=F=>{e(D=>{const U=new Date(D);return F==="prev"?U.setMonth(D.getMonth()-1):U.setMonth(D.getMonth()+1),U})},q=()=>{const F=v(r);return o.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200 dark:border-gray-700",children:y.map(D=>o.jsx("div",{className:"p-4 text-center font-semibold text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 last:border-r-0",children:D},D))}),o.jsx("div",{className:"grid grid-cols-7",children:F.map((D,U)=>o.jsx("div",{className:"min-h-[120px] p-2 border-r border-b border-gray-200 dark:border-gray-700 last:border-r-0",children:D&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:D}),o.jsx("div",{className:"space-y-1",children:b(D).map(X=>o.jsxs("div",{onClick:()=>c(X),className:`text-xs p-1 rounded cursor-pointer text-white ${N(X.type)} hover:opacity-80`,children:[o.jsx("div",{className:"font-medium truncate",children:X.title}),o.jsx("div",{className:"truncate",children:X.time})]},X.id))})]})},U))})]})},B=()=>o.jsxs(pe,{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upcoming Events"}),o.jsx("div",{className:"space-y-3",children:lw.slice(0,5).map(F=>o.jsxs("div",{onClick:()=>c(F),className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 cursor-pointer",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${N(F.type)}`}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:F.title}),o.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[F.date," at ",F.time]})]}),R(F.status)]},F.id))})]});return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Calendar"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage appointments and schedule events."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["month","week","day"].map(F=>o.jsx("button",{onClick:()=>a(F),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-colors cursor-pointer capitalize ${t===F?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400"}`,children:F},F))}),o.jsxs(oe,{color:"blue",onClick:()=>m(!0),children:[o.jsx("i",{className:"ri-add-line mr-2"}),"New Event"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"lg:col-span-3",children:o.jsxs(pe,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[p[r.getMonth()]," ",r.getFullYear()]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>M("prev"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-arrow-left-line text-gray-600 dark:text-gray-400"})}),o.jsx("button",{onClick:()=>e(new Date),className:"px-3 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900 rounded-lg cursor-pointer",children:"Today"}),o.jsx("button",{onClick:()=>M("next"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-arrow-right-line text-gray-600 dark:text-gray-400"})})]})]}),t==="month"&&q(),t==="week"&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("i",{className:"ri-calendar-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Week View"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Week view coming soon"})]}),t==="day"&&o.jsxs("div",{className:"text-center py-12",children:[o.jsx("i",{className:"ri-calendar-line text-6xl text-gray-300 dark:text-gray-600 mb-4"}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Day View"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Day view coming soon"})]})]})}),o.jsxs("div",{className:"space-y-6",children:[B(),o.jsxs(pe,{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Event Types"}),o.jsx("div",{className:"space-y-2",children:[{type:"consultation",label:"Consultations",color:"bg-blue-500"},{type:"medical",label:"Medical",color:"bg-green-500"},{type:"legal",label:"Legal",color:"bg-purple-500"},{type:"psychological",label:"Psychological",color:"bg-orange-500"}].map(F=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-3 h-3 rounded-full ${F.color}`}),o.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:F.label})]},F.type))})]})]})]}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Event Details"}),o.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-lg",children:i.title}),R(i.status)]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:i.date})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Time:"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:i.time})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),o.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[i.duration," min"]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Location:"}),o.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:i.location})]})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Participants:"}),o.jsx("div",{className:"mt-1 space-y-1",children:i.participants.map((F,D)=>o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("i",{className:"ri-user-line text-gray-400"}),o.jsx("span",{className:"text-gray-900 dark:text-white text-sm",children:F})]},D))})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-edit-line mr-2"}),"Edit"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-delete-bin-line mr-2"}),"Delete"]})]})]})]})})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"New Event"}),o.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Title"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter event title"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Time"}),o.jsx("input",{type:"time",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Event Type"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"consultation",children:"Consultation"}),o.jsx("option",{value:"medical",children:"Medical"}),o.jsx("option",{value:"legal",children:"Legal"}),o.jsx("option",{value:"psychological",children:"Psychological"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-save-line mr-2"}),"Create Event"]}),o.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>m(!1),children:"Cancel"})]})]})]})})})]})]})]})},pa=[{id:"PAY001",type:"compensation",amount:25e3,currency:"USD",status:"completed",date:"2024-01-15",dueDate:"2024-01-15",surrogate:"Emma Thompson",parents:"John & Mary Davis",description:"Base compensation payment",method:"Bank Transfer",reference:"TXN-2024-001"},{id:"PAY002",type:"medical",amount:3500,currency:"USD",status:"pending",date:"2024-01-16",dueDate:"2024-01-20",surrogate:"Lisa Rodriguez",parents:"Robert & Susan Miller",description:"Medical expenses reimbursement",method:"Check",reference:"TXN-2024-002"},{id:"PAY003",type:"legal",amount:2e3,currency:"USD",status:"overdue",date:"2024-01-10",dueDate:"2024-01-14",surrogate:"Jennifer Adams",parents:"Michael & Sarah Johnson",description:"Legal fees payment",method:"Wire Transfer",reference:"TXN-2024-003"},{id:"PAY004",type:"monthly",amount:1500,currency:"USD",status:"scheduled",date:"2024-01-25",dueDate:"2024-01-25",surrogate:"Amanda Wilson",parents:"David & Lisa Chen",description:"Monthly allowance payment",method:"Direct Deposit",reference:"TXN-2024-004"},{id:"PAY005",type:"bonus",amount:5e3,currency:"USD",status:"processing",date:"2024-01-18",dueDate:"2024-01-22",surrogate:"Rachel Green",parents:"Thomas & Emily Brown",description:"Successful delivery bonus",method:"Bank Transfer",reference:"TXN-2024-005"}],GM=[{label:"Total Payments",value:"$156,000",change:"+12%",icon:"ri-money-dollar-circle-line",color:"blue"},{label:"Pending Payments",value:"$8,500",change:"-5%",icon:"ri-time-line",color:"yellow"},{label:"Overdue Payments",value:"$2,000",change:"+2%",icon:"ri-error-warning-line",color:"red"},{label:"This Month",value:"$32,000",change:"+18%",icon:"ri-calendar-line",color:"green"}],KM=[{id:"all",label:"All Payments",count:pa.length},{id:"compensation",label:"Compensation",count:pa.filter(r=>r.type==="compensation").length},{id:"medical",label:"Medical",count:pa.filter(r=>r.type==="medical").length},{id:"legal",label:"Legal",count:pa.filter(r=>r.type==="legal").length},{id:"monthly",label:"Monthly",count:pa.filter(r=>r.type==="monthly").length},{id:"bonus",label:"Bonus",count:pa.filter(r=>r.type==="bonus").length}],YM=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState(null),[i,c]=I.useState(!1),d=r==="all"?pa:pa.filter(b=>b.type===r),m=b=>{switch(b){case"completed":return o.jsx(me,{color:"green",children:"Completed"});case"pending":return o.jsx(me,{color:"yellow",children:"Pending"});case"processing":return o.jsx(me,{color:"blue",children:"Processing"});case"scheduled":return o.jsx(me,{color:"gray",children:"Scheduled"});case"overdue":return o.jsx(me,{color:"red",children:"Overdue"});default:return o.jsx(me,{children:b})}},p=b=>{switch(b){case"compensation":return"ri-money-dollar-circle-line";case"medical":return"ri-health-book-line";case"legal":return"ri-file-text-line";case"monthly":return"ri-calendar-line";case"bonus":return"ri-gift-line";default:return"ri-money-dollar-circle-line"}},y=b=>{switch(b){case"compensation":return"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400";case"medical":return"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400";case"legal":return"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400";case"monthly":return"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400";case"bonus":return"bg-pink-100 dark:bg-pink-900 text-pink-600 dark:text-pink-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}},v=(b,N)=>new Intl.NumberFormat("en-US",{style:"currency",currency:N}).format(b);return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Payments"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage all financial transactions and payments."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{variant:"outline",children:[o.jsx("i",{className:"ri-download-line mr-2"}),"Export"]}),o.jsxs(oe,{color:"blue",onClick:()=>c(!0),children:[o.jsx("i",{className:"ri-add-line mr-2"}),"New Payment"]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:GM.map((b,N)=>o.jsx(pe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.value}),o.jsxs("p",{className:`text-sm ${b.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[b.change," from last month"]})]}),o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-${b.color}-100 dark:bg-${b.color}-900`,children:o.jsx("i",{className:`${b.icon} text-xl text-${b.color}-600 dark:text-${b.color}-400`})})]})},N))}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:KM.map(b=>o.jsxs("button",{onClick:()=>e(b.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===b.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[b.label," (",b.count,")"]},b.id))})}),o.jsx("div",{className:"space-y-4",children:d.map(b=>o.jsx(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(b),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${y(b.type)}`,children:o.jsx("i",{className:`${p(b.type)} text-lg`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:b.description}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[b.surrogate,"  ",b.parents]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Due: ",b.dueDate,"  ",b.method]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:v(b.amount,b.currency)}),m(b.status),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Ref: ",b.reference]})]})]})},b.id))}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Payment Details"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center ${y(t.type)}`,children:o.jsx("i",{className:`${p(t.type)} text-2xl`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.description}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Payment ID: ",t.id]}),m(t.status)]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Payment Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amount:"}),o.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:v(t.amount,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),o.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:t.type})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Method:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.method})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Reference:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.reference})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Schedule"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.date})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Due Date:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.dueDate})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Parties Involved"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("i",{className:"ri-user-heart-line text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Surrogate"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.surrogate})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("i",{className:"ri-parent-line text-green-600 dark:text-green-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Intended Parents"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.parents})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Payment"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-download-line mr-2"}),"Download Receipt"]}),t.status==="pending"&&o.jsxs(oe,{color:"green",className:"flex-1",children:[o.jsx("i",{className:"ri-check-line mr-2"}),"Mark as Paid"]})]})]})]})})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"New Payment"}),o.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Type"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"compensation",children:"Compensation"}),o.jsx("option",{value:"medical",children:"Medical"}),o.jsx("option",{value:"legal",children:"Legal"}),o.jsx("option",{value:"monthly",children:"Monthly"}),o.jsx("option",{value:"bonus",children:"Bonus"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),o.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"EUR",children:"EUR"}),o.jsx("option",{value:"GBP",children:"GBP"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Payment description"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Due Date"}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-save-line mr-2"}),"Create Payment"]}),o.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"})]})]})]})})})]})]})]})},vi=[{id:"MED001",patientName:"Emma Thompson",patientType:"surrogate",recordType:"screening",title:"Initial Medical Screening",date:"2024-01-10",doctor:"Dr. Michael Chen",facility:"Reproductive Health Center",status:"completed",results:"All tests normal",attachments:["blood_work.pdf","ultrasound.pdf"],notes:"Patient cleared for surrogacy program. All screening tests within normal limits."},{id:"MED002",patientName:"Lisa Rodriguez",patientType:"surrogate",recordType:"monitoring",title:"Pregnancy Monitoring - Week 12",date:"2024-01-15",doctor:"Dr. Sarah Wilson",facility:"Women's Health Clinic",status:"reviewed",results:"Healthy pregnancy progression",attachments:["ultrasound_12w.pdf","lab_results.pdf"],notes:"Fetal development on track. Mother and baby healthy."},{id:"MED003",patientName:"Jennifer Adams",patientType:"surrogate",recordType:"procedure",title:"Embryo Transfer Procedure",date:"2024-01-08",doctor:"Dr. Patricia Lee",facility:"IVF Center",status:"completed",results:"Successful transfer",attachments:["procedure_notes.pdf","post_op.pdf"],notes:"Two high-quality embryos transferred successfully. Patient recovering well."},{id:"MED004",patientName:"Amanda Wilson",patientType:"surrogate",recordType:"consultation",title:"Psychological Evaluation",date:"2024-01-12",doctor:"Dr. Robert Martinez",facility:"Mental Health Associates",status:"pending_review",results:"Assessment complete",attachments:["psych_eval.pdf"],notes:"Comprehensive psychological assessment completed. Awaiting final review."},{id:"MED005",patientName:"Rachel Green",patientType:"intended_parent",recordType:"screening",title:"Genetic Screening",date:"2024-01-14",doctor:"Dr. Emily Brown",facility:"Genetics Laboratory",status:"in_progress",results:"Pending",attachments:["genetic_consent.pdf"],notes:"Genetic testing in progress. Results expected within 7-10 days."}],QM=[{label:"Total Records",value:"248",change:"+15%",icon:"ri-file-list-3-line",color:"blue"},{label:"Pending Review",value:"12",change:"-8%",icon:"ri-time-line",color:"yellow"},{label:"Completed",value:"198",change:"+22%",icon:"ri-check-line",color:"green"},{label:"In Progress",value:"38",change:"+5%",icon:"ri-loader-line",color:"purple"}],XM=[{id:"all",label:"All Records",count:vi.length},{id:"screening",label:"Screening",count:vi.filter(r=>r.recordType==="screening").length},{id:"monitoring",label:"Monitoring",count:vi.filter(r=>r.recordType==="monitoring").length},{id:"procedure",label:"Procedures",count:vi.filter(r=>r.recordType==="procedure").length},{id:"consultation",label:"Consultations",count:vi.filter(r=>r.recordType==="consultation").length}],JM=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState(null),[i,c]=I.useState(!1),d=r==="all"?vi:vi.filter(b=>b.recordType===r),m=b=>{switch(b){case"completed":return o.jsx(me,{color:"green",children:"Completed"});case"pending_review":return o.jsx(me,{color:"yellow",children:"Pending Review"});case"in_progress":return o.jsx(me,{color:"blue",children:"In Progress"});case"reviewed":return o.jsx(me,{color:"gray",children:"Reviewed"});case"cancelled":return o.jsx(me,{color:"red",children:"Cancelled"});default:return o.jsx(me,{children:b})}},p=b=>{switch(b){case"screening":return"ri-search-line";case"monitoring":return"ri-heart-pulse-line";case"procedure":return"ri-surgical-mask-line";case"consultation":return"ri-discuss-line";default:return"ri-file-text-line"}},y=b=>{switch(b){case"screening":return"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400";case"monitoring":return"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400";case"procedure":return"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400";case"consultation":return"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}},v=b=>b==="surrogate"?"ri-user-heart-line":"ri-parent-line";return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Medical Records"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage medical documentation and health records."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{variant:"outline",children:[o.jsx("i",{className:"ri-download-line mr-2"}),"Export Records"]}),o.jsxs(oe,{color:"blue",onClick:()=>c(!0),children:[o.jsx("i",{className:"ri-add-line mr-2"}),"New Record"]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:QM.map((b,N)=>o.jsx(pe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:b.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.value}),o.jsxs("p",{className:`text-sm ${b.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[b.change," from last month"]})]}),o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-${b.color}-100 dark:bg-${b.color}-900`,children:o.jsx("i",{className:`${b.icon} text-xl text-${b.color}-600 dark:text-${b.color}-400`})})]})},N))}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:XM.map(b=>o.jsxs("button",{onClick:()=>e(b.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===b.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[b.label," (",b.count,")"]},b.id))})}),o.jsx("div",{className:"space-y-4",children:d.map(b=>o.jsx(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(b),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${y(b.recordType)}`,children:o.jsx("i",{className:`${p(b.recordType)} text-lg`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:b.title}),o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[o.jsx("i",{className:`${v(b.patientType)} text-xs`}),o.jsx("span",{children:b.patientName}),o.jsx("span",{children:""}),o.jsx("span",{children:b.date})]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Dr. ",b.doctor,"  ",b.facility]})]})]}),o.jsxs("div",{className:"text-right",children:[m(b.status),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[b.attachments.length," attachment",b.attachments.length!==1?"s":""]})]})]})},b.id))}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Medical Record Details"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center ${y(t.recordType)}`,children:o.jsx("i",{className:`${p(t.recordType)} text-2xl`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.title}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Record ID: ",t.id]}),m(t.status)]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Patient Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Name:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.patientName})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),o.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:t.patientType.replace("_"," ")})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Record Type:"}),o.jsx("span",{className:"text-gray-900 dark:text-white capitalize",children:t.recordType})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Medical Details"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Date:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.date})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Doctor:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.doctor})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Facility:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.facility})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Results & Notes"}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg space-y-3",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Results:"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:t.results})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Notes:"}),o.jsx("p",{className:"text-gray-900 dark:text-white",children:t.notes})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Attachments"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.attachments.map((b,N)=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[o.jsx("i",{className:"ri-file-pdf-line text-red-500 text-xl"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:b}),o.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"PDF Document"})]}),o.jsxs(oe,{variant:"outline",className:"text-xs",children:[o.jsx("i",{className:"ri-download-line mr-1"}),"Download"]})]},N))})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Record"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-share-line mr-2"}),"Share Record"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-printer-line mr-2"}),"Print"]})]})]})]})})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"New Medical Record"}),o.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Patient Name"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter patient name"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Patient Type"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"surrogate",children:"Surrogate"}),o.jsx("option",{value:"intended_parent",children:"Intended Parent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Record Type"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"screening",children:"Screening"}),o.jsx("option",{value:"monitoring",children:"Monitoring"}),o.jsx("option",{value:"procedure",children:"Procedure"}),o.jsx("option",{value:"consultation",children:"Consultation"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Record title"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date"}),o.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Doctor"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Doctor name"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),o.jsx("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Medical notes and observations"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-save-line mr-2"}),"Create Record"]}),o.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"})]})]})]})})})]})]})]})},bi=[{id:"CON001",title:"Surrogacy Agreement - Thompson/Davis",type:"surrogacy_agreement",surrogate:"Emma Thompson",parents:"John & Mary Davis",status:"active",createdDate:"2024-01-05",signedDate:"2024-01-10",expiryDate:"2025-01-10",value:45e3,currency:"USD",lawyer:"Attorney Sarah Johnson",clauses:12,amendments:0,lastModified:"2024-01-10"},{id:"CON002",title:"Medical Authorization - Rodriguez/Miller",type:"medical_authorization",surrogate:"Lisa Rodriguez",parents:"Robert & Susan Miller",status:"pending_signature",createdDate:"2024-01-12",signedDate:null,expiryDate:"2024-12-31",value:0,currency:"USD",lawyer:"Attorney Michael Brown",clauses:8,amendments:1,lastModified:"2024-01-15"},{id:"CON003",title:"Compensation Agreement - Adams/Johnson",type:"compensation_agreement",surrogate:"Jennifer Adams",parents:"Michael & Sarah Johnson",status:"under_review",createdDate:"2024-01-08",signedDate:null,expiryDate:"2024-12-31",value:35e3,currency:"USD",lawyer:"Attorney David Wilson",clauses:15,amendments:2,lastModified:"2024-01-14"},{id:"CON004",title:"Confidentiality Agreement - Wilson/Chen",type:"confidentiality_agreement",surrogate:"Amanda Wilson",parents:"David & Lisa Chen",status:"expired",createdDate:"2023-06-15",signedDate:"2023-06-20",expiryDate:"2024-01-01",value:0,currency:"USD",lawyer:"Attorney Patricia Lee",clauses:6,amendments:0,lastModified:"2023-06-20"},{id:"CON005",title:"Surrogacy Agreement - Green/Brown",type:"surrogacy_agreement",surrogate:"Rachel Green",parents:"Thomas & Emily Brown",status:"draft",createdDate:"2024-01-16",signedDate:null,expiryDate:null,value:5e4,currency:"USD",lawyer:"Attorney Robert Martinez",clauses:14,amendments:0,lastModified:"2024-01-18"}],WM=[{label:"Total Contracts",value:"127",change:"+8%",icon:"ri-file-text-line",color:"blue"},{label:"Active Contracts",value:"45",change:"+12%",icon:"ri-check-line",color:"green"},{label:"Pending Signature",value:"8",change:"-3%",icon:"ri-quill-pen-line",color:"yellow"},{label:"Under Review",value:"12",change:"+5%",icon:"ri-search-line",color:"purple"}],ZM=[{id:"all",label:"All Contracts",count:bi.length},{id:"surrogacy_agreement",label:"Surrogacy Agreements",count:bi.filter(r=>r.type==="surrogacy_agreement").length},{id:"medical_authorization",label:"Medical Authorization",count:bi.filter(r=>r.type==="medical_authorization").length},{id:"compensation_agreement",label:"Compensation",count:bi.filter(r=>r.type==="compensation_agreement").length},{id:"confidentiality_agreement",label:"Confidentiality",count:bi.filter(r=>r.type==="confidentiality_agreement").length}],eO=()=>{const[r,e]=I.useState("all"),[t,a]=I.useState(null),[i,c]=I.useState(!1),d=r==="all"?bi:bi.filter(N=>N.type===r),m=N=>{switch(N){case"active":return o.jsx(me,{color:"green",children:"Active"});case"pending_signature":return o.jsx(me,{color:"yellow",children:"Pending Signature"});case"under_review":return o.jsx(me,{color:"blue",children:"Under Review"});case"draft":return o.jsx(me,{color:"gray",children:"Draft"});case"expired":return o.jsx(me,{color:"red",children:"Expired"});case"terminated":return o.jsx(me,{color:"red",children:"Terminated"});default:return o.jsx(me,{children:N})}},p=N=>{switch(N){case"surrogacy_agreement":return"ri-file-text-line";case"medical_authorization":return"ri-health-book-line";case"compensation_agreement":return"ri-money-dollar-circle-line";case"confidentiality_agreement":return"ri-shield-check-line";default:return"ri-file-line"}},y=N=>{switch(N){case"surrogacy_agreement":return"bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400";case"medical_authorization":return"bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-400";case"compensation_agreement":return"bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-400";case"confidentiality_agreement":return"bg-orange-100 dark:bg-orange-900 text-orange-600 dark:text-orange-400";default:return"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}},v=(N,R)=>N===0?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:R}).format(N),b=N=>N.split("_").map(R=>R.charAt(0).toUpperCase()+R.slice(1)).join(" ");return o.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx(pn,{}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[o.jsx(yn,{}),o.jsxs("main",{className:"flex-1 overflow-y-auto p-6",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Contracts"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage legal agreements and documentation."})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{variant:"outline",children:[o.jsx("i",{className:"ri-download-line mr-2"}),"Export Contracts"]}),o.jsxs(oe,{color:"blue",onClick:()=>c(!0),children:[o.jsx("i",{className:"ri-add-line mr-2"}),"New Contract"]})]})]})}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:WM.map((N,R)=>o.jsx(pe,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:N.label}),o.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N.value}),o.jsxs("p",{className:`text-sm ${N.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[N.change," from last month"]})]}),o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center bg-${N.color}-100 dark:bg-${N.color}-900`,children:o.jsx("i",{className:`${N.icon} text-xl text-${N.color}-600 dark:text-${N.color}-400`})})]})},R))}),o.jsx("div",{className:"mb-6",children:o.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg w-fit",children:ZM.map(N=>o.jsxs("button",{onClick:()=>e(N.id),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap cursor-pointer ${r===N.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[N.label," (",N.count,")"]},N.id))})}),o.jsx("div",{className:"space-y-4",children:d.map(N=>o.jsx(pe,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a(N),children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${y(N.type)}`,children:o.jsx("i",{className:`${p(N.type)} text-lg`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:N.title}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.surrogate,"  ",N.parents]}),o.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Created: ",N.createdDate,"  ",N.lawyer]})]})]}),o.jsxs("div",{className:"text-right",children:[m(N.status),o.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white mt-1",children:v(N.value,N.currency)}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[N.clauses," clauses  ",N.amendments," amendments"]})]})]})},N.id))}),t&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Contract Details"}),o.jsx("button",{onClick:()=>a(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-16 h-16 rounded-lg flex items-center justify-center ${y(t.type)}`,children:o.jsx("i",{className:`${p(t.type)} text-2xl`})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t.title}),o.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Contract ID: ",t.id]}),m(t.status)]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Contract Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Type:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:b(t.type)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Value:"}),o.jsx("span",{className:"text-gray-900 dark:text-white font-semibold",children:v(t.value,t.currency)})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Clauses:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.clauses})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Amendments:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.amendments})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Timeline"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.createdDate})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Signed:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.signedDate||"Not signed"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Expires:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.expiryDate||"No expiry"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Modified:"}),o.jsx("span",{className:"text-gray-900 dark:text-white",children:t.lastModified})]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Parties Involved"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("i",{className:"ri-user-heart-line text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Surrogate"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.surrogate})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("i",{className:"ri-parent-line text-green-600 dark:text-green-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Intended Parents"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.parents})]}),o.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("i",{className:"ri-scales-3-line text-purple-600 dark:text-purple-400"}),o.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Legal Counsel"})]}),o.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:t.lawyer})]})]})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-edit-line mr-2"}),"Edit Contract"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-download-line mr-2"}),"Download PDF"]}),o.jsxs(oe,{variant:"outline",className:"flex-1",children:[o.jsx("i",{className:"ri-share-line mr-2"}),"Share Contract"]}),t.status==="draft"&&o.jsxs(oe,{color:"green",className:"flex-1",children:[o.jsx("i",{className:"ri-send-plane-line mr-2"}),"Send for Signature"]})]})]})]})})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"New Contract"}),o.jsx("button",{onClick:()=>c(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg cursor-pointer",children:o.jsx("i",{className:"ri-close-line text-gray-600 dark:text-gray-400"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contract Type"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"surrogacy_agreement",children:"Surrogacy Agreement"}),o.jsx("option",{value:"medical_authorization",children:"Medical Authorization"}),o.jsx("option",{value:"compensation_agreement",children:"Compensation Agreement"}),o.jsx("option",{value:"confidentiality_agreement",children:"Confidentiality Agreement"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contract Title"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter contract title"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Surrogate"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select surrogate"}),o.jsx("option",{value:"emma",children:"Emma Thompson"}),o.jsx("option",{value:"lisa",children:"Lisa Rodriguez"}),o.jsx("option",{value:"jennifer",children:"Jennifer Adams"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Intended Parents"}),o.jsxs("select",{className:"w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[o.jsx("option",{value:"",children:"Select parents"}),o.jsx("option",{value:"davis",children:"John & Mary Davis"}),o.jsx("option",{value:"miller",children:"Robert & Susan Miller"}),o.jsx("option",{value:"johnson",children:"Michael & Sarah Johnson"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contract Value"}),o.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Legal Counsel"}),o.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Attorney name"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsxs(oe,{color:"blue",className:"flex-1",children:[o.jsx("i",{className:"ri-save-line mr-2"}),"Create Contract"]}),o.jsx(oe,{variant:"outline",className:"flex-1",onClick:()=>c(!1),children:"Cancel"})]})]})]})})})]})]})]})},tO=()=>{const r=Un(),{login:e,initializing:t}=Xh(),[a,i]=I.useState({email:"",password:"",rememberMe:!1}),[c,d]=I.useState(!1),[m,p]=I.useState(null),y=b=>{const{name:N,value:R,type:M,checked:q}=b.target;i(B=>({...B,[N]:M==="checkbox"?q:R}))},v=async b=>{if(b.preventDefault(),p(null),!t){d(!0);try{await e({email:a.email.trim(),password:a.password,rememberMe:a.rememberMe}),r("/")}catch(N){if(N instanceof zn)switch(N.code){case"auth/invalid-credential":case"auth/invalid-email":case"auth/user-not-found":case"auth/wrong-password":p("Invalid email or password. Please try again.");break;case"auth/user-disabled":p("This account has been disabled. Contact your administrator.");break;case"auth/too-many-requests":p("Too many failed attempts. Please wait a moment before trying again.");break;default:p("Unable to sign in. Please try again later.")}else p("Unable to sign in. Please try again later.")}finally{d(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-16 h-16 bg-blue-600 dark:bg-blue-500 rounded-xl flex items-center justify-center",children:o.jsx("i",{className:"ri-heart-pulse-line text-2xl text-white"})})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Sign in to Family Matters"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Access your surrogacy admin portal"})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow-xl rounded-xl sm:px-10 border border-gray-200 dark:border-gray-700",children:o.jsxs("form",{className:"space-y-6",onSubmit:v,children:[m&&o.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700 dark:border-red-900 dark:bg-red-950/60 dark:text-red-400",children:m}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:y,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",placeholder:"Enter your email"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("i",{className:"ri-mail-line text-gray-400 dark:text-gray-500 text-sm"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a.password,onChange:y,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",placeholder:"Enter your password"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("i",{className:"ri-lock-line text-gray-400 dark:text-gray-500 text-sm"})})]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"remember-me",name:"rememberMe",type:"checkbox",checked:a.rememberMe,onChange:y,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700"}),o.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),o.jsx("div",{className:"text-sm",children:o.jsx(Ni,{to:"/auth/forgot-password",className:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Forgot your password?"})})]}),o.jsx("div",{children:o.jsx(oe,{type:"submit",disabled:c||t,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:ring-offset-gray-800",children:c?o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Signing in..."]}):t?o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-time-line mr-2"}),"Initializing..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-login-box-line mr-2"}),"Sign in"]})})}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"New to Family Matters?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs(Ni,{to:"/auth/signup",className:"w-full flex justify-center py-2.5 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800",children:[o.jsx("i",{className:"ri-user-add-line mr-2"}),"Create new account"]})})]})]})})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" 2024 Family Matters. All rights reserved."})})]})},nO=()=>{const r=Un(),{signup:e}=Xh(),[t,a]=I.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"admin",agreeToTerms:!1}),[i,c]=I.useState(!1),[d,m]=I.useState({}),[p,y]=I.useState(null),v=R=>{const{name:M,value:q,type:B}=R.target,F=B==="checkbox"?R.target.checked:!1;a(D=>({...D,[M]:B==="checkbox"?F:q})),d[M]&&m(D=>({...D,[M]:""}))},b=()=>{const R={};return t.firstName.trim()||(R.firstName="First name is required"),t.lastName.trim()||(R.lastName="Last name is required"),t.email.trim()||(R.email="Email is required"),t.password||(R.password="Password is required"),t.password.length<8&&(R.password="Password must be at least 8 characters"),t.password!==t.confirmPassword&&(R.confirmPassword="Passwords do not match"),t.agreeToTerms||(R.agreeToTerms="You must agree to the terms"),m(R),Object.keys(R).length===0},N=async R=>{if(R.preventDefault(),!!b()){c(!0),y(null);try{const M=await e({email:t.email.trim(),password:t.password}),q=`${t.firstName} ${t.lastName}`.trim();q&&await KD(M.user,{displayName:q}),r("/")}catch(M){if(M instanceof zn)switch(M.code){case"auth/email-already-in-use":y("An account with this email already exists. Try signing in instead.");break;case"auth/invalid-email":y("The email address appears to be invalid.");break;case"auth/weak-password":y("Your password is too weak. Please choose a stronger password.");break;default:y("Unable to create your account right now. Please try again later.")}else y("Unable to create your account right now. Please try again later.")}finally{c(!1)}}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[o.jsx("div",{className:"flex justify-center",children:o.jsx("div",{className:"w-16 h-16 bg-blue-600 dark:bg-blue-500 rounded-xl flex items-center justify-center",children:o.jsx("i",{className:"ri-heart-pulse-line text-2xl text-white"})})}),o.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900 dark:text-white",children:"Create your account"}),o.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Join the Family Matters admin portal"})]}),o.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:o.jsx("div",{className:"bg-white dark:bg-gray-800 py-8 px-4 shadow-xl rounded-xl sm:px-10 border border-gray-200 dark:border-gray-700",children:o.jsxs("form",{className:"space-y-6",onSubmit:N,children:[p&&o.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700 dark:border-red-900 dark:bg-red-950/60 dark:text-red-400",children:p}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"First name"}),o.jsxs("div",{className:"mt-1",children:[o.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:t.firstName,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",placeholder:"First name"}),d.firstName&&o.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:d.firstName})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last name"}),o.jsxs("div",{className:"mt-1",children:[o.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:t.lastName,onChange:v,className:"appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",placeholder:"Last name"}),d.lastName&&o.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:d.lastName})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:v,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",placeholder:"Enter your email"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("i",{className:"ri-mail-line text-gray-400 dark:text-gray-500 text-sm"})}),d.email&&o.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:d.email})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Role"}),o.jsx("div",{className:"mt-1",children:o.jsxs("select",{id:"role",name:"role",value:t.role,onChange:v,className:"appearance-none block w-full px-3 py-2 pr-8 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",children:[o.jsx("option",{value:"admin",children:"Administrator"}),o.jsx("option",{value:"coordinator",children:"Program Coordinator"}),o.jsx("option",{value:"medical",children:"Medical Staff"}),o.jsx("option",{value:"legal",children:"Legal Advisor"})]})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:v,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",placeholder:"Create a password"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("i",{className:"ri-lock-line text-gray-400 dark:text-gray-500 text-sm"})}),d.password&&o.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:d.password})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm password"}),o.jsxs("div",{className:"mt-1 relative",children:[o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:v,className:"appearance-none block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-600 rounded-lg placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-sm",placeholder:"Confirm your password"}),o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx("i",{className:"ri-lock-line text-gray-400 dark:text-gray-500 text-sm"})}),d.confirmPassword&&o.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:d.confirmPassword})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"agreeToTerms",name:"agreeToTerms",type:"checkbox",checked:t.agreeToTerms,onChange:v,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700"}),o.jsxs("label",{htmlFor:"agreeToTerms",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:["I agree to the"," ",o.jsx(Ni,{to:"/terms",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Terms of Service"})," ","and"," ",o.jsx(Ni,{to:"/privacy",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300",children:"Privacy Policy"})]})]}),d.agreeToTerms&&o.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:d.agreeToTerms}),o.jsx("div",{children:o.jsx(oe,{type:"submit",disabled:i,className:"w-full flex justify-center py-2.5 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:focus:ring-offset-gray-800",children:i?o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-loader-4-line animate-spin mr-2"}),"Creating account..."]}):o.jsxs(o.Fragment,{children:[o.jsx("i",{className:"ri-user-add-line mr-2"}),"Create account"]})})}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Already have an account?"})})]}),o.jsx("div",{className:"mt-6",children:o.jsxs(Ni,{to:"/auth/login",className:"w-full flex justify-center py-2.5 px-4 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm bg-white dark:bg-gray-700 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800",children:[o.jsx("i",{className:"ri-login-box-line mr-2"}),"Sign in instead"]})})]})]})})}),o.jsx("div",{className:"mt-8 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:" 2024 Family Matters. All rights reserved."})})]})};function rO(){return o.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[o.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),o.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),o.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const sO=()=>{const r=Un();return o.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 overflow-x-hidden",children:[o.jsx("nav",{className:"fixed w-full z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md border-b border-gray-100 dark:border-gray-800",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between h-16 items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("i",{className:"ri-heart-line text-white text-xl"})}),o.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Family Matters"})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>r("/auth/login"),className:"text-sm font-medium text-gray-600 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Log In"}),o.jsx("button",{onClick:()=>r("/"),className:"px-4 py-2 rounded-full bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors shadow-lg shadow-blue-600/20",children:"Dashboard"})]})]})})}),o.jsxs("section",{className:"relative pt-32 pb-20 lg:pt-48 lg:pb-32 overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-purple-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-blue-500/10 rounded-full blur-3xl translate-y-1/2 -translate-x-1/4"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center",children:[o.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm font-medium mb-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:"Reimagining Surrogacy Management"}),o.jsxs("h1",{className:"text-5xl lg:text-7xl font-bold text-gray-900 dark:text-white mb-6 tracking-tight animate-in fade-in slide-in-from-bottom-8 duration-700 delay-100",children:["Making Family",o.jsx("br",{}),o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600",children:"Actually Matters"})]}),o.jsx("p",{className:"max-w-2xl mx-auto text-xl text-gray-600 dark:text-gray-300 mb-10 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-200",children:"A comprehensive, modern platform designed to streamline the journey for agencies, surrogates, and intended parents."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 animate-in fade-in slide-in-from-bottom-8 duration-700 delay-300",children:[o.jsx("button",{onClick:()=>r("/"),className:"w-full sm:w-auto px-8 py-4 rounded-full bg-blue-600 hover:bg-blue-700 text-white font-semibold text-lg transition-transform hover:scale-105 shadow-xl shadow-blue-600/20",children:"Enter Dashboard"}),o.jsx("button",{className:"w-full sm:w-auto px-8 py-4 rounded-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-gray-900 dark:text-white font-semibold text-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Learn More"})]})]})]}),o.jsx("section",{className:"py-20 bg-gray-50 dark:bg-gray-800/50",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[{label:"Families Created",value:"500+"},{label:"Active Surrogates",value:"1,200+"},{label:"Success Rate",value:"98%"},{label:"Global Reach",value:"30+ Countries"}].map((e,t)=>o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2",children:e.value}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.label})]},t))})})}),o.jsx("section",{className:"py-24 relative overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:"Everything you need"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Powerful tools built specifically for the nuances of surrogacy program management."})]}),o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[{icon:"ri-dashboard-3-line",title:"Centralized Dashboard",desc:"Get a bird's eye view of all active cases, pending applications, and critical alerts in one place."},{icon:"ri-user-heart-line",title:"Smart Matching",desc:"AI-assisted matching tools to help find the perfect connection between surrogates and intended parents."},{icon:"ri-secure-payment-line",title:"Secure & Compliant",desc:"Enterprise-grade security ensuring all sensitive medical and personal data remains protected."},{icon:"ri-chat-smile-3-line",title:"Real-time Communication",desc:"Integrated messaging system keeping agencies, parents, and surrogates connected effortlessly."},{icon:"ri-calendar-event-line",title:"Journey Tracking",desc:"Detailed milestone tracking from initial application through to post-birth legalities."},{icon:"ri-file-text-line",title:"Doc Management",desc:"Streamlined document collection, verification, and storage workflows."}].map((e,t)=>o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-shadow group",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-50 dark:bg-blue-900/30 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300",children:o.jsx("i",{className:`${e.icon} text-2xl text-blue-600 dark:text-blue-400`})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-3",children:e.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed",children:e.desc})]},t))})]})}),o.jsxs("section",{className:"py-24 bg-blue-600 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1549420042-2d109bb333e2?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center opacity-10 mix-blend-overlay"}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center relative z-10",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-8",children:"Ready to modernize your agency?"}),o.jsx("button",{onClick:()=>r("/auth/register"),className:"px-8 py-4 bg-white text-blue-600 rounded-full font-bold text-lg hover:bg-gray-100 transition-colors shadow-xl",children:"Get Started Now"})]})]}),o.jsx("footer",{className:"bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center gap-6",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded-lg flex items-center justify-center",children:o.jsx("i",{className:"ri-heart-line text-white text-xs"})}),o.jsx("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Family Matters"})]}),o.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:" 2026 Family Matters. All rights reserved."}),o.jsxs("div",{className:"flex gap-6",children:[o.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx("i",{className:"ri-twitter-line text-xl"})}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx("i",{className:"ri-linkedin-fill text-xl"})}),o.jsx("a",{href:"#",className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:o.jsx("i",{className:"ri-instagram-line text-xl"})})]})]})})]})},aO=[{path:"/landing",element:o.jsx(sO,{})},{path:"/",element:o.jsx(pM,{})},{path:"/auth/login",element:o.jsx(tO,{})},{path:"/auth/signup",element:o.jsx(nO,{})},{path:"/requests",element:o.jsx(yM,{})},{path:"/inquiries",element:o.jsx(xM,{})},{path:"/surrogates",element:o.jsx(vM,{})},{path:"/surrogates/:id",element:o.jsx(IM,{})},{path:"/parents",element:o.jsx(DM,{})},{path:"/parents/:id",element:o.jsx(OM,{})},{path:"/matches",element:o.jsx(LM,{})},{path:"/appointments",element:o.jsx(UM,{})},{path:"/calendar",element:o.jsx($M,{})},{path:"/payments",element:o.jsx(YM,{})},{path:"/medical",element:o.jsx(JM,{})},{path:"/contracts",element:o.jsx(eO,{})},{path:"/reports",element:o.jsx(qM,{})},{path:"/settings",element:o.jsx(HM,{})},{path:"*",element:o.jsx(rO,{})}];function iO(){return Dj(aO)}function lO(){return o.jsx(uM,{children:o.jsx(TI,{children:o.jsx(gA,{basename:"/",children:o.jsx(iO,{})})})})}nj.createRoot(document.getElementById("root")).render(o.jsx(I.StrictMode,{children:o.jsx(lO,{})}));
//# sourceMappingURL=index-DlbyIyZD.js.map
